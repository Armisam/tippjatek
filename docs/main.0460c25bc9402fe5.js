"use strict";(self.webpackChunktippjatek=self.webpackChunktippjatek||[]).push([[792],{708:()=>{let Va;function nl(){return Va}function vi(t){const e=Va;return Va=t,e}const m6=Symbol("NotFound");function Ev(t){return t===m6||"\u0275NotFound"===t?.name}function Iv(t,e){return Object.is(t,e)}Error;let sn=null,rl=!1,Tv=1;const Ut=Symbol("SIGNAL");function ae(t){const e=sn;return sn=t,e}const La={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function il(t){if(rl)throw new Error("");if(null===sn)return;sn.consumerOnSignalRead(t);const e=sn.producersTail;if(void 0!==e&&e.producer===t)return;let n;const r=sn.recomputing;if(r&&(n=void 0!==e?e.nextProducer:sn.producers,void 0!==n&&n.producer===t))return sn.producersTail=n,void(n.lastReadVersion=t.version);const i=t.consumersTail;if(void 0!==i&&i.consumer===sn&&(!r||function I6(t,e){const n=e.producersTail;if(void 0!==n){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(i,sn)))return;const o=ja(sn),s={producer:t,consumer:sn,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};sn.producersTail=s,void 0!==e?e.nextProducer=s:sn.producers=s,o&&xP(t,s)}function ol(t){if((!ja(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Tv)){if(!t.producerMustRecompute(t)&&!Bf(t))return void jf(t);t.producerRecomputeValue(t),jf(t)}}function NP(t){if(void 0===t.consumers)return;const e=rl;rl=!0;try{for(let n=t.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||y6(r)}}finally{rl=e}}function kP(){return!1!==sn?.consumerAllowSignalWrites}function y6(t){t.dirty=!0,NP(t),t.consumerMarkedDirty?.(t)}function jf(t){t.dirty=!1,t.lastCleanEpoch=Tv}function Ua(t){return t&&function v6(t){t.producersTail=void 0,t.recomputing=!0}(t),ae(t)}function sl(t,e){ae(e),t&&function E6(t){t.recomputing=!1;const e=t.producersTail;let n=void 0!==e?e.nextProducer:t.producers;if(void 0!==n){if(ja(t))do{n=bv(n)}while(void 0!==n);void 0!==e?e.nextProducer=void 0:t.producers=void 0}}(t)}function Bf(t){for(let e=t.producers;void 0!==e;e=e.nextProducer){const n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ol(n),r!==n.version))return!0}return!1}function al(t){if(ja(t)){let e=t.producers;for(;void 0!==e;)e=bv(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function xP(t,e){const n=t.consumersTail,r=ja(t);if(void 0!==n?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;void 0!==i;i=i.nextProducer)xP(i.producer,i)}function bv(t){const e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==r?r.prevConsumer=i:e.consumersTail=i,void 0!==i)i.nextConsumer=r;else if(e.consumers=r,!ja(e)){let o=e.producers;for(;void 0!==o;)o=bv(o)}return n}function ja(t){return t.consumerIsAlwaysLive||void 0!==t.consumers}const gs=Symbol("UNSET"),Ba=Symbol("COMPUTING"),ao=Symbol("ERRORED"),w6={...La,value:gs,dirty:!0,error:null,equal:Iv,kind:"computed",producerMustRecompute:t=>t.value===gs||t.value===Ba,producerRecomputeValue(t){if(t.value===Ba)throw new Error("");const e=t.value;t.value=Ba;const n=Ua(t);let r,i=!1;try{r=t.computation(),ae(null),i=e!==gs&&e!==ao&&r!==ao&&t.equal(e,r)}catch(o){r=ao,t.error=o}finally{sl(t,n)}i?t.value=e:(t.value=r,t.version++)}};let OP=function D6(){throw new Error};function FP(t){OP(t)}function C6(t,e){const n=Object.create(Av);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function A6(t){return il(t),t.value}(n);return r[Ut]=n,[r,s=>Hf(n,s),s=>function VP(t,e){kP()||FP(t),Hf(t,e(t.value))}(n,s)]}function Hf(t,e){kP()||FP(t),t.equal(t.value,e)||(t.value=e,function S6(t){t.version++,function _6(){Tv++}(),NP(t)}(t))}const Av={...La,equal:Iv,value:void 0,kind:"signal"};function Xe(t){return"function"==typeof t}function Sv(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Rv=Sv(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zf(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class an{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Xe(r))try{r()}catch(o){e=o instanceof Rv?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{jP(o)}catch(s){e=e??[],s instanceof Rv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jP(e);else{if(e instanceof an){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zf(n,e)}remove(e){const{_finalizers:n}=this;n&&zf(n,e),e instanceof an&&e._removeParent(this)}}an.EMPTY=(()=>{const t=new an;return t.closed=!0,t})();const LP=an.EMPTY;function UP(t){return t instanceof an||t&&"closed"in t&&Xe(t.remove)&&Xe(t.add)&&Xe(t.unsubscribe)}function jP(t){Xe(t)?t():t.unsubscribe()}const ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gf={setTimeout(t,e,...n){const{delegate:r}=Gf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Gf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function BP(t){Gf.setTimeout(()=>{const{onUnhandledError:e}=ms;if(!e)throw t;e(t)})}function Pv(){}const R6=Mv("C",void 0,void 0);function Mv(t,e,n){return{kind:t,value:e,error:n}}let _s=null;function qf(t){if(ms.useDeprecatedSynchronousErrorHandling){const e=!_s;if(e&&(_s={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=_s;if(_s=null,n)throw r}}else t()}class Nv extends an{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,UP(e)&&e.add(this)):this.destination=F6}static create(e,n,r){return new xv(e,n,r)}next(e){this.isStopped?Ov(function M6(t){return Mv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ov(function P6(t){return Mv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ov(R6,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k6=Function.prototype.bind;function kv(t,e){return k6.call(t,e)}class x6{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wf(r)}else Wf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wf(n)}}}class xv extends Nv{constructor(e,n,r){let i;if(super(),Xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ms.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kv(e.next,o),error:e.error&&kv(e.error,o),complete:e.complete&&kv(e.complete,o)}):i=e}this.destination=new x6(i)}}function Wf(t){ms.useDeprecatedSynchronousErrorHandling?function N6(t){ms.useDeprecatedSynchronousErrorHandling&&_s&&(_s.errorThrown=!0,_s.error=t)}(t):BP(t)}function Ov(t,e){const{onStoppedNotification:n}=ms;n&&Gf.setTimeout(()=>n(t,e))}const F6={closed:!0,next:Pv,error:function O6(t){throw t},complete:Pv},Fv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ys(t){return t}function $P(t){return 0===t.length?ys:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function U6(t){return t&&t instanceof Nv||function L6(t){return t&&Xe(t.next)&&Xe(t.error)&&Xe(t.complete)}(t)&&UP(t)}(n)?n:new xv(n,r,i);return qf(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=HP(r))((i,o)=>{const s=new xv({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Fv](){return this}pipe(...n){return $P(n)(this)}toPromise(n){return new(n=HP(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function HP(t){var e;return null!==(e=t??ms.Promise)&&void 0!==e?e:Promise}const j6=Sv(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Un=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zP(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j6}next(n){qf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?LP:(this.currentObservers=null,o.push(n),new an(()=>{this.currentObservers=null,zf(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new zP(e,n),t})();class zP extends Un{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:LP}}class _r extends Un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}class ul{full;major;minor;patch;constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const Vv=new ul("20.3.1"),GP="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class F extends Error{code;constructor(e,n){super(function Cn(t,e){return`${function B6(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const gt=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("")}function jn(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(jn).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Lv(t,e){return t?e?`${t} ${e}`:t:e||""}const z6=Re({__forward_ref__:Re});function We(t){return t.__forward_ref__=We,t.toString=function(){return jn(this())},t}function pe(t){return Kf(t)?t():t}function Kf(t){return"function"==typeof t&&t.hasOwnProperty(z6)&&t.__forward_ref__===We}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function cl(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qf(t){return function J6(t,e){return t.hasOwnProperty(e)&&t[e]||null}(t,Jf)}function Yf(t){return t&&t.hasOwnProperty(Uv)?t[Uv]:null}const Jf=Re({\u0275prov:Re}),Uv=Re({\u0275inj:Re});class ${_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bv(t){return t&&!!t.\u0275providers}const $v=Re({\u0275cmp:Re}),rW=Re({\u0275dir:Re}),iW=Re({\u0275pipe:Re}),qP=Re({\u0275mod:Re}),Es=Re({\u0275fac:Re}),hl=Re({__NG_ELEMENT_ID__:Re}),WP=Re({__NG_ENV_ID__:Re});function fe(t){return"string"==typeof t?t:null==t?"":String(t)}const Hv=Re({ngErrorCode:Re}),KP=Re({ngErrorMessage:Re}),fl=Re({ngTokenPath:Re});function zv(t,e){return QP("",-200,e)}function Gv(t,e){throw new F(-201,!1)}function QP(t,e,n){const r=new F(e,t);return r[Hv]=e,r[KP]=t,n&&(r[fl]=n),r}let qv;function YP(){return qv}function Bn(t){const e=qv;return qv=t,e}function JP(t,e,n){const r=Qf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void Gv()}const Is={},Wv="__NG_DI_FLAG__";class lW{injector;constructor(e){this.injector=e}retrieve(e,n){const r=pl(n)||0;try{return this.injector.get(e,8&r?null:Is,r)}catch(i){if(Ev(i))return i;throw i}}}function dW(t,e=0){const n=nl();if(void 0===n)throw new F(-203,!1);if(null===n)return JP(t,void 0,e);{const r=function hW(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(e),i=n.retrieve(t,r);if(Ev(i)){if(r.optional)return null;throw i}return i}}function oe(t,e=0){return(YP()||dW)(pe(t),e)}function x(t,e){return oe(t,pl(e))}function pl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kv(t){const e=[];for(let n=0;n<t.length;n++){const r=pe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],u=fW(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function gl(t,e){return t[Wv]=e,t.prototype[Wv]=e,t}function fW(t){return t[Wv]}function Ts(t,e){return t.hasOwnProperty(Es)?t[Es]:null}function $a(t,e){t.forEach(n=>Array.isArray(n)?$a(n,e):e(n))}function ZP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Kr={},Ke=[],vr=new $(""),nM=new $("",-1),Yv=new $("");class np{get(e,n=Is){if(n===Is){const i=QP("",-201);throw i.name="\u0275NotFound",i}return n}}function Qr(t){return t[qP]||null}function Pe(t){return t[$v]||null}function An(t){return t[rW]||null}function Mr(t){return t[iW]||null}function Ei(t){return{\u0275providers:t}}function _W(...t){return{\u0275providers:Xv(0,t),\u0275fromNgModule:!0}}function Xv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return $a(e,s=>{const a=s;rp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&rM(i,o),n}function rM(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Zv(i,o=>{e(o,r)})}}function rp(t,e,n,r){if(!(t=pe(t)))return!1;let i=null,o=Yf(t);const s=!o&&Pe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Yf(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)rp(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{$a(o.imports,d=>{rp(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&rM(c,e)}if(!a){const c=Ts(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ke},i),e({provide:Yv,useValue:i,multi:!0},i),e({provide:vr,useValue:()=>oe(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;Zv(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function Zv(t,e){for(let n of t)Bv(n)&&(n=n.\u0275providers),Array.isArray(n)?Zv(n,e):e(n)}const yW=Re({provide:String,useValue:Re});function eE(t){return null!==t&&"object"==typeof t&&yW in t}function Ii(t){return"function"==typeof t}const tE=new $(""),ip={},aM={};let nE;function rE(){return void 0===nE&&(nE=new np),nE}class Yt{}class ws extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,oE(e,s=>this.processProvider(s)),this.records.set(nM,za(void 0,this)),i.has("environment")&&this.records.set(Yt,za(void 0,this));const o=this.records.get(tE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yv,Ke,{self:!0}))}retrieve(e,n){const r=pl(n)||0;try{return this.get(e,Is,r)}catch(i){if(Ev(i))return i;throw i}}destroy(){_l(this),this._destroyed=!0;const e=ae(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return _l(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_l(this);const n=vi(this),r=Bn(void 0);try{return e()}finally{vi(n),Bn(r)}}get(e,n=Is,r){if(_l(this),e.hasOwnProperty(WP))return e[WP](this);const i=pl(r),s=vi(this),a=Bn(void 0);try{if(!(4&i)){let c=this.records.get(e);if(void 0===c){const d=function wW(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(e)&&Qf(e);c=d&&this.injectableDefInScope(d)?za(iE(e),ip):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c,i)}return(2&i?rE():this.parent).get(e,n=8&i&&n===Is?null:n)}catch(u){const c=function uW(t){return t[Hv]}(u);throw-200===c||-201===c?new F(c,null):u}finally{Bn(a),vi(s)}}resolveInjectorInitializers(){const e=ae(null),n=vi(this),r=Bn(void 0);try{const o=this.get(vr,Ke,{self:!0});for(const s of o)s()}finally{vi(n),Bn(r),ae(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(jn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=Ii(e=pe(e))?e:pe(e&&e.provide);const r=function EW(t){return eE(t)?za(void 0,t.useValue):za(function uM(t,e,n){let r;if(Ii(t)){const i=pe(t);return Ts(i)||iE(i)}if(eE(t))r=()=>pe(t.useValue);else if(function oM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Kv(t.deps||[]));else if(function iM(t){return!(!t||!t.useExisting)}(t))r=(i,o)=>oe(pe(t.useExisting),void 0!==o&&8&o?8:void 0);else{const i=pe(t&&(t.useClass||t.provide));if(!function IW(t){return!!t.deps}(t))return Ts(i)||iE(i);r=()=>new i(...Kv(t.deps))}return r}(t),ip)}(e);if(!Ii(e)&&!0===e.multi){let i=this.records.get(n);i||(i=za(void 0,ip,!0),i.factory=()=>Kv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){const i=ae(null);try{if(n.value===aM)throw zv(jn(e));return n.value===ip&&(n.value=aM,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function TW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=pe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function iE(t){const e=Qf(t),n=null!==e?e.factory:Ts(t);if(null!==n)return n;if(t instanceof $)throw new F(204,!1);if(t instanceof Function)return function vW(t){if(t.length>0)throw new F(204,!1);const n=function X6(t){return(t?.[Jf]??null)||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new F(204,!1)}function _l(t){if(t.destroyed)throw new F(205,!1)}function za(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oE(t,e){for(const n of t)Array.isArray(n)?oE(n,e):n&&Bv(n)?oE(n.\u0275providers,e):e(n)}function cn(t,e){let n;t instanceof ws?(_l(t),n=t):n=new lW(t);const i=vi(n),o=Bn(void 0);try{return e()}finally{vi(i),Bn(o)}}function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dn(t){return Array.isArray(t)&&!0===t[1]}function lM(t){return!!(4&t.flags)}function Yr(t){return t.componentOffset>-1}function Qa(t){return!(1&~t.flags)}function ir(t){return!!t.template}function ho(t){return!!(512&t[2])}function wi(t){return!(256&~t[2])}function At(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return At(e[t.index])}function Ja(t,e){return t.data[e]}function Sn(t,e){const n=e[t];return ft(n)?n:n[0]}function lE(t){return!(128&~t[2])}function hn(t,e){return null==e?null:t[e]}function mM(t){t[17]=0}function _M(t){1024&t[2]||(t[2]|=1024,lE(t)&&Xa(t))}function up(t){return!!(9216&t[2]||t[24]?.dirty)}function dE(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),up(t)&&Xa(t)}function Xa(t){t[10].changeDetectionScheduler?.notify(0);let e=Di(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,lE(e));)e=Di(e)}function cp(t,e){if(wi(t))throw new F(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function Di(t){const e=t[3];return dn(e)?e[3]:e}const ce={lFrame:xM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let pE=!1;function mE(){return null!==ce.skipHydrationRootTNode}function L(){return ce.lFrame.lView}function ge(){return ce.lFrame.tView}function lp(t){return ce.lFrame.contextLView=t,t[8]}function dp(t){return ce.lFrame.contextLView=null,t}function he(){let t=DM();for(;null!==t&&64===t.type;)t=t.parent;return t}function DM(){return ce.lFrame.currentTNode}function bi(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function bM(){return ce.lFrame.isParent}function RM(){return pE}function hp(t){const e=pE;return pE=t,e}function Hn(){return ce.lFrame.bindingIndex++}function VW(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,_E(e)}function _E(t){ce.lFrame.currentDirectiveIndex=t}function fp(t){ce.lFrame.currentQueryIndex=t}function UW(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function NM(t,e,n){if(4&n){let i=e,o=t;for(;!(i=i.parent,null!==i||1&n||(i=UW(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ce.lFrame=kM();return r.currentTNode=e,r.lView=t,!0}function EE(t){const e=kM(),n=t[1];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kM(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?xM(t):e}function xM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OM(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FM=OM;function IE(){const t=OM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jt(){return ce.lFrame.selectedIndex}function As(t){ce.lFrame.selectedIndex=t}function kr(){const t=ce.lFrame;return Ja(t.tView,t.selectedIndex)}function VM(){return ce.lFrame.currentNamespace}let LM=!0;function pp(){return LM}function Si(t){LM=t}function UM(t,e=null,n=null,r){const i=jM(t,e,n,r);return i.resolveInjectorInitializers(),i}function jM(t,e=null,n=null,r,i=new Set){const o=[n||Ke,_W(t)];return r=r||("object"==typeof t?void 0:jn(t)),new ws(o,e||rE(),r||null,i)}class fn{static THROW_IF_NOT_FOUND=Is;static NULL=new np;static create(e,n){if(Array.isArray(e))return UM({name:""},n,e,"");{const r=e.name??"";return UM({name:r},e.parent,e.providers,r)}}static \u0275prov=J({token:fn,providedIn:"any",factory:()=>oe(nM)});static __NG_ELEMENT_ID__=-1}const Tr=new $("");let or=(()=>class t{static __NG_ELEMENT_ID__=GW;static __NG_ENV_ID__=n=>n})();class BM extends or{_lView;constructor(e){super(),this._lView=e}get destroyed(){return wi(this._lView)}onDestroy(e){const n=this._lView;return cp(n,e),()=>function hE(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e)}}function GW(){return new BM(L())}class eu{_console=console;handleError(e){this._console.error("ERROR",e)}}const xr=new $("",{providedIn:"root",factory:()=>{const t=x(Yt);let e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(eu),e.handleError(n))}}}),$M={provide:vr,useValue:()=>{x(eu)},multi:!0},qW=new $("",{providedIn:"root",factory:()=>{const t=x(Tr).defaultView;if(!t)return;const e=x(xr),n=o=>{e(o.reason),o.preventDefault()},r=o=>{e(o.error?o.error:new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),x(or).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function $t(t,e){const[n,r,i]=C6(t,e?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=TE.bind(o),o}function TE(){const t=this[Ut];if(void 0===t.readonlyFn){const e=()=>this();e[Ut]=t,t.readonlyFn=e}return t.readonlyFn}class fo{}const gp=new $("",{providedIn:"root",factory:()=>!1}),GM=new $(""),wE=new $("");let DE=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=KW})();function KW(){return new DE(L(),he())}let po=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _r(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new qe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})(),Il=(()=>{class t{internalPendingTasks=x(po);scheduler=x(fo);errorHandler=x(xr);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();function Tl(...t){}let qM=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new QW})}return t})();class QW{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)e||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let WM=null;function go(){return WM}class JW{}let bE=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(XW),providedIn:"platform"})}return t})(),XW=(()=>{class t extends bE{_location;_history;_doc=x(Tr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return go().getBaseHref(this._doc)}onPopState(n){const r=go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function CE(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function KM(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function Ri(t){return t&&"?"!==t[0]?`?${t}`:t}let tu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(ZW),providedIn:"root"})}return t})();const QM=new $("");let ZW=(()=>{class t extends tu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Tr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return CE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ri(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ri(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(bE),oe(QM,8))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wl=(()=>{class t{_subject=new Un;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function n5(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(KM(YM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ri(r))}normalize(n){return t.stripTrailingSlash(function t5(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,YM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ri;static joinWithSlash=CE;static stripTrailingSlash=KM;static \u0275fac=function(r){return new(r||t)(oe(tu))};static \u0275prov=J({token:t,factory:()=>function e5(){return new wl(oe(tu))}(),providedIn:"root"})}return t})();function YM(t){return t.replace(/\/index.html$/,"")}function JM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class XM{}function lN(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){lN(o,r,i,s,a,"next",u)}function a(u){lN(o,r,i,s,a,"throw",u)}s(void 0)})}}function dN(t){return Xe(t?.lift)}function Xt(t){return e=>{if(dN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(t,e,n,r,i){return new N5(t,e,n,r,i)}class N5 extends Nv{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return Xt((n,r)=>{let i=0;n.subscribe(Ot(r,o=>{r.next(t.call(e,o,i++))}))})}function Pi(t){return{toString:t}.toString()}const ru="__parameters__";function ou(t,e,n){return Pi(()=>{const r=function PE(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(ru)?u[ru]:Object.defineProperty(u,ru,{value:[]})[ru];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Or=gl(ou("Optional"),8);class z5{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function gN(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const Fr=(()=>{const t=()=>mN;return t.ngInherit=!0,t})();function mN(t){return t.type.prototype.ngOnChanges&&(t.setInput=q5),G5}function G5(){const t=yN(this),e=t?.current;if(e){const n=t.previous;if(n===Kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function q5(t,e,n,r,i){const o=this.declaredInputs[r],s=yN(t)||function W5(t,e){return t[_N]=e}(t,{previous:Kr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new z5(c&&c.currentValue,n,u===Kr),gN(t,e,i,n)}const _N="__ngSimpleChanges__";function yN(t){return t[_N]||null}const Ss=[],Me=function(t,e=null,n){for(let r=0;r<Ss.length;r++)(0,Ss[r])(t,e,n)};function Ep(t,e,n){EN(t,e,3,n)}function Ip(t,e,n,r){(3&t[2])===n&&EN(t,e,n,r)}function NE(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function EN(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[17]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[17]+=65536),(a<o||-1==o)&&(X5(t,n,e,u),t[17]=(4294901760&t[17])+u+2),u++}function IN(t,e){Me(4,t,e);const n=ae(null);try{e.call(t)}finally{ae(n),Me(5,t,e)}}function X5(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,IN(a,o)):IN(a,o)}class Sl{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}}function wN(t){return 3===t||4===t||6===t}function DN(t){return 64===t.charCodeAt(0)}function au(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||bN(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function bN(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function xE(t){return-1!==t}function Rl(t){return 32767&t}function Pl(t,e){let n=function n8(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let OE=!0;function Tp(t){const e=OE;return OE=t,e}let r8=0;const Jr={};function wp(t,e){const n=SN(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,FE(r.data,t),FE(e,null),FE(r.blueprint,null));const i=Dp(t,e),o=t.injectorIndex;if(xE(i)){const s=Rl(i),a=Pl(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function FE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Dp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ON(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function VE(t,e,n){!function i8(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hl)&&(r=n[hl]),null==r&&(r=n[hl]=r8++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function RN(t,e,n){if(8&n||void 0!==t)return t;Gv()}function PN(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=t[9],o=Bn(void 0);try{return i?i.get(e,r,8&n):JP(e,r,8&n)}finally{Bn(o)}}return RN(r,0,n)}function MN(t,e,n,r=0,i){if(null!==t){if(2048&e[2]&&!(2&r)){const s=function c8(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!ho(s);){const a=NN(o,s,n,2|r,Jr);if(a!==Jr)return a;let u=o.parent;if(!u){const c=s[20];if(c){const d=c.get(n,Jr,r);if(d!==Jr)return d}u=ON(s),s=s[14]}o=u}return i}(t,e,n,r,Jr);if(s!==Jr)return s}const o=NN(t,e,n,r,Jr);if(o!==Jr)return o}return PN(e,n,r,i)}function NN(t,e,n,r,i){const o=function a8(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hl)?t[hl]:void 0;return"number"==typeof e?e>=0?255&e:u8:e}(n);if("function"==typeof o){if(!NM(e,t,r))return 1&r?RN(i,0,r):PN(e,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;Gv()}finally{FM()}}else if("number"==typeof o){let s=null,a=SN(t,e),u=-1,c=1&r?e[15][5]:null;for((-1===a||4&r)&&(u=-1===a?Dp(t,e):e[a+8],-1!==u&&xN(r,!1)?(s=e[1],a=Rl(u),e=Pl(u,e)):a=-1);-1!==a;){const d=e[1];if(kN(o,a,d.data)){const h=s8(a,e,n,s,r,c);if(h!==Jr)return h}u=e[a+8],-1!==u&&xN(r,e[1].data[a+8]===c)&&kN(o,a,e)?(s=d,a=Rl(u),e=Pl(u,e)):a=-1}}return i}function s8(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],d=function bp(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,f=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<f;g++){const _=s[g];if(g<u&&n===_||g>=u&&_.type===n)return g}if(i){const g=s[u];if(g&&ir(g)&&g.type===n)return u}return null}(a,s,n,null==r?Yr(a)&&OE:r!=s&&!!(3&a.type),1&i&&o===a);return null!==d?Ml(e,s,d,a,i):Jr}function Ml(t,e,n,r,i){let o=t[n];const s=e.data;if(o instanceof Sl){const a=o;if(a.resolving)throw function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(s[n]),zv();const u=Tp(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Bn(a.injectImpl):null;NM(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function J5(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=mN(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,s[n],e)}finally{null!==h&&Bn(h),Tp(u),a.resolving=!1,FM()}}return o}function kN(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function xN(t,e){return!(2&t||1&t&&e)}class _t{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MN(this._tNode,this._lView,e,pl(r),n)}}function u8(){return new _t(he(),L())}function Ht(t){return Pi(()=>{const e=t.prototype.constructor,n=e[Es]||LE(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Es]||LE(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function LE(t){return Kf(t)?()=>{const e=LE(pe(t));return e&&e()}:Ts(t)}function ON(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function Nl(t){return function o8(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(wN(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(he(),t)}function _8(){return uu(he(),L())}function uu(t,e){return new sr(Tt(t,e))}let sr=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=_8})();function jE(t){const e=t.mergedAttrs;if(null===e)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if("number"==typeof r)return!1;if("string"==typeof r&&"ngskiphydration"===r.toLowerCase())return!0}return!1}function BN(t){return t.hasAttribute("ngSkipHydration")}function kl(t){return!(128&~t.flags)}Symbol;var Ap=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ap||{});const Sp=new Map;let T8=0;function BE(t){Sp.delete(t[19])}const HE="__ngContext__";function Gn(t,e){ft(e)?(t[HE]=e[19],function D8(t){Sp.set(t[19],t)}(e)):t[HE]=e}function JN(t){return ZN(t[12])}function XN(t){return ZN(t[4])}function ZN(t){for(;null!==t&&!dn(t);)t=t[4];return t}let zE;function Xr(){if(void 0!==zE)return zE;if(typeof document<"u")return document;throw new F(210,!1)}const Mi=new $("",{providedIn:"root",factory:()=>q8}),q8="ng",sk=new $(""),Ol=new $("",{providedIn:"platform",factory:()=>"unknown"}),ak=new $("",{providedIn:"root",factory:()=>Xr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Q8(){const t=new _o;return t.store=function uk(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Xr(),x(Mi)),t}let _o=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:Q8});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const Pp=new $(""),yk=new $("",{providedIn:"root",factory:()=>!1}),vk=new $(""),n9=new $(""),QE=new $("",{providedIn:"root",factory:()=>new Map}),Fl="ngb",wk=t=>{t.removeAttribute("jsaction"),t.removeAttribute(Fl),t.__jsaction_fns=void 0},a9=new $("",{providedIn:"root",factory:()=>({})});function Dk(t,e){const n=e?.__jsaction_fns?.get(t.type);if(n&&e?.isConnected)for(const r of n)r(t)}const eI=new Map;let bk=!1,Ck=(t,e,n,r)=>{};const yo=new $("");function xp(t){return!(32&~t.flags)}const Sk="__nghData__";let Pk=()=>null;function f9(t,e,n=!1){let r=t.getAttribute("ngh");if(null==r)return null;const[i,o]=r.split("|");if(r=n?o:i,!r)return null;const a=n?i:o?`|${o}`:"";let u={};if(""!==r){const d=e.get(_o,null,{optional:!0});null!==d&&(u=d.get(Sk,[])[Number(r)])}const c={data:u,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Fp(c,0,t.nextSibling)),a?t.setAttribute("ngh",a):t.removeAttribute("ngh"),c}function Mk(t,e,n=!1){return Pk(t,e,n)}function g9(t){let e=t._lView;return 2===e[1].type?null:(ho(e)&&(e=e[27]),e)}function Fp(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function rI(t,e){return t.segmentHeads?.[e]??null}function xk(t,e){return t.data.c?.[e]??null}function iI(t,e){const n=xk(t,e)??[];let r=0;for(let i of n)r+=i.r*(i.x??1);return r}function Lp(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data.d;t.disconnectedNodes=n?new Set(n):null}return!!function Ok(t){if(typeof t.disconnectedNodes>"u"){const e=t.data.d;t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}(t)?.has(e)}function Up(t,e){const n=t[6];return null!==n&&!mE()&&!xp(e)&&!Lp(n,e.index-27)}function sI(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()}function Vk(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function Lk(t,e){const n=t.contentQueries;if(null!==n){const r=ae(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];fp(n[i]),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function aI(t,e,n){fp(0);const r=ae(null);try{e(t,n)}finally{ae(r)}}function uI(t,e,n){if(lM(e)){const r=ae(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ae(r)}}}var Ni=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ni||{});let Bp;function $k(t){return function cI(){if(void 0===Bp&&(Bp=null,gt.trustedTypes))try{Bp=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bp}()?.createScriptURL(t)||t}class Hk{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${GP})`}}function vo(t){return t instanceof Hk?t.changingThisBreaksApplicationSecurity:t}function Ul(t,e){const n=function F9(t){return t instanceof Hk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${GP})`)}return n===e}const j9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fu||{});function Xk(t){const e=Bl();return e?e.sanitize(fu.URL,t)||"":Ul(t,"URL")?vo(t):function lI(t){return(t=String(t)).match(j9)?t:"unsafe:"+t}(fe(t))}function Zk(t){const e=Bl();if(e)return $k(e.sanitize(fu.RESOURCE_URL,t)||"");if(Ul(t,"ResourceURL"))return $k(vo(t));throw new F(904,!1)}function ex(t,e,n){return function t7(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Zk:Xk}(e,n)(t)}function Bl(){const t=L();return t&&t[10].sanitizer}const n7=/^>|^->|<!--|-->|--!>|<!-$/g,r7=/(<|>)/g;function Zr(t){return t instanceof Function?t():t}function m7(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const cx="ng-template";function _7(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==m7(e[i+1].toLowerCase(),n,0))return!0}else if(mI(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function mI(t){return 4===t.type&&t.value!==cx}function y7(t,e,n){return e===(4!==t.type||n?t.value:cx)}function v7(t,e,n){let r=4;const i=t.attrs,o=null!==i?function T7(t){for(let e=0;e<t.length;e++)if(wN(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!y7(t,u,n)||""===u&&1===e.length){if(Vr(r))return!1;s=!0}}else if(8&r){if(null===i||!_7(t,i,u,n)){if(Vr(r))return!1;s=!0}}else{const c=e[++a],d=E7(u,i,mI(t),n);if(-1===d){if(Vr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(Vr(r))return!1;s=!0}}}}else{if(!s&&!Vr(r)&&!Vr(u))return!1;if(s&&Vr(u))continue;s=!1,r=u|1&r}}return Vr(r)||s}function Vr(t){return!(1&t)}function E7(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function w7(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function lx(t,e,n=!1){for(let r=0;r<e.length;r++)if(v7(t,e[r],n))return!0;return!1}function dx(t,e){return t?":not("+e.trim()+")":e}function b7(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Vr(s)&&(e+=dx(o,i),i=""),r=s,o=o||!Vr(r);n++}return""!==i&&(e+=dx(o,i)),e}const Ne={};function _I(t,e){return t.createText(e)}function yI(t,e){return t.createComment(function tx(t){return t.replace(n7,e=>e.replace(r7,"\u200b$1\u200b"))}(e))}function Gp(t,e,n){return t.createElement(e,n)}function Ps(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fx(t,e,n){t.appendChild(e,n)}function px(t,e,n,r,i){null!==r?Ps(t,e,n,r,i):fx(t,e,n)}function $l(t,e,n){t.removeChild(null,e,n)}function gx(t){t.textContent=""}function mx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function t8(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];DN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function R7(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function S7(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function vI(t,e,n,r,i,o,s,a,u,c,d){const h=27+r,f=h+i,g=function P7(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ne);return n}(h,f),_="function"==typeof c?c():c;return g[1]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:d}}function qp(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==c||t&&2048&t[2])&&(h[2]|=2048),mM(h),h[3]=h[14]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[9]=u||t&&t[9]||null,h[5]=o,h[19]=function w8(){return T8++}(),h[6]=d,h[20]=c,h[15]=2==e.type?t[15]:h,h}function EI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Hl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function II(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function zt(t=1){yx(ge(),L(),Jt()+t,!1)}function yx(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&Ip(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Ep(e,o,n)}As(n)}var Wp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wp||{});function zl(t,e,n,r){const i=ae(null);try{const[o,s,a]=t.inputs[n];let u=null;0!==(s&Wp.SignalBased)&&(u=e[o][Ut]),null!==u&&void 0!==u.transformFn?r=u.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,u,r,n,o):gN(e,u,o,r)}finally{ae(i)}}var Eo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Eo||{});function wI(t,e){return undefined(t,e)}const Qp=new Set;function mu(t,e,n,r,i,o){if(null!=r){let s,a=!1;dn(r)?s=r:ft(r)&&(a=!0,r=r[0]);const u=At(r);0===t&&null!==n?null==i?fx(e,n,u):Ps(e,n,u,i||null,!0):1===t&&null!==n?Ps(e,n,u,i||null,!0):2===t?Dx(o,()=>{$l(e,u,a)}):3===t&&Dx(o,()=>{e.destroyNode(u)}),null!=s&&function H7(t,e,n,r,i){const o=n[7];o!==At(n)&&mu(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];Jp(u[1],u,t,e,r,o)}}(e,t,s,n,i)}}function wx(t,e){e[10].changeDetectionScheduler?.notify(9),Jp(t,e,e[11],2,null,null)}function DI(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function Gl(t,e){if(wi(e))return;const n=e[11];n.destroyNode&&Jp(t,e,n,3,null,null),function L7(t){let e=t[12];if(!e)return bI(t[1],t);for(;e;){let n=null;if(ft(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&bI(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&bI(e[1],e),n=e&&e[4]}e=n}}(e)}function bI(t,e){if(wi(e))return;const n=ae(null);try{e[2]&=-129,e[2]|=256,e[24]&&al(e[24]),function B7(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Sl)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}(t,e),function j7(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&dn(e[3])){r!==e[3]&&DI(r,e);const i=e[18];null!==i&&i.detachView(t)}BE(e)}finally{ae(n)}}function Dx(t,e){if(t&&t[26]&&t[26].leave)if(t[26].skipLeaveAnimations)t[26].skipLeaveAnimations=!1;else{const n=t[26].leave,r=[];for(let i=0;i<n.length;i++)r.push((0,n[i])());t[26].running=Promise.allSettled(r),t[26].leave=void 0}!function U7(t,e){t&&t[26]&&t[26].running?t[26].running.then(()=>{t[26]&&t[26].running&&(t[26].running=void 0),Qp.delete(t),e()}):e()}(t,e)}function CI(t,e,n){return function bx(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(Yr(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ni.None||i===Ni.Emulated)return null}return Tt(r,n)}(t,e.parent,n)}let Sx=function Ax(t,e,n){return 40&t.type?Tt(t,n):null};function SI(t,e,n,r){const i=CI(t,r,e),o=e[11],a=function Cx(t,e,n){return Sx(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)px(o,i,n[u],a,!1);else px(o,i,n,a,!1)}function Ms(t,e){if(null!==e){const n=e.type;if(3&n)return Tt(e,t);if(4&n)return Yp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ms(t,r);{const i=t[e.index];return dn(i)?Yp(-1,i):At(i)}}if(128&n)return Ms(t,e.next);if(32&n)return wI(e,t)()||At(t[e.index]);{const r=Px(t,e);return null!==r?Array.isArray(r)?r[0]:Ms(Di(t[15]),r):Ms(t,e.next)}}return null}function Px(t,e){return null!==e?t[15][5].projection[e.projection]:null}function Yp(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ms(r,i)}return e[7]}function RI(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Gn(At(a),r),n.flags|=2),!xp(n))if(8&u)RI(t,e,n.child,r,i,o,!1),mu(e,t,i,a,o,r);else if(32&u){const c=wI(n,r);let d;for(;d=c();)mu(e,t,i,d,o,r);mu(e,t,i,a,o,r)}else 16&u?Mx(t,e,r,n,i,o):mu(e,t,i,a,o,r);n=s?n.projectionNext:n.next}}function Jp(t,e,n,r,i,o){RI(n,r,t.firstChild,e,i,o,!1)}function Mx(t,e,n,r,i,o){const s=n[15],u=s[5].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)mu(e,t,i,u[c],o,n);else{let c=u;const d=s[3];kl(r)&&(c.flags|=128),RI(t,e,c,d,i,o,!0)}}function Nx(t,e,n,r,i){const o=Jt(),s=2&r;try{As(-1),s&&e.length>27&&yx(t,e,27,!1),Me(s?2:0,i,n),n(r,i)}finally{As(o),Me(s?3:1,i,n)}}function Xp(t,e,n){(function Y7(t,e,n){const r=n.directiveStart,i=n.directiveEnd;Yr(n)&&function M7(t,e,n){const r=Tt(e,t),i=function _x(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=II(t,qp(t,i,null,EI(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||wp(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],u=Ml(e,t,s,n);Gn(u,e),null!==o&&eK(0,s-r,u,a,0,o),ir(a)&&(Sn(n.index,e)[8]=Ml(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function J7(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function LW(){return ce.lFrame.currentDirectiveIndex}();try{As(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];_E(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&X7(u,c)}}finally{As(-1),_E(s)}}(t,e,n)}function _u(t,e,n=Tt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let kx=()=>null;function W7(t){BN(t)?gx(t):function _9(t){const e=Xr(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function m9(t){return t.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=n.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(t)}function PI(t,e,n,r,i,o){ng(t,e[1],e,n,r)?Yr(t)&&function xx(t,e){const n=Sn(e,t);16&n[2]||(n[2]|=64)}(e,t.index):(3&t.type&&(n=function Q7(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n)),function MI(t,e,n,r,i,o){if(3&t.type){const s=Tt(t,e);r=null!=o?o(r,t.value||"",n):r,i.setProperty(s,n,r)}}(t,e,n,r,i,o))}function X7(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function NI(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];lx(e,o.selectors,!1)&&(r??=[],ir(o)?r.unshift(o):r.push(o))}return r}function eK(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)zl(r,n,s[a],s[a+1])}function tg(t){let e=t;return bM()?function CM(){ce.lFrame.isParent=!1}():(e=e.parent,bi(e,!1)),e}function kI(t,e){const n=t[9];if(!n)return;let r;try{r=n.get(xr,null)}catch{r=null}r?.(e)}function ng(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let u=0;u<s.length;u+=2){const c=s[u];zl(e.data[c],n[c],s[u+1],i),a=!0}if(o)for(const u of o)zl(e.data[u],n[u],r,i),a=!0;return a}function nK(t,e){const n=Sn(e,t),r=n[1];!function rK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=Mk(i,n[9])),Me(18),rg(r,n,n[8]),Me(19,n[8])}function rg(t,e,n){EE(e);try{const r=t.viewQuery;null!==r&&aI(1,r,n);const i=t.template;null!==i&&Nx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&Lk(t,e),t.staticViewQueries&&aI(2,t.viewQuery,n);const o=t.components;null!==o&&function iK(t,e){for(let n=0;n<e.length;n++)nK(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,IE()}}function yu(t,e,n,r){const i=ae(null);try{const o=e.tView,u=qp(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[16]=t[e.index];const d=t[18];return null!==d&&(u[18]=d.createEmbeddedView(o)),rg(o,u,n),u}finally{ae(i)}}function Ns(t,e){return!e||null===e.firstChild||kl(t)}function ql(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(At(o)),dn(o)&&oK(o,r);const s=n.type;if(8&s)ql(t,e,n.child,r);else if(32&s){const a=wI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Px(e,n);if(Array.isArray(a))r.push(...a);else{const u=Di(e[15]);ql(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oK(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&ql(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function Vx(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let Lx=[];const cK={...La,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Xa(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},dK={...La,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Di(t.lView);for(;e&&!Ux(e[1]);)e=Di(e);e&&_M(e)},consumerOnSignalRead(){this.lView[24]=this}};function Ux(t){return 2!==t.type}function jx(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function ig(t,e=0){const r=t[10].rendererFactory;r.begin?.();try{!function fK(t,e){const n=RM();try{hp(!0),xI(t,e);let r=0;for(;up(t);){if(100===r)throw new F(103,!1);r++,xI(t,1)}}finally{hp(n)}}(t,e)}finally{r.end?.()}}function Bx(t,e,n,r){if(wi(e))return;const i=e[2];EE(e);let a=!0,u=null,c=null;Ux(t)?(c=function sK(t){return t[24]??function aK(t){const e=Lx.pop()??Object.create(cK);return e.lView=t,e}(t)}(e),u=Ua(c)):null===function Dv(){return sn}()?(a=!1,c=function lK(t){const e=t[24]??Object.create(dK);return e.lView=t,e}(e),u=Ua(c)):e[24]&&(al(e[24]),e[24]=null);try{mM(e),function PM(t){return ce.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Nx(t,e,n,2,r),function pK(t){const e=t[26];if(e?.enter){for(const n of e.enter)n();e.enter=void 0}}(e);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Ep(e,g,null)}else{const g=t.preOrderHooks;null!==g&&Ip(e,g,0,null),NE(e,0)}if(function gK(t){for(let e=JN(t);null!==e;e=XN(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)_M(n[r])}}(e),jx(e),$x(e,0),null!==t.contentQueries&&Lk(t,e),d){const g=t.contentCheckHooks;null!==g&&Ep(e,g)}else{const g=t.contentHooks;null!==g&&Ip(e,g,1),NE(e,1)}!function _K(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)As(~i);else{const o=i,s=n[++r],a=n[++r];VW(s,o);const u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{As(-1)}}(t,e);const h=t.components;null!==h&&zx(e,h,0);const f=t.viewQuery;if(null!==f&&aI(2,f,r),d){const g=t.viewCheckHooks;null!==g&&Ep(e,g)}else{const g=t.viewHooks;null!==g&&Ip(e,g,2),NE(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const g of e[22])g();e[22]=null}Vx(e),e[2]&=-73}catch(d){throw Xa(e),d}finally{null!==c&&(sl(c,u),a&&function uK(t){t.lView[24]!==t&&(t.lView=null,Lx.push(t))}(c)),IE()}}function $x(t,e){for(let n=JN(t);null!==n;n=XN(n))for(let r=10;r<n.length;r++)Hx(n[r],e)}function mK(t,e,n){Me(18);const r=Sn(e,t);Hx(r,n),Me(19,r[8])}function Hx(t,e){lE(t)&&xI(t,e)}function xI(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!Bf(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)Bx(r,t,r.template,t[8]);else if(8192&i){const a=ae(null);try{jx(t),$x(t,1);const u=r.components;null!==u&&zx(t,u,1),Vx(t)}finally{ae(a)}}}function zx(t,e,n){for(let r=0;r<e.length;r++)mK(t,e[r],n)}function vu(t,e){const n=RM()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=Di(t);if(ho(t)&&!r)return t;t=r}return null}function Gx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qx(t,e){const n=10+e;if(n<t.length)return t[n]}function Eu(t,e,n,r=!0){const i=e[1];if(function yK(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ZP(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&Wx(s,e);const a=e[18];null!==a&&a.insertView(t),dE(e),e[2]|=128}(i,e,t,n),r){const s=Yp(n,t),a=e[11],u=a.parentNode(t[7]);null!==u&&function V7(t,e,n,r,i,o){r[0]=i,r[5]=e,Jp(t,r,n,1,i,o)}(i,t[5],a,e,u,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function OI(t,e){const n=Wl(t,e);return void 0!==n&&Gl(n[1],n),n}function Wl(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&DI(i,r),e>0&&(t[n-1][4]=r[4]);const o=Zf(t,10+e);!function Tx(t,e){wx(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Wx(t,e){const n=t[9],r=e[3];(ft(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}class Kl{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const e=this._lView,n=e[1];return ql(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return wi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(dn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Wl(e,r),Zf(n,r))}this._attachedToViewContainer=!1}Gl(this._lView[1],this._lView)}onDestroy(e){cp(this._lView,e)}markForCheck(){vu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){dE(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,ig(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=ho(this._lView),n=this._lView[16];null!==n&&!e&&DI(n,this._lView),wx(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;const n=ho(this._lView),r=this._lView[16];null!==r&&!n&&Wx(r,this._lView),dE(this._lView)}}function ks(t,e,n,r,i){let o=t.data[e];if(null===o)o=function UI(t,e,n,r,i){const o=DM(),s=bM(),u=t.data[e]=function SK(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mE()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function AK(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,u,o,s),u}(t,e,n,r,i),function FW(){return ce.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function El(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return bi(o,!0),o}const LK=new RegExp("^(\\d+)*(b|h)*(.*)");function BI(t){return t.index-27}function Zl(t,e,n,r){const i=BI(r);let o=function oO(t,e){const n=t.i18nNodes;if(n)return n.get(e)}(t,i);if(void 0===o){const s=t.data.n;if(s?.[i])o=function sO(t,e){const[n,...r]=function jK(t){const e=t.match(LK),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[u,c,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(c,h)}return[s,...a]}(t);let i;i="h"===n?e[15][0]:"b"===n?function ox(t){return t.ownerDocument.body}(e[15][0]):At(e[Number(n)+27]);return function zK(t,e){let n=t;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case"f":n=n.firstChild;break;case"n":n=n.nextSibling}}return n}(i,r)}(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{const a=null===r.prev,u=r.prev??r.parent;if(function BK(t){return!t.prev&&8===t.parent?.type}(r))o=rI(t,BI(r.parent));else{let c=Tt(u,n);if(a)o=c.firstChild;else{const d=BI(u),h=rI(t,d);o=2===u.type&&h?cg(iI(t,d)+1,h):c.nextSibling}}}}return o}function cg(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}let uO=!1;function rQ(t,e,n){for(const r of n.node.cases[n.case]){const i=e.get(r.index-27);i&&$l(t,i,!1)}}function lg(t){const e=t[6]??[],r=t[3][11],i=[];for(const o of e)void 0!==o.data.di?i.push(o):hO(o,r);t[6]=i}function iQ(t){const{lContainer:e}=t,n=e[6];if(null===n)return;const i=e[3][11];for(const o of n)hO(o,i)}function hO(t,e){let n=0,r=t.firstChild;if(r){const i=t.data.r;for(;n<i;){const o=r.nextSibling;$l(e,r,!1),r=o,n++}}}function dg(t){lg(t);const e=t[0];ft(e)&&hg(e);for(let n=10;n<t.length;n++)hg(t[n])}function hg(t){!function nQ(t){const e=t[6];if(e){const{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){const i=t[11];for(const o of r.values())rQ(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(t);const e=t[1];for(let n=27;n<e.bindingStartIndex;n++)dn(t[n])?dg(t[n]):ft(t[n])&&hg(t[n])}function fO(t){const e=t._views;for(const n of e){const r=g9(n);null!==r&&null!==r[0]&&(ft(r)?hg(r):dg(r))}}let pO=()=>null,gO=()=>null;function uQ(t,e){return _O(t,e)?t[6].shift():(lg(t),null)}function td(t,e){return pO(t,e)}function cQ(t,e,n){if(null===e.tView.ssrId)return null;const r=td(t,e.tView.ssrId);return n[1].firstUpdatePass&&null===r&&function lQ(t,e){let n=e;for(;n;){if(yO(t,n))return;if(!(256&~n.flags))break;n=n.prev}for(n=e.next;n&&!(512&~n.flags);){if(yO(t,n))return;n=n.next}}(n,e),r}function mO(t,e,n){return gO(t,e,n)}function _O(t,e){const n=t[6];return!(!e||null===n||0===n.length)&&n[0].data.i===e}function yO(t,e){const n=e.tView?.ssrId;if(null==n)return!1;const r=t[e.index];return!(!dn(r)||!_O(r,n)||(lg(r),0))}let dQ=class{},vO=class{};class hQ{resolveComponentFactory(e){throw new F(917,!1)}}let fg=class{static NULL=new hQ};class qI{}let Oi=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function fQ(){const t=L(),n=Sn(he().index,t);return(ft(n)?n:t)[11]}()})(),pQ=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>null})}return t})();const KI={};class Tu{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,KI,r);return i!==KI||n===KI?i:this.parentInjector.get(e,n,r)}}function gg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Lv(i,a):2==o&&(r=Lv(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function z(t,e=0){const n=L();return null===n?oe(t,e):MN(he(),n,pe(t),e)}function EQ(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TO(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),DO(e,o)}}function wO(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),DO(e,s)}}function DO(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function bO(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||mI(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!n&&i.hasOwnProperty(u)){const c=i[u];for(const d of c)if(d===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){const c=o[u];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function wQ(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ts(i.type)),s=new Sl(o,ir(i),z,null);t.blueprint[r]=s,n[r]=s,function DQ(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function bQ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Hl(t,n,i.hostVars,Ne),i)}function CQ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function QI(t,e,n,r,i,o,s,a){const u=e[1],c=u.consts,h=ks(u,t,n,r,hn(c,s));return o&&function IO(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a=s,u=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,u,c]=d.resolveHostDirectives(s);break}!function IQ(t,e,n,r,i,o,s){const a=r.length;let u=!1;for(let f=0;f<a;f++){const g=r[f];!u&&ir(g)&&(u=!0,EQ(t,n,f)),VE(wp(n,e),t,g.type)}!function AQ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let f=0;f<a;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,h=Hl(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){const g=r[f];if(n.mergedAttrs=au(n.mergedAttrs,g.hostAttrs),wQ(t,n,e,h,g),CQ(h,g,i),null!==s&&s.has(g)){const[v,E]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,E+n.directiveStart])}else(null===o||!o.has(g))&&n.directiveToIndex.set(g.type,h);null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function TQ(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);wO(0,e,o,r),wO(1,e,o,r),bO(e,r,!0)}else TO(0,e,i,r),TO(1,e,i,r),bO(e,r,!1)}}(t,n,o)}(t,e,n,a,o,u,c)}null!==o&&null!==r&&function vQ(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new F(-301,!1);r.push(e[i],o)}}(n,r,o)}(u,e,h,hn(c,a),i),h.mergedAttrs=au(h.mergedAttrs,h.attrs),null!==h.attrs&&gg(h,h.attrs,!1),null!==h.mergedAttrs&&gg(h,h.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,h),h}function YI(t,e){(function vN(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}})(t,e),lM(e)&&t.queries.elementEnd(e)}function et(t,e,n){return n!==Ne&&(!Object.is(t[e],n)&&(t[e]=n,!0))}function od(t,e,n){return function r(i){vu(Yr(t)?Sn(t.index,e):e,5);const s=e[8];let a=AO(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=AO(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function AO(t,e,n,r){const i=ae(null);try{return Me(6,e,n),!1!==n(r)}catch(o){return kI(t,o),!1}finally{Me(7,e,n),ae(i)}}function RO(t,e,n,r,i,o,s){const a=e.firstCreatePass?function EM(t){return t.cleanup??=[]}(e):null,u=function vM(t){return t[7]??=[]}(n),c=u.length;u.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function yg(t,e,n,r,i,o){const a=e[1],h=e[n][a.data[n].outputs[r]].subscribe(o);RO(t.index,a,e,i,o,h,!0)}const To=Symbol("BINDING");class PO extends fg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new XI(n,this.ngModule)}}class XI extends vO{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function jQ(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:0!==(r&Wp.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function BQ(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function C7(t){return t.map(b7).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Me(22);const a=ae(null);try{const u=this.componentDef,c=function qQ(t,e,n,r){const i=t?["ng-version","20.3.1"]:function A7(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Vr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(e.selectors[0]);let o=null,s=null,a=0;if(n)for(const d of n)a+=d[To].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const f of h.bindings){a+=f[To].requiredVars;const g=d+1;f.create&&(f.targetIdx=g,(o??=[]).push(f)),f.update&&(f.targetIdx=g,(s??=[]).push(f))}}const u=[e];if(r)for(const d of r){const f=An("function"==typeof d?d:d.type);u.push(f)}return vI(0,null,function WQ(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update()}:null}(o,s),1,a,u,null,null,null,[i],null)}(r,u,s,o),d=function $Q(t,e,n){let r=e instanceof Yt?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new Tu(n,r):n}(u,i||this.ngModule,e),h=function HQ(t){const e=t.get(qI,null);if(null===e)throw new F(407,!1);return{rendererFactory:e,sanitizer:t.get(pQ,null),changeDetectionScheduler:t.get(fo,null),ngReflect:!1}}(d),f=h.rendererFactory.createRenderer(null,u),g=r?function G7(t,e,n,r){const o=r.get(yk,!1)||n===Ni.ShadowDom,s=t.selectRootElement(e,o);return function q7(t){kx(t)}(s),s}(f,r,u.encapsulation,d):function zQ(t,e){const n=function GQ(t){return(t.selectors[0][0]||"div").toLowerCase()}(t);return Gp(e,n,"svg"===n?"svg":"math"===n?"math":null)}(u,f),_=s?.some(MO)||o?.some(T=>"function"!=typeof T&&T.bindings.some(MO)),v=qp(null,c,null,512|EI(u),null,null,h,f,d,null,Mk(g,d,!0));v[27]=g,EE(v);let E=null;try{const T=QI(27,v,2,"#host",()=>c.directiveRegistry,!0,0);g&&(mx(f,g,T),Gn(g,v)),Xp(c,v,T),uI(c,T,v),YI(c,T),void 0!==n&&function QQ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(T,this.ngContentSelectors,n),E=Sn(T.index,v),v[8]=E[8],rg(c,v,null)}catch(T){throw null!==E&&BE(E),BE(v),T}finally{Me(23),IE()}return new KQ(this.componentType,v,!!_)}finally{ae(a)}}}function MO(t){const e=t[To].kind;return"input"===e||"twoWay"===e}class KQ extends dQ{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ja(n[1],27),this.location=uu(this._tNode,n),this.instance=Sn(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Kl(n,void 0),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;ng(r,i[1],i,e,n),this.previousInputValues.set(e,n),vu(Sn(r.index,i),1)}get injector(){return new _t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let Lr=(()=>class t{static __NG_ELEMENT_ID__=YQ})();function YQ(){return function xO(t,e){let n;const r=e[t.index];return dn(r)?n=r:(n=Gx(r,e,null,t),e[t.index]=n,II(e,n)),OO(n,e,t,r),new NO(n,t,e)}(he(),L())}const JQ=Lr,NO=class extends JQ{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new _t(this._hostTNode,this._hostLView)}get parentInjector(){const e=Dp(this._hostTNode,this._hostLView);if(xE(e)){const n=Pl(e,this._hostLView),r=Rl(e);return new _t(n[1].data[r+8],n)}return new _t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=kO(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=td(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ns(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){const u=e&&!function Al(t){return"function"==typeof t}(e);let c;if(u)c=n;else{const E=n||{};c=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}const d=u?e:new XI(Pe(e)),h=r||this.parentInjector;if(!o&&null==d.ngModule){const T=(u?h:this.parentInjector).get(Yt,null);T&&(o=T)}const f=Pe(d.componentType??{}),g=td(this._lContainer,f?.id??null),v=d.create(h,i,g?.firstChild??null,o,s,a);return this.insertImpl(v.hostView,c,Ns(this._hostTNode,g)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function RW(t){return dn(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[3],c=new NO(u,u[5],u[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return Eu(s,i,o,r),e.attachToViewContainerRef(),ZP(ZI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=kO(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wl(this._lContainer,n);r&&(Zf(ZI(this._lContainer),n),Gl(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wl(this._lContainer,n);return r&&null!=Zf(ZI(this._lContainer),n)?new Kl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kO(t){return t[8]}function ZI(t){return t[8]||(t[8]=[])}let OO=VO,eT=()=>!1;function VO(t,e,n,r){if(t[7])return;let i;i=8&n.type?At(r):function XQ(t,e){const n=t[11],r=n.createComment(""),i=Tt(e,t),o=n.parentNode(i);return Ps(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i}function ZQ(t,e,n){if(t[7]&&t[6])return!0;const r=n[6],i=e.index-27;if(!r||function $N(t){if(kl(t))return!0;let e=t.parent;for(;e;){if(kl(t)||jE(e))return!0;e=e.parent}return!1}(e)||Lp(r,i))return!1;const s=rI(r,i),a=r.data.c?.[i],[u,c]=function sQ(t,e){const n=[];for(const r of e)for(let i=0;i<(r.x??1);i++){const o={data:r,firstChild:null};r.r>0&&(o.firstChild=t,t=cg(r.r,t)),n.push(o)}return[t,n]}(s,a);return t[7]=u,t[6]=c,!0}function eY(t,e,n,r){eT(t,n,e)||VO(t,e,n,r)}const QO=new Set;function Ft(t){QO.has(t)||(QO.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let Vs=class{},YO=class{};class lT extends Vs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new PO(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=Qr(e);this._bootstrapComponents=Zr(o.bootstrap),this._r3Injector=jM(e,n,[{provide:Vs,useValue:this},{provide:fg,useValue:this.componentFactoryResolver},...r],jn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class JO extends YO{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new lT(this.moduleType,e,[])}}class XO extends Vs{injector;componentFactoryResolver=new PO(this);instance=null;constructor(e){super();const n=new ws([...e.providers,{provide:Vs,useValue:this},{provide:fg,useValue:this.componentFactoryResolver}],e.parent||rE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dT(t,e,n=null){return new XO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let vY=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Xv(0,n.type),i=r.length>0?dT([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(oe(Yt))})}return t})();function ad(t){return Pi(()=>{const e=e1(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ap.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(vY).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ni.Emulated,styles:t.styles||Ke,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&Ft("NgStandalone"),t1(n);const r=t.dependencies;return n.directiveDefs=Eg(r,ZO),n.pipeDefs=Eg(r,Mr),n.id=function wY(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function ZO(t){return Pe(t)||An(t)}function vg(t){return Pi(()=>({type:t.type,bootstrap:t.bootstrap||Ke,declarations:t.declarations||Ke,imports:t.imports||Ke,exports:t.exports||Ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EY(t,e){if(null==t)return Kr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Wp.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function IY(t){if(null==t)return Kr;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function le(t){return Pi(()=>{const e=e1(t);return t1(e),e})}function e1(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Kr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Ke,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:EY(t.inputs,e),outputs:IY(t.outputs),debugInfo:null}}function t1(t){t.features?.forEach(e=>e(t))}function Eg(t,e){return t?()=>{const n="function"==typeof t?t():t,r=[];for(const i of n){const o=e(i);null!==o&&r.push(o)}return r}:null}function a1(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=au(t.mergedAttrs,t.attrs);const d=t.tView=vI(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),bi(t,!1);const u=l1(n,e,t,r);pp()&&SI(n,e,u,t),Gn(u,e);const c=Gx(u,e,u,t);e[r+27]=c,II(e,c),function FO(t,e,n){return eT(t,e,n)}(c,t,e)}function Ls(t,e,n,r,i,o,s,a,u,c,d){const h=n+27;let f;if(e.firstCreatePass){if(f=ks(e,h,4,s||null,a||null),null!=c){const g=hn(e.consts,c);f.localNames=[];for(let _=0;_<g.length;_+=2)f.localNames.push(g[_],-1)}}else f=e.data[h];return a1(f,t,e,n,r,i,o,u),null!=c&&_u(t,f,d),f}let l1=d1;function d1(t,e,n,r){return Si(!0),e[11].createComment("")}function FY(t,e,n,r){const i=!Up(e,n);Si(i);const o=e[6]?.data.t?.[r]??null;if(null!==o&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=o),i)return d1(0,e);const s=e[6],a=Zl(s,t,e,n);return Fp(s,r,a),cg(iI(s,r),a)}var wt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(wt||{}),Le=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Le||{}),f1=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(f1||{});function wg(t,e){const n=function g1(t){let e=4;return 1===t?e=5:2===t&&(e=9),e}(t),r=e[n];if(null!==r){for(const i of r)i();e[n]=null}}var pT=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(pT||{});const ld=new $(""),m1=!1,St=class $Y extends Un{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,function sE(){return void 0!==YP()||null!=nl()}()&&(this.destroyRef=x(or,{optional:!0})??void 0,this.pendingTasks=x(po,{optional:!0})??void 0)}emit(e){const n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof an&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function _1(t){let e,n;function r(){t=Tl;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function y1(t){return queueMicrotask(()=>t()),()=>{t=Tl}}const gT="isAngularZone",Dg=gT+"_ID";let HY=0;class ve{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=m1}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function qY(t){const e=()=>{!function GY(t){function e(){_1(()=>{t.callbackScheduled=!1,_T(t),t.isCheckStableRunning=!0,mT(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),_T(t))}(t)},n=HY++;t._inner=t._inner.fork({name:"angular",properties:{[gT]:!0,[Dg]:n,[Dg+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function WY(t){return I1(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return v1(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),E1(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return v1(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function KY(t){return I1(t,"__scheduler_tick__")}(u)&&e(),E1(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,_T(t),mT(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(gT)}static assertInAngularZone(){if(!ve.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zY,Tl,Tl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const zY={};function mT(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _T(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function v1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function E1(t){t._nesting--,mT(t)}class yT{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function I1(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}let T1=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();const w1=[0,1,2,3];let YY=(()=>{class t{ngZone=x(ve);scheduler=x(fo);errorHandler=x(eu,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(ld,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Me(16),this.executing=!0;for(const r of w1)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Me(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Xa(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(pT.AFTER_NEXT_RENDER,n):n()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();class D1{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function b1(t,e){const n=e?.injector??x(fn);return Ft("NgAfterNextRender"),function C1(t,e,n,r){const i=e.get(T1);i.impl??=e.get(YY);const o=e.get(ld,null,{optional:!0}),s=!0!==n?.manualCleanup?e.get(or):null,a=e.get(DE,null,{optional:!0}),u=new D1(i.impl,function XY(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}(t,n,e,!0)}function dd(t){return t+1}function Wn(t,e){return t[dd(e.index)]}function Zt(t,e){const n=dd(e.index);return t.data[n]}function vT(t,e){return e===Le.Placeholder?t.placeholderBlockConfig?.[0]??null:e===Le.Loading?t.loadingBlockConfig?.[0]??null:null}function S1(t,e){if(!t||0===t.length)return e;const n=new Set(t);for(const r of e)n.add(r);return t.length===n.size?t:Array.from(n)}let cJ=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){const s=i.length>0?dT(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t})}return t})();const lJ=new $("");function IT(t,e,n){return t.get(cJ).getOrCreateInjector(e,t,n,"")}function wo(t,e,n,r=!1){const i=n[3],o=i[1];if(wi(i))return;const s=Wn(i,e),u=s[7];if(!(null!==u&&t<u)&&k1(s[1],t)&&k1(s[0]??-1,t)){const c=Zt(o,e),h=r||null===function A1(t){return t.loadingBlockConfig?.[1]??null}(c)&&null===vT(c,Le.Loading)&&!vT(c,Le.Placeholder)?M1:TT;try{h(t,s,n,e,i)}catch(f){kI(i,f)}}}function M1(t,e,n,r,i){Me(20);const o=function tJ(t,e,n){const i=Zt(e[1],n);switch(t){case Le.Complete:return i.primaryTmplIndex;case Le.Loading:return i.loadingTmplIndex;case Le.Error:return i.errorTmplIndex;case Le.Placeholder:return i.placeholderTmplIndex;default:return null}}(t,i,r);if(null!==o){e[1]=t;const s=i[1],u=Ja(s,o+27),c=0;let d;if(OI(n,c),t===Le.Complete){const _=Zt(s,r),v=_.providers;v&&v.length>0&&(d=function dJ(t,e,n){if(t instanceof Tu){const i=t.injector,s=IT(t.parentInjector,e,n);return new Tu(i,s)}const r=t.get(Yt);if(r!==t){const i=IT(r,e,n);return new Tu(t,i)}return IT(t,e,n)}(i[9],_,v))}const{dehydratedView:h,dehydratedViewIx:f}=function hJ(t,e){const n=t[6]?.findIndex(i=>i.data.s===e[1])??-1;return{dehydratedView:n>-1?t[6][n]:null,dehydratedViewIx:n}}(n,e),g=yu(i,u,null,{injector:d,dehydratedView:h});if(Eu(n,g,c,Ns(u,h)),vu(g,2),f>-1&&n[6]?.splice(f,1),(t===Le.Complete||t===Le.Error)&&Array.isArray(e[8])){for(const _ of e[8])_();e[8]=null}}Me(21)}function k1(t,e){return t<e}function x1(t,e,n){t.loadingPromise.then(()=>{t.loadingState===wt.COMPLETE?wo(Le.Complete,e,n):t.loadingState===wt.FAILED&&wo(Le.Error,e,n)})}let TT=null,hd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Q1=new $("");function pd(t){return!!t&&"function"==typeof t.then}function Y1(t){return!!t&&"function"==typeof t.subscribe}const J1=new $("");let X1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(J1,{optional:!0})??[];injector=x(fn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=cn(this.injector,i);if(pd(o))n.push(o);else if(Y1(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gd=new $("");let ar=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(xr);afterRenderManager=x(T1);zonelessEnabled=x(gp);rootEffectScheduler=x(qM);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Un;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(po);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ye(n=>!n))}constructor(){x(ld,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fn.NULL){return this._injector.get(ve).run(()=>{Me(10);const s=n instanceof vO;if(!this._injector.get(X1).done)throw new F(405,"");let u;u=s?n:this._injector.get(fg).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const c=function rX(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Vs),h=u.create(i,[],r||u.selector,c),f=h.location.nativeElement,g=h.injector.get(Q1,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Pg(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),Me(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(pT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);const n=ae(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(n),this.afterTick.next(),Me(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qI,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||up(i))&&(ig(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>up(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Pg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(gd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ST(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Bs(t,e,n){const r=e[1],i=e[n.index];if(!function rF(t,e){return e[9].get(lJ,null,{optional:!0})?.behavior!==f1.Manual}(0,e))return;const o=Wn(e,n),s=Zt(r,n);switch(function p1(t){wg(1,t),wg(0,t),wg(2,t)}(o),s.loadingState){case wt.NOT_STARTED:wo(Le.Loading,n,i),function RT(t,e,n){const r=e[9],i=e[1];if(t.loadingState!==wt.NOT_STARTED)return t.loadingPromise??Promise.resolve();const o=Wn(e,n),s=function nJ(t,e){return Ja(t,e.primaryTmplIndex+27)}(i,t);t.loadingState=wt.IN_PROGRESS,wg(1,o);let a=t.dependencyResolverFn;const u=r.get(Il).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(c=>{let d=!1;const h=[],f=[];for(const g of c){if("fulfilled"!==g.status){d=!0;break}{const _=g.value,v=Pe(_)||An(_);if(v)h.push(v);else{const E=Mr(_);E&&f.push(E)}}}if(d){if(t.loadingState=wt.FAILED,null===t.errorTmplIndex){const _=new F(-750,!1);kI(e,_)}}else{t.loadingState=wt.COMPLETE;const g=s.tView;if(h.length>0){g.directiveRegistry=S1(g.directiveRegistry,h);const v=Xv(!1,...h.map(E=>E.type));t.providers=v}f.length>0&&(g.pipeRegistry=S1(g.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=wt.COMPLETE,u()}),t.loadingPromise)}(s,e,n),s.loadingState===wt.IN_PROGRESS&&x1(s,n,i);break;case wt.IN_PROGRESS:wo(Le.Loading,n,i),x1(s,n,i);break;case wt.COMPLETE:wo(Le.Complete,n,i);break;case wt.FAILED:wo(Le.Error,n,i)}}function PT(){return(PT=b(function*(t,e,n){const r=t.get(yo);if(r.hydrating.has(e))return;const{parentBlockPromise:o,hydrationQueue:s}=function T9(t,e){const n=e.get(yo),i=e.get(_o).get("__nghDeferData__",{});let o=!1,s=t,a=null;const u=[];for(;!o&&s;){o=n.has(s);const c=n.hydrating.get(s);if(null===a&&null!=c){a=c.promise;break}u.unshift(s),s=i[s].p}return{parentBlockPromise:a,hydrationQueue:u}}(e,t);if(0===s.length)return;null!==o&&s.shift(),function aX(t,e){for(let n of e)t.hydrating.set(n,ST())}(r,s),null!==o&&(yield o);const a=s[0];r.has(a)?yield iF(t,s,n):r.awaitParentBlock(a,b(function*(){return yield iF(t,s,n)}))})).apply(this,arguments)}function iF(t,e,n){return MT.apply(this,arguments)}function MT(){return(MT=b(function*(t,e,n){const r=t.get(yo),i=r.hydrating,o=t.get(po),s=o.add();for(let u=0;u<e.length;u++){const c=e[u],d=r.get(c);if(null==d){sX(u,e,r),oF(e.slice(u),r);break}if(yield cX(d),yield uX(t),oX(d)){iQ(d),oF(e.slice(u),r);break}i.get(c).resolve()}const a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),function oQ(t,e,n,r){null!==t&&(n.cleanup(e),dg(t.lContainer),fO(r))}(r.get(a),e,r,t.get(ar))})).apply(this,arguments)}function oX(t){return Wn(t.lView,t.tNode)[1]===Le.Error}function sX(t,e,n){const r=t-1,i=r>-1?n.get(e[r]):null;i&&dg(i.lContainer)}function oF(t,e){const n=e.hydrating;for(const r in t)n.get(r)?.reject();e.cleanup(t)}function uX(t){return new Promise(e=>b1(e,{injector:t}))}function cX(t){return NT.apply(this,arguments)}function NT(){return(NT=b(function*(t){const{tNode:e,lView:n}=t,r=Wn(n,e);return new Promise(i=>{(function lX(t,e){Array.isArray(t[8])||(t[8]=[]),t[8].push(e)})(r,i),Bs(0,n,e)})})).apply(this,arguments)}function ti(t,e,n,r){const i=L();return et(i,Hn(),e)&&(ge(),function Z7(t,e,n,r,i,o){const s=Tt(t,e);!function Zp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?fe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],s,o,t.value,n,r,i)}(kr(),i,t,e,n,r)),ti}typeof document<"u"&&document;class tZ{destroy(e){}updateValue(e,n){}swap(e,n){const r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}}function FT(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function VT(t,e,n,r){return!(void 0===e||!e.has(r)||(t.attach(n,e.get(r)),e.delete(r),0))}function gF(t,e,n,r,i){if(VT(t,e,r,n(r,i)))t.updateValue(r,i);else{const o=t.create(r,i);t.attach(r,o)}}function mF(t,e,n,r){const i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}class _F{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const n=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}}function _d(t,e,n,r,i,o,s,a){Ft("NgControlFlow");const u=L(),c=ge();return Ls(u,c,t,e,n,r,i,hn(c.consts,o),256,s,a),LT}function LT(t,e,n,r,i,o,s,a){Ft("NgControlFlow");const u=L(),c=ge();return Ls(u,c,t,e,n,r,i,hn(c.consts,o),512,s,a),LT}function yd(t,e){Ft("NgControlFlow");const n=L(),r=Hn(),i=n[r]!==Ne?n[r]:-1,o=-1!==i?Lg(n,27+i):void 0;if(et(n,r,t)){const a=ae(null);try{if(void 0!==o&&OI(o,0),-1!==t){const u=27+t,c=Lg(n,u),d=UT(n[1],u),h=mO(c,d,n);Eu(c,yu(n,d,e,{dehydratedView:h}),0,Ns(d,h))}}finally{ae(a)}}else if(void 0!==o){const a=qx(o,0);void 0!==a&&(a[8]=e)}}class rZ{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-10}}class sZ{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}}function Fg(t,e,n,r,i,o,s,a,u,c,d,h,f){Ft("NgControlFlow");const g=L(),_=ge(),v=void 0!==u,E=L(),T=a?s.bind(E[15][8]):s,A=new sZ(v,T);E[27+t]=A,Ls(g,_,t+1,e,n,r,i,hn(_.consts,o),256),v&&Ls(g,_,t+2,u,c,d,h,hn(_.consts,f),512)}class aZ extends tZ{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-10}at(e){return this.getLView(e)[8].$implicit}attach(e,n){const r=n[6];this.needsIndexUpdate||=e!==this.length,Eu(this.lContainer,n,e,Ns(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&function uZ(t,e){if(t.length<=10)return;const r=t[10+e];r&&r[26]&&(r[26].skipLeaveAnimations=!0)}(this.lContainer,e),function cZ(t,e){return Wl(t,e)}(this.lContainer,e)}create(e,n){const r=td(this.lContainer,this.templateTNode.tView.ssrId),i=yu(this.hostLView,this.templateTNode,new rZ(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Gl(e[1],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[8].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[8].$index=e}getLView(e){return function lZ(t,e){return qx(t,e)}(this.lContainer,e)}}function Vg(t){const e=ae(null),n=Jt();try{const r=L(),i=r[1],o=r[n],s=n+1,a=Lg(r,s);if(void 0===o.liveCollection){const c=UT(i,s);o.liveCollection=new aZ(a,r,c)}else o.liveCollection.reset();const u=o.liveCollection;if(function nZ(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){const c=t.at(o),d=e[o],h=FT(o,c,o,d,n);if(0!==h){h<0&&t.updateValue(o,d),o++;continue}const f=t.at(s),g=e[u],_=FT(s,f,u,g,n);if(0!==_){_<0&&t.updateValue(s,g),s--,u--;continue}const v=n(o,c),E=n(s,f),T=n(o,d);if(Object.is(T,E)){const A=n(u,g);Object.is(A,v)?(t.swap(o,s),t.updateValue(s,g),u--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(r??=new _F,i??=mF(t,o,s,n),VT(t,r,o,T))t.updateValue(o,d),o++,s++;else if(i.has(T))r.set(v,t.detach(o)),s--;else{const A=t.create(o,e[o]);t.attach(o,A),o++,s++}}for(;o<=u;)gF(t,r,n,o,e[o]),o++}else if(null!=e){const u=e[Symbol.iterator]();let c=u.next();for(;!c.done&&o<=s;){const d=t.at(o),h=c.value,f=FT(o,d,o,h,n);if(0!==f)f<0&&t.updateValue(o,h),o++,c=u.next();else{r??=new _F,i??=mF(t,o,s,n);const g=n(o,h);if(VT(t,r,o,g))t.updateValue(o,h),o++,s++,c=u.next();else if(i.has(g)){const _=n(o,d);r.set(_,t.detach(o)),s--}else t.attach(o,t.create(o,h)),o++,s++,c=u.next()}}for(;!c.done;)gF(t,r,n,t.length,c.value),c=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){const c=Hn(),d=0===u.length;if(et(r,c,d)){const h=n+2,f=Lg(r,h);if(d){const g=UT(i,h),_=mO(f,g,r);Eu(f,yu(r,g,void 0,{dehydratedView:_}),0,Ns(g,_))}else i.firstUpdatePass&&lg(f),OI(f,0)}}}finally{ae(e)}}function Lg(t,e){return t[e]}function UT(t,e){return Ja(t,e)}function vd(t,e,n){const r=L();return et(r,Hn(),e)&&(ge(),PI(kr(),r,t,e,r[11],n)),vd}function jT(t,e,n,r,i){ng(e,t,n,i?"class":"style",r)}function tt(t,e,n,r){const i=L(),o=i[1],s=t+27,a=o.firstCreatePass?QI(s,i,2,e,NI,function gE(){return ce.bindingsEnabled}(),n,r):o.data[s];if(function eg(t,e,n,r,i){const o=27+n,s=e[1],a=i(s,e,t,r,n);e[o]=a,bi(t,!0);const u=2===t.type;return u?(mx(e[11],a,t),(0===function MW(){return ce.lFrame.elementDepthCount}()||Qa(t))&&Gn(a,e),function NW(){ce.lFrame.elementDepthCount++}()):Gn(a,e),pp()&&(!u||!xp(t))&&SI(s,e,a,t),t}(a,i,t,e,HT),Qa(a)){const u=i[1];Xp(u,i,a),uI(u,a,i)}return null!=r&&_u(i,a),tt}function Ue(){const t=ge(),n=tg(he());return t.firstCreatePass&&YI(t,n),function TM(t){return ce.skipHydrationRootTNode===t}(n)&&function wM(){ce.skipHydrationRootTNode=null}(),function IM(){ce.lFrame.elementDepthCount--}(),null!=n.classesWithoutHost&&function Z5(t){return!!(8&t.flags)}(n)&&jT(t,n,L(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function e8(t){return!!(16&t.flags)}(n)&&jT(t,n,L(),n.stylesWithoutHost,!1),Ue}function Ed(t,e,n,r){return tt(t,e,n,r),Ue(),Ed}let HT=(t,e,n,r,i)=>(Si(!0),Gp(e[11],r,VM()));function dZ(t,e,n,r,i){const o=!Up(e,n);if(Si(o),o)return Gp(e[11],r,VM());const s=e[6],a=Zl(s,t,e,n);return xk(s,i)&&Fp(s,i,a.nextSibling),s&&(jE(n)||BN(a))&&Yr(n)&&(function xW(t){ce.skipHydrationRootTNode=t}(n),gx(a)),a}let qT=(t,e,n,r,i)=>(Si(!0),yI(e[11],""));function fZ(t,e,n,r,i){let o;const s=!Up(e,n);if(Si(s),s)return yI(e[11],"");const a=e[6],u=Zl(a,t,e,n),c=function kk(t,e){const n=t.data;let r=n.e?.[e]??null;return null===r&&n.c?.[e]&&(r=iI(t,e)),r}(a,i);return Fp(a,i,u),o=cg(c,u),o}function WT(){return L()}const Bg="en-US";let CF=Bg;function Mn(t,e,n){const r=L(),i=ge(),o=he();return function YT(t,e,n,r,i,o,s){let a=!0,u=null;if((3&r.type||s)&&(u??=od(r,e,o),function SO(t,e,n,r,i,o,s,a){const u=Qa(t);let c=!1,d=null;if(!r&&u&&(d=function NQ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],u=i[o+2];return a&&a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,n,o,t.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const h=Tt(t,n),f=r?r(h):h;!function c9(t,e,n,r){Ck(t,e,n,r)}(n,f,o,a);const g=i.listen(f,o,a);(function MQ(t){return t.startsWith("animation")||t.startsWith("transition")})(o)||RO(r?v=>r(At(v[t.index])):t.index,e,n,o,a,g,!1)}return c}(r,t,e,s,n,i,o,u)&&(a=!1)),a){const c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){const f=d[h],g=d[h+1];u??=od(r,e,o),yg(r,e,f,g,i,u)}if(c&&c.length)for(const h of c)u??=od(r,e,o),yg(r,e,h,i,i,u)}}(i,r,r[11],o,t,e,n),Mn}function Nn(t=1){return function jW(t){return(ce.lFrame.contextLView=function yM(t,e){for(;t>0;)e=e[14],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function Rt(t,e=""){const n=L(),r=ge(),i=t+27,o=r.firstCreatePass?ks(r,i,1,e,null):r.data[i],s=dV(r,n,o,e,t);n[i]=s,pp()&&SI(r,n,s,o),bi(o,!1)}let dV=(t,e,n,r,i)=>(Si(!0),_I(e[11],r));function Vee(t,e,n,r,i){const o=!Up(e,n);return Si(o),o?_I(e[11],r):Zl(e[6],t,e,n)}function Ad(t){return ni("",t),Ad}function ni(t,e,n){const r=L(),i=function fV(t,e,n,r=""){return et(t,Hn(),n)?e+fe(n)+r:Ne}(r,t,e,n);return i!==Ne&&function Fi(t,e,n){const r=function Ya(t,e){return At(e[t])}(e,t);!function hx(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Jt(),i),ni}function OV(t,e,n,r){return function FV(t,e,n,r,i,o){const s=e+n;return et(t,s,i)?function ei(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function Sd(t,e){const n=t[e];return n===Ne?void 0:n}(t,s+1)}(L(),function Rn(){const t=ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}class Yte{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Jte=(()=>{class t{compileModuleSync(n){return new JO(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Zr(Qr(n).declarations).reduce((s,a)=>{const u=Pe(a);return u&&s.push(new XI(u)),s},[]);return new Yte(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zte=(()=>{class t{zone=x(ve);changeDetectionScheduler=x(fo);applicationRef=x(ar);applicationErrorHandler=x(xr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve({...lw(),scheduleInRootZone:n}),[{provide:ve,useFactory:t},{provide:vr,multi:!0,useFactory:()=>{const r=x(Zte,{optional:!0});return()=>r.initialize()}},{provide:vr,multi:!0,useFactory:()=>{const r=x(tne);return()=>{r.initialize()}}},!0===e?{provide:GM,useValue:!0}:[],{provide:wE,useValue:n??m1},{provide:xr,useFactory:()=>{const r=x(ve),i=x(Yt);let o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(eu),o.handleError(s))})}}}]}function lw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let tne=(()=>{class t{subscription=new an;initialized=!1;zone=x(ve);pendingTasks=x(po);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hw=(()=>{class t{applicationErrorHandler=x(xr);appRef=x(ar);taskService=x(po);ngZone=x(ve);zonelessEnabled=x(gp);tracing=x(ld,{optional:!0});disableScheduling=x(GM,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new an;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(wE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yT||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?y1:_1;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,y1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const So=new $("",{providedIn:"root",factory:()=>x(So,{optional:!0,skipSelf:!0})||function rne(){return typeof $localize<"u"&&$localize.locale||Bg}()}),cL={};function _w(t,e){t.__jsaction=e}const dne=["mouseenter","mouseleave","pointerenter","pointerleave"],hne=["focus","blur","error","load","toggle"],dL=t=>hne.indexOf(t)>=0;function mne(t,e){t.removeEventListener?t.removeEventListener(e.eventType,e.handler,"boolean"==typeof e.passive?{capture:e.capture}:e.capture):t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}let hL=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);const Tne=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);class wne{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){Tne&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function gne(t,e,n,r){let i=!1;return dL(e)&&(i=!0),t.addEventListener(e,n,"boolean"==typeof r?{capture:i,passive:r}:i),{eventType:e,handler:n,capture:i,passive:r}}(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)mne(this.element,this.handlerInfos[e]);this.handlerInfos=[]}}function Ro(t){return t.eventType}function yw(t,e){t.eventType=e}function Zg(t){return t.event}function fL(t,e){t.event=e}function pL(t){return t.targetElement}function gL(t,e){t.targetElement=e}function mL(t){return t.eic}function em(t){return t.eia}function _L(t,e,n){t.eia=[e,n]}function vw(t){t.eia=void 0}function tm(t){return t[1]}function yL(t,e){t.eirp=e}function vL(t){return t.eir}function EL(t,e){t.eir=e}function IL(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}class Ew{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ro(this.eventInfo)}setEventType(e){yw(this.eventInfo,e)}getEvent(){return Zg(this.eventInfo)}setEvent(e){fL(this.eventInfo,e)}getTargetElement(){return pL(this.eventInfo)}setTargetElement(e){gL(this.eventInfo,e)}getContainer(){return mL(this.eventInfo)}setContainer(e){!function bne(t,e){t.eic=e}(this.eventInfo,e)}getTimestamp(){return function Cne(t){return t.timeStamp}(this.eventInfo)}setTimestamp(e){!function Ane(t,e){t.timeStamp=e}(this.eventInfo,e)}getAction(){const e=em(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){e?_L(this.eventInfo,e.name,e.element):vw(this.eventInfo)}getIsReplay(){return function Sne(t){return t.eirp}(this.eventInfo)}setIsReplay(e){yL(this.eventInfo,e)}getResolved(){return vL(this.eventInfo)}setResolved(e){EL(this.eventInfo,e)}clone(){return new Ew(IL(this.eventInfo))}}const Rne={},Pne=/\s*;\s*/;class Nne{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&"click"===Ro(e)&&function vne(t){return hL&&t.metaKey||!hL&&t.ctrlKey||function yne(t){return 2===t.which||null==t.which&&4===t.button}(t)||t.shiftKey}(Zg(e))?yw(e,"clickmod"):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){vL(e)||(this.populateAction(e,pL(e)),EL(e,!0))}resolveParentAction(e){const n=em(e),r=n&&tm(n);vw(e);const i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==mL(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!em(e));)r=this.getParentNode(r);const i=em(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&("mouseenter"===Ro(e)||"mouseleave"===Ro(e)||"pointerenter"===Ro(e)||"pointerleave"===Ro(e))))if(function Ene(t,e,n){const r=t.relatedTarget;return("mouseover"===t.type&&"mouseenter"===e||"mouseout"===t.type&&"mouseleave"===e||"pointerover"===t.type&&"pointerenter"===e||"pointerout"===t.type&&"pointerleave"===e)&&(!r||r!==n&&!n.contains(r))}(Zg(e),Ro(e),tm(i))){const o=function Ine(t,e){const n={};for(const r in t){if("srcElement"===r||"target"===r)continue;const o=t[r];"function"!=typeof o&&(n[r]=o)}return n.type="mouseover"===t.type?"mouseenter":"mouseout"===t.type?"mouseleave":"pointerover"===t.type?"pointerenter":"pointerleave",n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}(Zg(e),tm(i));fL(e,o),gL(e,tm(i))}else vw(e)}getParentNode(e){const n=e.__owner;if(n)return n;const r=e.parentNode;return"#document-fragment"===r?.nodeName?r?.host??null:r}populateActionOnElement(e,n){const r=this.parseActions(e),i=r[Ro(n)];void 0!==i&&_L(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=function lL(t){return t.__jsaction}(e);if(!n){const r=e.getAttribute("jsaction");if(r){if(n=function cne(t){return cL[t]}(r),!n){n={};const i=r.split(Pne);for(let o=0;o<i.length;o++){const s=i[o];if(!s)continue;const a=s.indexOf(":"),u=-1!==a,c=u?s.substr(0,a).trim():"click",d=u?s.substr(a+1).trim():s;n[c]=d}!function lne(t,e){cL[t]=e}(r,n)}_w(e,n)}else n=Rne,_w(e,n)}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}}var wL=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(wL||{});class kne{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){const n=new Ew(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);const r=n.getAction();r&&function xne(t,e){return"A"===t.tagName&&("click"===e.getEventType()||"clickmod"===e.getEventType())}(r.element,n)&&function _ne(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n.getEvent()),this.eventReplayer&&n.getIsReplay()?this.scheduleEventInfoWrapperReplay(n):this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}}const DL=Symbol.for("propagationStopped");class Vne{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Nne({clickModSupport:n}),this.dispatcher=new kne(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&function jne(t){const e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Gs(e,"target",n),Gs(e,"eventPhase",101),Gs(e,"preventDefault",()=>{throw r(),new Error("`preventDefault` called during event replay.")}),Gs(e,"composedPath",()=>{throw new Error("`composedPath` called during event replay.")})}(e),function Lne(t){const e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[DL]=!0,n()};Gs(e,"stopPropagation",r),Gs(e,"stopImmediatePropagation",r)}(e);e.getAction();){if(Bne(e),dL(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Une(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}}function Une(t){return!!t.getEvent()[DL]}function Bne(t){const e=t.getEvent(),n=t.getAction()?.element;n&&Gs(e,"currentTarget",n,{configurable:!0})}function Gs(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function SL(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}let Wne=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=!1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){const o=function TL(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher)return yL(n,!0),void this.queuedEventInfos?.push(n);this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&dne.indexOf(n)>=0)return;const o=(a,u,c)=>{this.handleEvent(a,u,c)};this.eventHandlers[n]=o;const s=function pne(t){return"mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":"pointerenter"===t?"pointerover":"pointerleave"===t?"pointerout":t}(r||n);if(s!==n){const a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),function AL(t){t&&(SL(t.c,t.et,t.h),SL(t.c,t.etc,t.h,!0))}(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){const i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){const a=IL(i);yw(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){const r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function RL(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}const nm=Symbol("InputSignalNode#UNSET"),PL={...Av,transformFn:void 0,applyValueToInputSignal(t,e){Hf(t,e)}};function ML(t,e){const n=Object.create(PL);function r(){if(il(n),n.value===nm)throw new F(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[Ut]=n,r}class Jne{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Nl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function NL(t,e){return ML(t,e)}new $("").__NG_ELEMENT_ID__=t=>{const e=he();if(null===e)throw new F(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new F(204,!1)};const ere=(NL.required=function Zne(t){return ML(nm,t)},NL),rm=new $(""),ore=new $("");function Md(t){return!t.moduleRef}let LL,Vu=null;function HL(){return!1}let Nd=(()=>class t{static __NG_ELEMENT_ID__=dre})();function dre(t){return function hre(t,e,n){if(Yr(t)&&!n){const r=Sn(t.index,e);return new Kl(r,r)}return 175&t.type?new Kl(e[15],e):null}(he(),L(),!(16&~t))}function Ire(t){const{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Me(8);try{const o=i?.injector??function lre(t=[]){if(Vu)return Vu;const e=function BL(t=[],e){return fn.create({name:e,providers:[{provide:tE,useValue:"platform"},{provide:rm,useValue:new Set([()=>Vu=null])},...t]})}(t);return Vu=e,function nX(){!function b6(t){OP=t}(()=>{throw new F(600,"")})}(),function $L(t){const e=t.get(sk,null);cn(t,()=>{e?.forEach(n=>n())})}(e),e}(r),s=[cw({}),{provide:fo,useExisting:hw},$M,...n||[]];return function VL(t){const e=Md(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Md(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(xr);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Md(t)){const o=()=>e.destroy(),s=t.platformInjector.get(rm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(rm);s.add(o),t.moduleRef.onDestroy(()=>{Pg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function are(t,e,n){try{const r=n();return pd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}(r,n,()=>{const o=e.get(po),s=o.add(),a=e.get(X1);return a.runInitializers(),a.donePromise.then(()=>{if(function IZ(t){"string"==typeof t&&(CF=t.toLowerCase().replace(/_/g,"-"))}(e.get(So,Bg)||Bg),!e.get(ore,!0))return Md(t)?e.get(ar):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Md(t)){const d=e.get(ar);return void 0!==t.rootComponent&&d.bootstrap(t.rootComponent),d}return LL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}({r3Injector:new XO({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Me(9)}}const sm=new WeakSet;let am=[];function XL(t){return t.get(vk,!1)}function ZL(){const t=[{provide:vk,useFactory:()=>{let e=!0;{const n=x(Mi);e=!!window._ejsas?.[n]}return e&&Ft("NgEventReplay"),e}}];return t.push({provide:vr,useValue:()=>{const e=x(ar),{injector:n}=e;if(!sm.has(e)){const r=x(QE);if(XL(n)){!function l9(){bk||(Ck=(t,e,n,r)=>{const i=t[9].get(Mi);eI.get(i)?.(e,n,r)},bk=!0)}();const o=function u9(t,e){return eI.set(t,e),()=>eI.delete(t)}(n.get(Mi),(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(((t,e,n)=>{const r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i})(s,a,u),((t,e)=>{const n=t;let r=n.getAttribute(Fl)??"";const i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)})(s,r))});e.onDestroy(o)}}},multi:!0},{provide:gd,useFactory:()=>{const e=x(ar),{injector:n}=e;return()=>{if(!XL(n)||sm.has(e))return;sm.add(e);const r=n.get(Mi);e.onDestroy(()=>{sm.delete(e),RL(r)}),e.whenStable().then(()=>{if(e.destroyed)return;const i=n.get(a9);Tre(i,n);const o=n.get(QE);o.get("")?.forEach(wk),o.delete("");const s=i.instance;!function Vp(t){return t.get(n9,!1,{optional:!0})}(n)?s.cleanUp():e.onDestroy(()=>s.cleanUp())})}},multi:!0}),t}const Tre=(t,e)=>{const n=e.get(Mi),r=window._ejsas[n],i=t.instance=new Wne(new wne(r.c));for(const a of r.et)i.addEvent(a);for(const a of r.etc)i.addEvent(a);const o=function Kne(t,e=window){return function zne(t){return t?.q??[]}(e._ejsas?.[t])}(n);i.replayEarlyEventInfos(o),RL(n);const s=new Vne(a=>{!function Dre(t,e,n){const r=(n&&n.getAttribute(Fl))??"";/d\d+/.test(r)?function bre(t,e,n,r){am.push({event:n,currentTarget:r}),function Do(t,e,n){return PT.apply(this,arguments)}(e,t,Cre)}(r,t,e,n):101===e.eventPhase&&Dk(e,n)}(e,a,a.currentTarget)});!function $ne(t,e){t.ecrd(n=>{e.dispatch(n)},wL.I_AM_THE_JSACTION_FRAMEWORK)}(i,s)};function Cre(t){const e=[...am],n=new Set(t);am=[];for(let{event:r,currentTarget:i}of e){const o=i.getAttribute(Fl);n.has(o)?Dk(r,i):am.push({event:r,currentTarget:i})}}let s2=!1;function $re(){const t=[{provide:Pp,useFactory:()=>{let e=!0;return e=!!x(_o,{optional:!0})?.get(Sk,null),e&&Ft("NgHydration"),e}},{provide:vr,useValue:()=>{(function WK(t){uO=t})(!1),x(Pp)&&(function R9(t){for(const r of t.body.childNodes)if(sI(r))return;if(!sI(Vk(t.body.previousSibling))&&!sI(Vk(t.head.lastChild)))throw new F(-507,!1)}(Xr()),function Vre(){s2||(s2=!0,function p9(){Pk=f9}(),function hZ(){HT=dZ}(),function Lee(){dV=Vee}(),function pZ(){qT=fZ}(),function VY(){l1=FY}(),function tY(){OO=eY,eT=ZQ}(),function aQ(){pO=uQ,gO=cQ}(),function K7(){kx=W7}())}())},multi:!0}];return t.push({provide:yk,useFactory:()=>x(Pp)},{provide:gd,useFactory:()=>{if(x(Pp)){const e=x(ar);return()=>{(function jre(t){return t.whenStable()})(e).then(()=>{e.destroyed||fO(e)})}}return()=>{}},multi:!0}),Ei(t)}function Lu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}const Dw=new $("");let h2=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(Dw),oe(ve))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class f2{_doc;constructor(e){this._doc=e}manager}const bw="ng-app-id";function p2(t){for(const e of t)e.remove()}function g2(t,e){const n=e.createElement("style");return n.textContent=t,n}function Cw(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let m2=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,function Kre(t,e,n,r){const i=t.head?.querySelectorAll(`style[${bw}="${e}"],link[${bw}="${e}"]`);if(i)for(const o of i)o.removeAttribute(bw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,g2);r?.forEach(i=>this.addUsage(i,this.external,Cw))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(p2(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])p2(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,g2(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,Cw(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(Tr),oe(Mi),oe(ak,8),oe(Ol))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const Aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sw=/%COMP%/g,eie=new $("",{providedIn:"root",factory:()=>!0});function y2(t,e){return e.map(n=>n.replace(Sw,t))}let v2=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Rw(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof I2?i.applyToHost(n):i instanceof Pw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Ni.Emulated:o=new I2(u,c,r,this.appId,d,s,a,h,f);break;case Ni.ShadowDom:return new iie(u,c,n,r,s,a,this.nonce,h,f);default:o=new Pw(u,c,r,d,s,a,h,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(h2),oe(m2),oe(Mi),oe(eie),oe(Tr),oe(Ol),oe(ve),oe(ak),oe(ld,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class Rw{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Aw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(E2(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(E2(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Aw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Aw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Eo.DashCase|Eo.Important)?e.style.setProperty(n,r,i&Eo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Eo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=go().getGlobalEventTarget(this.doc,e)))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault()}}}function E2(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class iie extends Rw{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,u,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=y2(i.id,d);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}const h=i.getExternalStyles?.();if(h)for(const f of h){const g=Cw(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pw extends Rw{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?y2(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===Qp.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class I2 extends Pw{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,c){const d=i+"-"+r.id;super(e,n,r,o,s,a,u,c,d),this.contentAttr=function tie(t){return"_ngcontent-%COMP%".replace(Sw,t)}(d),this.hostAttr=function nie(t){return"_nghost-%COMP%".replace(Sw,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Mw extends JW{supportsDOMEvents=!0;static makeCurrent(){!function YW(t){WM??=t}(new Mw)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function oie(){return xd=xd||document.head.querySelector("base"),xd?xd.getAttribute("href"):null}();return null==n?null:function sie(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){xd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JM(document.cookie,e)}}let xd=null,uie=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),cie=(()=>{class t extends f2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(oe(Tr))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const T2=["alt","control","meta","shift"],lie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},die={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hie=(()=>{class t extends f2{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>go().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),T2.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=lie[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),T2.forEach(s=>{s!==i&&(0,die[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(Tr))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function w2(t){return{appProviders:[...vie,...t?.providers??[]],platformProviders:_ie}}const _ie=[{provide:Ol,useValue:"browser"},{provide:sk,useValue:function pie(){Mw.makeCurrent()},multi:!0},{provide:Tr,useFactory:function mie(){return function G8(t){zE=t}(document),document}}],vie=[{provide:tE,useValue:"root"},{provide:eu,useFactory:function gie(){return new eu}},{provide:Dw,useClass:cie,multi:!0,deps:[Tr]},{provide:Dw,useClass:hie,multi:!0,deps:[Tr]},v2,m2,h2,{provide:qI,useExisting:v2},{provide:XM,useClass:uie},[]],Die={...La,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"};function Qe(t){return function wie(t){const e=ae(null);try{return t()}finally{ae(e)}}(t)}function Yn(t,e){return function T6(t,e){const n=Object.create(w6);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(ol(n),il(n),n.value===ao)throw n.error;return n.value};return r[Ut]=n,r}(t,e?.equal)}class Cie{[Ut];constructor(e){this[Ut]=e}destroy(){this[Ut].destroy()}}function Nw(t,e){const n=e?.injector??x(fn);let i,r=!0!==e?.manualCleanup?n.get(or):null;const o=n.get(DE,null,{optional:!0}),s=n.get(fo);return null!==o?(i=function Rie(t,e,n){const r=Object.create(Sie);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=C2(r,n),t[23]??=new Set,t[23].add(r),r.consumerMarkedDirty(r),r}(o.view,s,t),r instanceof BM&&r._lView===o.view&&(r=null)):i=function Pie(t,e,n){const r=Object.create(Aie);return r.fn=C2(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}(t,n.get(qM),s),i.injector=n,null!==r&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Cie(i)}const b2={...Die,cleanupFns:void 0,zone:null,onDestroyFn:Tl,run(){const t=hp(!1);try{!function bie(t){if(t.dirty=!1,t.hasRun&&!Bf(t))return;t.hasRun=!0;const e=Ua(t);try{t.cleanup(),t.fn()}finally{sl(t,e)}}(this)}finally{hp(t)}},cleanup(){if(!this.cleanupFns?.length)return;const t=ae(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ae(t)}}},Aie={...b2,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){al(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}},Sie={...b2,consumerMarkedDirty(){this.view[2]|=8192,Xa(this.view),this.notifier.notify(13)},destroy(){al(this),this.onDestroyFn(),this.cleanup(),this.view[23]?.delete(this)}};function C2(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}Error,Error;let Lie=(()=>{class t extends tu{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=CE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ri(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ri(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(bE),oe(QM,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function Im(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Po(t){return this instanceof Po?(this.v=t,this):new Po(t)}function K2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Xw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Q2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Y2(t){return Xe(t?.then)}function J2(t){return Xe(t[Fv])}function X2(t){return Symbol.asyncIterator&&Xe(t?.[Symbol.asyncIterator])}function Z2(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const eU=function Dse(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tU(t){return Xe(t?.[eU])}function nU(t){return function W2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(E,T){o.push([g,v,E,T])>1||u(g,v)})},_&&(i[g]=_(i[g])))}function u(g,_){try{!function c(g){g.value instanceof Po?Promise.resolve(g.value.v).then(d,h):f(o[0][2],g)}(r[g](_))}catch(v){f(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function f(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Po(n.read());if(i)return yield Po(void 0);yield yield Po(r)}}finally{n.releaseLock()}})}function rU(t){return Xe(t?.getReader)}function ri(t){if(t instanceof qe)return t;if(null!=t){if(J2(t))return function bse(t){return new qe(e=>{const n=t[Fv]();if(Xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Q2(t))return function Cse(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Y2(t))return function Ase(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,BP)})}(t);if(X2(t))return iU(t);if(tU(t))return function Sse(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(rU(t))return function Rse(t){return iU(nU(t))}(t)}throw Z2(t)}function iU(t){return new qe(e=>{(function Pse(t,e){var n,r,i,o;return function G2(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=K2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Li(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Tm(t,e=0){return Xt((n,r)=>{n.subscribe(Ot(r,i=>Li(r,t,()=>r.next(i),e),()=>Li(r,t,()=>r.complete(),e),i=>Li(r,t,()=>r.error(i),e)))})}function wm(t,e=0){return Xt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oU(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Li(n,e,()=>{const r=t[Symbol.asyncIterator]();Li(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pn(t,e){return e?function Fse(t,e){if(null!=t){if(J2(t))return function Mse(t,e){return ri(t).pipe(wm(e),Tm(e))}(t,e);if(Q2(t))return function kse(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Y2(t))return function Nse(t,e){return ri(t).pipe(wm(e),Tm(e))}(t,e);if(X2(t))return oU(t,e);if(tU(t))return function xse(t,e){return new qe(n=>{let r;return Li(n,e,()=>{r=t[eU](),Li(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Xe(r?.return)&&r.return()})}(t,e);if(rU(t))return function Ose(t,e){return oU(nU(t),e)}(t,e)}throw Z2(t)}(t,e):ri(t)}function eD(t){return t[t.length-1]}function Dm(t){return function Vse(t){return t&&Xe(t.schedule)}(eD(t))?t.pop():void 0}function de(...t){return pn(t,Dm(t))}const bm=Sv(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Lse}=Array,{getPrototypeOf:Use,prototype:jse,keys:Bse}=Object;const{isArray:Hse}=Array;function lU(...t){const e=Dm(t),n=function sU(t){return Xe(eD(t))?t.pop():void 0}(t),{args:r,keys:i}=function aU(t){if(1===t.length){const e=t[0];if(Lse(e))return{args:e,keys:null};if(function $se(t){return t&&"object"==typeof t&&Use(t)===jse}(e)){const n=Bse(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return pn([],e);const o=new qe(function Gse(t,e,n=ys){return r=>{dU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)dU(e,()=>{const c=pn(t[u],e);let d=!1;c.subscribe(Ot(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function cU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):ys));return n?o.pipe(function uU(t){return ye(e=>function zse(t,e){return Hse(e)?t(...e):t(e)}(t,e))}(n)):o}function dU(t,e,n){t?Li(n,t,e):e()}function xn(t,e,n=1/0){return Xe(e)?xn((r,i)=>ye((o,s)=>e(r,o,i,s))(ri(t(r,i))),n):("number"==typeof e&&(n=e),Xt((r,i)=>function qse(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const f=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?_(v):u.push(v),_=v=>{o&&e.next(v),c++;let E=!1;ri(n(v,d++)).subscribe(Ot(e,T=>{i?.(T),o?g(T):e.next(T)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const T=u.shift();s?Li(e,s,()=>_(T)):_(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(Ot(e,g,()=>{h=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function nD(...t){return function Wse(){return function tD(t=1/0){return xn(ys,t)}(1)}()(pn(t,Dm(t)))}function rD(t){return new qe(e=>{ri(t()).subscribe(e)})}function Cm(t,e){const n=Xe(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}const Br=new qe(t=>t.complete());function iD(){return Xt((t,e)=>{let n=null;t._refCount++;const r=Ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class hU extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new an;const n=this.getSubject();e.add(this.source.subscribe(Ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=an.EMPTY)}return e}refCount(){return iD()(this)}}function cr(t,e){return Xt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ot(r,u=>{i?.unsubscribe();let c=0;const d=o++;ri(t(u,d)).subscribe(i=Ot(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ju(t){return t<=0?()=>Br:Xt((e,n)=>{let r=0;e.subscribe(Ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ui(t,e){return Xt((n,r)=>{let i=0;n.subscribe(Ot(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Am(t){return Xt((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fU(t=Yse){return Xt((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Yse(){return new bm}function qs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ui((i,o)=>t(i,o,r)):ys,ju(1),n?Am(e):fU(()=>new bm))}function Vd(t,e){return Xe(e)?xn(t,e,1):xn(t,1)}function gn(t,e,n){const r=Xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Xt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ot(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ys}function Bu(t){return Xt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ot(n,void 0,void 0,s=>{o=ri(t(s,Bu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function oD(t){return t<=0?()=>Br:Xt((e,n)=>{let r=[];e.subscribe(Ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sm(t){return Xt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pU(t){return Xt((e,n)=>{ri(t).subscribe(Ot(n,()=>n.complete(),Pv)),!n.closed&&e.subscribe(n)})}class Rm{}class Pm{}class Ar{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ar?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ar;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ar?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(e,n){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class eae{encodeKey(e){return gU(e)}encodeValue(e){return gU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nae=/%(\d[a-f0-9])/gi,rae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gU(t){return encodeURIComponent(t).replace(nae,(e,n)=>rae[n]??e)}function Mm(t){return`${t}`}class Mo{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new eae,e.fromString){if(e.fromObject)throw new F(2805,!1);this.map=function tae(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Mm):[Mm(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Mo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Mm(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Mm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class iae{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _U(t){return typeof Blob<"u"&&t instanceof Blob}function yU(t){return typeof FormData<"u"&&t instanceof FormData}const Ld="Content-Type",sD="X-Request-URL",vU="text/plain",EU="application/json",IU=`${EU}, ${vU}, */*`;class Ud{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){let o;if(this.url=n,this.method=e.toUpperCase(),function oae(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new F(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Ar,this.context??=new iae,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Mo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||mU(this.body)||_U(this.body)||yU(this.body)||function sae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yU(this.body)?null:_U(this.body)?this.body.type||null:mU(this.body)?null:"string"==typeof this.body?vU:this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?EU:null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.referrer||this.referrer,f=e.integrity||this.integrity,g=e.transferCache??this.transferCache,_=e.timeout??this.timeout,v=void 0!==e.body?e.body:this.body,E=e.withCredentials??this.withCredentials,T=e.reportProgress??this.reportProgress;let A=e.headers||this.headers,V=e.params||this.params;const H=e.context??this.context;return void 0!==e.setHeaders&&(A=Object.keys(e.setHeaders).reduce((q,Z)=>q.set(Z,e.setHeaders[Z]),A)),e.setParams&&(V=Object.keys(e.setParams).reduce((q,Z)=>q.set(Z,e.setParams[Z]),V)),new Ud(n,r,v,{params:V,headers:A,context:H,reportProgress:T,responseType:i,withCredentials:E,transferCache:g,keepalive:o,cache:a,priority:s,timeout:_,mode:u,redirect:c,credentials:d,referrer:h,integrity:f})}}var ii=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ii||{});class aD{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new Ar,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}}class km extends aD{constructor(e={}){super(e)}type=ii.ResponseHeader;clone(e={}){return new km({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $u extends aD{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=ii.Response;clone(e={}){return new $u({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}}class No extends aD{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}let wU=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ud)o=n;else{let u,c;u=i.headers instanceof Ar?i.headers:new Ar(i.headers),i.params&&(c=i.params instanceof Mo?i.params:new Mo({fromObject:i.params})),o=new Ud(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}const s=de(o).pipe(Vd(u=>this.handler.handle(u)));if(n instanceof Ud||"events"===i.observe)return s;const a=s.pipe(Ui(u=>u instanceof $u));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new F(2806,!1);return u.body}));case"blob":return a.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new F(2807,!1);return u.body}));case"text":return a.pipe(ye(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new F(2808,!1);return u.body}));default:return a.pipe(ye(u=>u.body))}case"response":return a;default:throw new F(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Mo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,uD(i,r))}post(n,r,i={}){return this.request("POST",n,uD(i,r))}put(n,r,i={}){return this.request("PUT",n,uD(i,r))}static \u0275fac=function(r){return new(r||t)(oe(Rm))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const bU=new $("");function CU(t,e){return e(t)}const jd=new $(""),AU=new $(""),SU=new $("",{providedIn:"root",factory:()=>!0});let RU=(()=>{class t extends Rm{backend;injector;chain=null;pendingTasks=x(Il);contributeToStability=x(SU);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(jd),...this.injector.get(AU,[])]));this.chain=r.reduceRight((i,o)=>function fae(t,e,n){return(r,i)=>cn(n,()=>e(r,o=>t(o,i)))}(i,o,this.injector),CU)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Sm(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(oe(Pm),oe(Yt))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const vae=/^\)\]\}',?\n/,Eae=RegExp(`^${sD}:`,"m");let MU=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new F(-2800,!1);const r=this.xhrFactory;return de(null).pipe(cr(()=>new qe(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,T)=>s.setRequestHeader(E,T.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",IU),!n.headers.has(Ld)){const E=n.detectContentTypeHeader();null!==E&&s.setRequestHeader(Ld,E)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const E=n.responseType.toLowerCase();s.responseType="json"!==E?E:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const E=s.statusText||"OK",T=new Ar(s.getAllResponseHeaders()),A=function Iae(t){return"responseURL"in t&&t.responseURL?t.responseURL:Eae.test(t.getAllResponseHeaders())?t.getResponseHeader(sD):null}(s)||n.url;return u=new km({headers:T,status:s.status,statusText:E,url:A}),u},d=()=>{let{headers:E,status:T,statusText:A,url:V}=c(),H=null;204!==T&&(H=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=H?200:0);let q=T>=200&&T<300;if("json"===n.responseType&&"string"==typeof H){const Z=H;H=H.replace(vae,"");try{H=""!==H?JSON.parse(H):null}catch(C){H=Z,q&&(q=!1,H={error:C,text:H})}}q?(o.next(new $u({body:H,headers:E,status:T,statusText:A,url:V||void 0})),o.complete()):o.error(new No({error:H,headers:E,status:T,statusText:A,url:V||void 0}))},h=E=>{const{url:T}=c(),A=new No({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(A)};let f=h;n.timeout&&(f=E=>{const{url:T}=c(),A=new No({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:T||void 0});o.error(A)});let g=!1;const _=E=>{g||(o.next(c()),g=!0);let T={type:ii.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(T.total=E.total),"text"===n.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},v=E=>{let T={type:ii.UploadProgress,loaded:E.loaded};E.lengthComputable&&(T.total=E.total),o.next(T)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",f),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:ii.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(oe(XM))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const dD=new $(""),NU=new $("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),kU=new $("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xU{}let Dae=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=JM(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(oe(Tr),oe(NU))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function bae(t,e){const n=t.url.toLowerCase();if(!x(dD)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=x(xU).getToken(),i=x(kU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}const Rae=new $(""),Pae="b",Mae="h",Nae="s",kae="st",xae="u",Oae="rt",hD=new $(""),Fae=["GET","HEAD"];function Vae(t,e){const{isCacheActive:n,...r}=x(hD),{transferCache:i,method:o}=t;if(!n||!1===i||"POST"===o&&!r.includePostRequests&&!i||"POST"!==o&&!Fae.includes(o)||!r.includeRequestsWithAuthHeaders&&function Lae(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}(t)||!1===r.filter?.(t))return e(t);const s=x(_o);if(x(Rae,{optional:!0}))throw new F(2803,!1);const c=function Uae(t,e){const{params:n,method:r,responseType:i}=t,o=FU(n);let s=t.serializeBody();s instanceof URLSearchParams?s=FU(s):"string"!=typeof s&&(s="");const u=function jae(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,i,e,s,o].join("|"));return u}(t,t.url),d=s.get(c,null);let h=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(h=i.includeHeaders),d){const{[Pae]:g,[Oae]:_,[Mae]:v,[Nae]:E,[kae]:T,[xae]:A}=d;let V=g;switch(_){case"arraybuffer":V=(new TextEncoder).encode(g).buffer;break;case"blob":V=new Blob([g])}let H=new Ar(v);return de(new $u({body:V,headers:H,status:E,statusText:T,url:A}))}return e(t)}function FU(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Bae(t){return[{provide:hD,useFactory:()=>(Ft("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:AU,useValue:Vae,multi:!0},{provide:gd,multi:!0,useFactory:()=>{const e=x(ar),n=x(hD);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}let $ae=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(oe(Tr))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xo=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(xo||{});const _e="primary",$d=Symbol("RouteTitle");class Kae{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Hu(t){return new Kae(t)}function Qae(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oi(t,e){const n=t?fD(t):void 0,r=e?fD(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UU(t[i],e[i]))return!1;return!0}function fD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function jU(t){return t.length>0?t[t.length-1]:null}function ji(t){return function Xoe(t){return!!t&&(t instanceof qe||Xe(t.lift)&&Xe(t.subscribe))}(t)?t:pd(t)?pn(Promise.resolve(t)):de(t)}const Jae={exact:function HU(t,e,n){if(!Qs(t.segments,e.segments)||!xm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!HU(t.children[r],e.children[r],n))return!1;return!0},subset:zU},BU={exact:function Xae(t,e){return oi(t,e)},subset:function Zae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UU(t[n],e[n]))},ignored:()=>!0};function $U(t,e,n){return Jae[n.paths](t.root,e.root,n.matrixParams)&&BU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function zU(t,e,n){return GU(t,e,e.segments,n)}function GU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Qs(i,n)||e.hasChildren()||!xm(i,n,r))}if(t.segments.length===n.length){if(!Qs(t.segments,n)||!xm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!zU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Qs(t.segments,i)&&xm(t.segments,i,r)&&t.children[_e])&&GU(t.children[_e],e,o,r)}}function xm(t,e,n){return e.every((r,i)=>BU[n](t[i].parameters,r.parameters))}class Ks{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hu(this.queryParams),this._queryParamMap}toString(){return nue.serialize(this)}}class je{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vm(this)}}class Hd{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hu(this.parameters),this._parameterMap}toString(){return KU(this)}}function Qs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Om=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new Fm,providedIn:"root"})}return t})();class Fm{parse(e){const n=new fue(e);return new Ks(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zd(e.root,!0)}`,r=function oue(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Lm(n)}=${Lm(i)}`).join("&"):`${Lm(n)}=${Lm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function rue(t){return encodeURI(t)}(e.fragment)}`:""}`}}const nue=new Fm;function Vm(t){return t.segments.map(e=>KU(e)).join("/")}function zd(t,e){if(!t.hasChildren())return Vm(t);if(e){const n=t.children[_e]?zd(t.children[_e],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==_e&&r.push(`${i}:${zd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tue(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_e&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_e&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===_e?[zd(t.children[_e],!1)]:[`${i}:${zd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[_e]?`${Vm(t)}/${n[0]}`:`${Vm(t)}/(${n.join("//")})`}}function qU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(t){return qU(t).replace(/%3B/gi,";")}function pD(t){return qU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Um(t){return decodeURIComponent(t)}function WU(t){return Um(t.replace(/\+/g,"%20"))}function KU(t){return`${pD(t.path)}${function iue(t){return Object.entries(t).map(([e,n])=>`;${pD(e)}=${pD(n)}`).join("")}(t.parameters)}`}const sue=/^[^\/()?;#]+/;function gD(t){const e=t.match(sue);return e?e[0]:""}const aue=/^[^\/()?;=#]+/,cue=/^[^=?&#]+/,due=/^[^&#]+/;class fue{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_e]=new je(e,n)),r}parseSegment(){const e=gD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Hd(Um(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function uue(t){const e=t.match(aue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gD(this.remaining);i&&(r=i,this.capture(r))}e[Um(n)]=Um(r)}parseQueryParam(e){const n=function lue(t){const e=t.match(cue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function hue(t){const e=t.match(due);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=WU(n),o=WU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[_e]:new je([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function QU(t){return t.segments.length>0?new je([],{[_e]:t}):t}function YU(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=YU(i);if(r===_e&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function pue(t){if(1===t.numberOfChildren&&t.children[_e]){const e=t.children[_e];return new je(t.segments.concat(e.segments),e.children)}return t}(new je(t.segments,e))}function Ys(t){return t instanceof Ks}function JU(t){let e;const i=QU(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new je(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function XU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mD(i,i,i,n,r);const o=function mue(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ej(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new ej(n,e,r)}(e);if(o.toRoot())return mD(i,i,new je([],{}),n,r);const s=function _ue(t,e,n){if(t.isAbsolute)return new Bm(e,!0,0);if(!n)return new Bm(e,!1,NaN);if(null===n.parent)return new Bm(n,!0,0);const r=jm(t.commands[0])?0:1;return function yue(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Bm(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?qd(s.segmentGroup,s.index,o.commands):tj(s.segmentGroup,s.index,o.commands);return mD(i,s.segmentGroup,a,n,r)}function jm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gd(t){return"object"==typeof t&&null!=t&&t.outlets}function mD(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:ZU(t,e,n);const a=QU(YU(s));return new Ks(a,o,i)}function ZU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:ZU(o,e,n)}),new je(t.segments,r)}class ej{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jm(r[0]))throw new F(4003,!1);const i=r.find(Gd);if(i&&i!==jU(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bm{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function tj(t,e,n){if(t??=new je([],{}),0===t.segments.length&&t.hasChildren())return qd(t,e,n);const r=function Eue(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Gd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!rj(u,c,s))return o;r+=2}else{if(!rj(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new je(t.segments.slice(0,r.pathIndex),{});return o.children[_e]=new je(t.segments.slice(r.pathIndex),t.children),qd(o,0,i)}return r.match&&0===i.length?new je(t.segments,{}):r.match&&!t.hasChildren()?_D(t,e,n):r.match?qd(t,0,i):_D(t,e,n)}function qd(t,e,n){if(0===n.length)return new je(t.segments,{});{const r=function vue(t){return Gd(t[0])?t[0].outlets:{[_e]:t}}(n),i={};if(Object.keys(r).some(o=>o!==_e)&&t.children[_e]&&1===t.numberOfChildren&&0===t.children[_e].segments.length){const o=qd(t.children[_e],e,n);return new je(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tj(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new je(t.segments,i)}}function _D(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Gd(o)){const u=Iue(o.outlets);return new je(r,u)}if(0===i&&jm(n[0])){r.push(new Hd(t.segments[e].path,nj(n[0]))),i++;continue}const s=Gd(o)?o.outlets[_e]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&jm(a)?(r.push(new Hd(s,nj(a))),i+=2):(r.push(new Hd(s,{})),i++)}return new je(r,{})}function Iue(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_D(new je([],{}),0,r))}),e}function nj(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rj(t,e,n){return t==n.path&&oi(e,n.parameters)}const $m="imperative";var be=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(be||{});class si{id;url;constructor(e,n){this.id=e,this.url=n}}class yD extends si{type=be.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Js extends si{urlAfterRedirects;type=be.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Jn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Jn||{}),vD=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vD||{});class Xs extends si{reason;code;type=be.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wd extends si{reason;code;type=be.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class ED extends si{error;target;type=be.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ij extends si{urlAfterRedirects;state;type=be.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tue extends si{urlAfterRedirects;state;type=be.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wue extends si{urlAfterRedirects;state;shouldActivate;type=be.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Due extends si{urlAfterRedirects;state;type=be.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bue extends si{urlAfterRedirects;state;type=be.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cue{route;type=be.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aue{route;type=be.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sue{snapshot;type=be.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rue{snapshot;type=be.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pue{snapshot;type=be.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mue{snapshot;type=be.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ID{}class Hm{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function $r(t){return t.outlet||_e}function zu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Lue{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Kd(this.rootInjector)}}let Kd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Lue(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(oe(Yt))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class oj{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=TD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=TD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=wD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wD(e,this._root).map(n=>n.value)}}function TD(t,e){if(t===e.value)return e;for(const n of e.children){const r=TD(t,n);if(r)return r}return null}function wD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wD(t,n);if(r.length)return r.unshift(e),r}return[]}class Hr{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Gu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class sj extends oj{snapshot;constructor(e,n){super(e),this.snapshot=n,DD(this,e)}toString(){return this.snapshot.toString()}}function aj(t){const e=function Uue(t){const o=new Gm([],{},{},"",{},_e,t,null,{});return new uj("",new Hr(o,[]))}(t),n=new _r([new Hd("",{})]),r=new _r({}),i=new _r({}),o=new _r({}),s=new _r(""),a=new Zs(n,r,o,s,i,_e,t,e.root);return a.snapshot=e.root,new sj(new Hr(a,[]),e)}class Zs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ye(c=>c[$d]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(e=>Hu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(e=>Hu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zm(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&lj(i)&&(r.resolve[$d]=i.title),r}class Gm{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$d]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uj extends oj{url;constructor(e,n){super(n),this.url=e,DD(this,n)}toString(){return cj(this._root)}}function DD(t,e){e.value._routerState=t,e.children.forEach(n=>DD(t,n))}function cj(t){const e=t.children.length>0?` { ${t.children.map(cj).join(", ")} } `:"";return`${t.value}${e}`}function bD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,oi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),oi(e.params,n.params)||t.paramsSubject.next(n.params),function Yae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!oi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),oi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function CD(t,e){const n=oi(t.params,e.params)&&function eue(t,e){return Qs(t,e)&&t.every((n,r)=>oi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||CD(t.parent,e.parent))}function lj(t){return"string"==typeof t.title||null===t.title}const jue=new $("");let AD=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=_e;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=ere(void 0);parentContexts=x(Kd);location=x(Lr);changeDetector=x(Nd);inputBinder=x(SD,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Bue(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fr]})}return t})();class Bue{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Zs?this.route:e===Kd?this.childContexts:e===jue?this.outletData:this.parent.get(e,n)}}const SD=new $("");let dj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ad({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&Ed(0,"router-outlet")},dependencies:[AD],encapsulation:2})}return t})();function RD(t){const e=t.children&&t.children.map(RD),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=dj),n}function Qd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Hue(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qd(t,r,i);return Qd(t,r)})}(t,e,n);return new Hr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qd(t,a)),s}}const r=function zue(t){return new Zs(new _r(t.url),new _r(t.params),new _r(t.queryParams),new _r(t.fragment),new _r(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Qd(t,o));return new Hr(r,i)}}class PD{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const hj="ngNavigationCancelingError";function qm(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fj(!1,Jn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fj(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[hj]=!0,n.cancellationCode=e,n}function pj(t){return!!t&&t[hj]}class Wue{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Gu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Gu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mue(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rue(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(bD(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bD(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class gj{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wm{component;route;constructor(e,n){this.component=e,this.route=n}}function Kue(t,e,n){const r=t._root;return Yd(r,e?e._root:null,n,[r.value])}function qu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Y6(t){return null!==Qf(t)}(t)?e.get(t):t:r}function Yd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gu(e);return t.children.forEach(s=>{(function Yue(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Jue(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qs(t.url,e.url)||!oi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CD(t,e)||!oi(t.queryParams,e.queryParams);default:return!CD(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gj(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Yd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wm(a.outlet.component,s))}else s&&Jd(e,a,i),i.canActivateChecks.push(new gj(r)),Yd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jd(a,n.getContext(s),i)),i}function Jd(t,e,n){const r=Gu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Jd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Wm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xd(t){return"function"==typeof t}function mj(t){return t instanceof bm||"EmptyError"===t?.name}const Km=Symbol("INITIAL_VALUE");function Wu(){return cr(t=>lU(t.map(e=>e.pipe(ju(1),function Qse(...t){const e=Dm(t);return Xt((n,r)=>{(e?nD(t,n,e):nD(t,n)).subscribe(r)})}(Km)))).pipe(ye(e=>{for(const n of e)if(!0!==n){if(n===Km)return Km;if(!1===n||ice(n))return n}return!0}),Ui(e=>e!==Km),ju(1)))}function ice(t){return Ys(t)||t instanceof PD}function _j(t){return function V6(...t){return $P(t)}(gn(e=>{if("boolean"!=typeof e)throw qm(0,e)}),ye(e=>!0===e))}class MD{segmentGroup;constructor(e){this.segmentGroup=e||null}}class ND extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function Ku(t){return Cm(new MD(t))}function gce(t){return Cm(new F(4e3,!1))}class _ce{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[_e])return gce();i=i.children[_e]}}applyRedirectCommands(e,n,r,i,o){return function yce(t,e,n){if("string"==typeof t)return de(t);const r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:c,data:d,title:h}=e;return ji(cn(n,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:h})))}(n,i,o).pipe(ye(s=>{if(s instanceof Ks)throw new ND(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if("/"===s[0])throw new ND(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ks(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new je(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const kD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vce(t,e,n,r,i){const o=yj(t,e,n);return o.matched?(r=function kue(t,e){return t.providers&&!t._injector&&(t._injector=dT(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function pce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=qu(s,t);return ji(function rce(t){return t&&Xd(t.canMatch)}(a)?a.canMatch(e,n):cn(t,()=>a(e,n)))})).pipe(Wu(),_j()):de(!0)}(r,e,n).pipe(ye(s=>!0===s?o:{...kD}))):de(o)}function yj(t,e,n){if("**"===e.path)return function Ece(t){return{matched:!0,parameters:t.length>0?jU(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...kD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qae)(n,t,e);if(!i)return{...kD};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vj(t,e,n,r){return n.length>0&&function wce(t,e,n){return n.some(r=>Qm(t,e,r)&&$r(r)!==_e)}(t,n,r)?{segmentGroup:new je(e,Tce(r,new je(n,t.children))),slicedSegments:[]}:0===n.length&&function Dce(t,e,n){return n.some(r=>Qm(t,e,r))}(t,n,r)?{segmentGroup:new je(t.segments,Ice(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new je(t.segments,t.children),slicedSegments:n}}function Ice(t,e,n,r){const i={};for(const o of n)if(Qm(t,e,o)&&!r[$r(o)]){const s=new je([],{});i[$r(o)]=s}return{...r,...i}}function Tce(t,e){const n={};n[_e]=e;for(const r of t)if(""===r.path&&$r(r)!==_e){const i=new je([],{});n[$r(r)]=i}return n}function Qm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Cce{}class Rce{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _ce(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){const e=vj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ye(({children:n,rootSnapshot:r})=>{const i=new Hr(r,n),o=new uj("",i),s=function gue(t,e,n=null,r=null){return XU(JU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new Gm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_e,n).pipe(ye(r=>({children:r,rootSnapshot:n})),Bu(r=>{if(r instanceof ND)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof MD?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ye(s=>s instanceof Hr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return pn(o).pipe(Vd(s=>{const a=r.children[s],u=function Vue(t,e){const n=t.filter(r=>$r(r)===e);return n.push(...t.filter(r=>$r(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function Xse(t,e){return Xt(function Jse(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Ot(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Am(null),function Zse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ui((i,o)=>t(i,o,r)):ys,oD(1),n?Am(e):fU(()=>new bm))}(),xn(s=>{if(null===s)return Ku(r);const a=Ej(s);return function Pce(t){t.sort((e,n)=>e.value.outlet===_e?-1:n.value.outlet===_e?1:e.value.outlet.localeCompare(n.value.outlet))}(a),de(a)}))}processSegment(e,n,r,i,o,s,a){return pn(n).pipe(Vd(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Bu(c=>{if(c instanceof MD)return de(null);throw c}))),qs(u=>!!u),Bu(u=>{if(mj(u))return function bce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?de(new Cce):Ku(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return $r(r)===s||s!==_e&&Qm(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ku(i):Ku(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=yj(n,i,o);if(!u)return Ku(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new Gm(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ij(i),$r(i),i.component??i._loadedComponent??null,i,Tj(i)),_=zm(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(_.params),g.data=Object.freeze(_.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e).pipe(cr(E=>this.applyRedirects.lineralizeSegments(i,E)),xn(E=>this.processSegment(e,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=vce(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(cr(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(cr(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=u,_=new Gm(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ij(r),$r(r),r.component??r._loadedComponent??null,r,Tj(r)),v=zm(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:E,slicedSegments:T}=vj(n,f,g,c);if(0===T.length&&E.hasChildren())return this.processChildren(d,c,E,_).pipe(ye(V=>new Hr(_,V)));if(0===c.length&&0===T.length)return de(new Hr(_,[]));const A=$r(r)===o;return this.processSegment(d,c,E,T,A?_e:o,!0,_).pipe(ye(V=>new Hr(_,V instanceof Hr?[V]:[])))})):Ku(n)))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function fce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=qu(s,t);return ji(function Zue(t){return t&&Xd(t.canLoad)}(a)?a.canLoad(e,n):cn(t,()=>a(e,n)))})).pipe(Wu(),_j())}(e,n,r).pipe(xn(i=>i?this.configLoader.loadChildren(e,n).pipe(gn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function mce(){return Cm(fj(!1,Jn.GuardRejected))}())):de({routes:[],injector:e})}}function Mce(t){const e=t.value.routeConfig;return e&&""===e.path}function Ej(t){const e=[],n=new Set;for(const r of t){if(!Mce(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Ej(r.children);e.push(new Hr(r.value,i))}return e.filter(r=>!n.has(r))}function Ij(t){return t.data||{}}function Tj(t){return t.resolve||{}}function wj(t){const e=t.children.map(n=>wj(n)).flat();return[t,...e]}function xD(t){return cr(e=>{const n=t(e);return n?pn(n).pipe(ye(()=>e)):de(e)})}let Dj=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===_e);return r}getResolvedTitleForRoute(n){return n.data[$d]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(Vce),providedIn:"root"})}return t})(),Vce=(()=>{class t extends Dj{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(oe($ae))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ym=new $("",{providedIn:"root",factory:()=>({})}),OD=new $("");let bj=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Jte);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return de(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ji(cn(n,()=>r.loadComponent())).pipe(ye(Cj),cr(Aj),gn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Sm(()=>{this.componentLoaders.delete(r)})),o=new hU(i,()=>new Un).pipe(iD());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Lce(t,e,n,r){return ji(cn(n,()=>t.loadChildren())).pipe(ye(Cj),cr(Aj),xn(i=>i instanceof YO||Array.isArray(i)?de(i):pn(e.compileModuleAsync(i))),ye(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(OD,[],{optional:!0,self:!0}).flat()),{routes:s.map(RD),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Sm(()=>{this.childrenLoaders.delete(r)})),s=new hU(o,()=>new Un).pipe(iD());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cj(t){return function Uce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function Aj(t){return de(t)}let FD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(jce),providedIn:"root"})}return t})(),jce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Bce=new $(""),zce=new $("");let Gce=(()=>{class t{currentNavigation=$t(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Un;transitionAbortWithErrorSubject=new Un;configLoader=x(bj);environmentInjector=x(Yt);destroyRef=x(or);urlSerializer=x(Om);rootContexts=x(Kd);location=x(wl);inputBindingEnabled=null!==x(SD,{optional:!0});titleStrategy=x(Dj);options=x(Ym,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(FD);createViewTransition=x(Bce,{optional:!0});navigationErrorHandler=x(zce,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new Aue(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Cue(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;Qe(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new _r(null),this.transitions.pipe(Ui(r=>null!==r),cr(r=>{let i=!1;return de(r).pipe(cr(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jn.SupersededByNewNavigation),Br;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:"string"==typeof o.extras.browserUrl?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>o.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Wd(o.id,this.urlSerializer.serialize(o.rawUrl),"",vD.IgnoredSameUrlNavigation)),o.resolve(!1),Br;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(cr(u=>(this.events.next(new yD(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Br:Promise.resolve(u))),function Nce(t,e,n,r,i,o){return xn(s=>function Ace(t,e,n,r,i,o,s="emptyOnly"){return new Rce(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ye(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),gn(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=u.urlAfterRedirects,d));const c=new ij(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){const{id:u,extractedUrl:c,source:d,restoredState:h,extras:f}=o,g=new yD(u,this.urlSerializer.serialize(c),d,h);this.events.next(g);const _=aj(this.rootComponentType).snapshot;return this.currentTransition=r={...o,targetSnapshot:_,urlAfterRedirects:c,extras:{...f,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(v=>(v.finalUrl=c,v)),de(r)}return this.events.next(new Wd(o.id,this.urlSerializer.serialize(o.extractedUrl),"",vD.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Br}),gn(o=>{const s=new Tue(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ye(o=>(this.currentTransition=r={...o,guards:Kue(o.targetSnapshot,o.currentSnapshot,this.rootContexts)},r)),function oce(t,e){return xn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?de({...n,guardsResult:!0}):function sce(t,e,n,r){return pn(t).pipe(xn(i=>function hce(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const u=zu(e)??i,c=qu(a,u);return ji(function nce(t){return t&&Xd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):cn(u,()=>c(t,e,n,r))).pipe(qs())})).pipe(Wu()):de(!0)}(i.component,i.route,n,e,r)),qs(i=>!0!==i,!0))}(s,r,i,t).pipe(xn(a=>a&&function Xue(t){return"boolean"==typeof t}(a)?function ace(t,e,n,r){return pn(e).pipe(Vd(i=>nD(function cce(t,e){return null!==t&&e&&e(new Sue(t)),de(!0)}(i.route.parent,r),function uce(t,e){return null!==t&&e&&e(new Pue(t)),de(!0)}(i.route,r),function dce(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Que(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>rD(()=>de(s.guards.map(u=>{const c=zu(s.node)??n,d=qu(u,c);return ji(function tce(t){return t&&Xd(t.canActivateChild)}(d)?d.canActivateChild(r,t):cn(c,()=>d(r,t))).pipe(qs())})).pipe(Wu())));return de(o).pipe(Wu())}(t,i.path,n),function lce(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>rD(()=>{const s=zu(e)??n,a=qu(o,s);return ji(function ece(t){return t&&Xd(t.canActivate)}(a)?a.canActivate(e,t):cn(s,()=>a(e,t))).pipe(qs())}));return de(i).pipe(Wu())}(t,i.route,n))),qs(i=>!0!==i,!0))}(r,o,t,e):de(a)),ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),gn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&"boolean"!=typeof o.guardsResult)throw qm(0,o.guardsResult);const s=new wue(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ui(o=>!!o.guardsResult||(this.cancelNavigationTransition(o,"",Jn.GuardRejected),!1)),xD(o=>{if(0!==o.guards.canActivateChecks.length)return de(o).pipe(gn(s=>{const a=new Due(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),cr(s=>{let a=!1;return de(s).pipe(function kce(t,e){return xn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of wj(u))s.add(c);let a=0;return pn(s).pipe(Vd(u=>o.has(u)?function xce(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!lj(i)&&(o[$d]=i.title),rD(()=>(t.data=zm(t,t.parent,n).resolve,function Oce(t,e,n,r){const i=fD(t);if(0===i.length)return de({});const o={};return pn(i).pipe(xn(s=>function Fce(t,e,n,r){const i=zu(e)??r,o=qu(t,i);return ji(o.resolve?o.resolve(e,n):cn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(qs(),gn(a=>{if(a instanceof PD)throw qm(new Fm,a);o[s]=a}))),oD(1),ye(()=>o),Bu(s=>mj(s)?Br:Cm(s)))}(o,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data={...t.data,...s},null)))))}(u,r,t,e):(u.data=zm(u,u.parent,t).resolve,de(void 0))),gn(()=>a++),oD(1),xn(u=>a===s.size?de(n):Br))})}(this.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Jn.NoDataFromResolver)}}))}),gn(s=>{const a=new bue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),xD(o=>{const s=a=>{const u=[];if(a.routeConfig?.loadComponent){const c=zu(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(gn(d=>{a.component=d}),ye(()=>{})))}for(const c of a.children)u.push(...s(c));return u};return lU(s(o.targetSnapshot.root)).pipe(Am(null),ju(1))}),xD(()=>this.afterPreactivation()),cr(()=>{const{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?pn(a).pipe(ye(()=>r)):de(r)}),ye(o=>{const s=function $ue(t,e,n){const r=Qd(t,e._root,n?n._root:void 0);return new sj(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r={...o,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),gn(()=>{this.events.next(new ID)}),((t,e,n,r)=>ye(i=>(new Wue(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ju(1),pU(new qe(o=>{const s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ui(()=>!i&&!r.targetRouterState),gn(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Jn.Aborted)}))),gn({next:o=>{i=!0,this.lastSuccessfulNavigation=Qe(this.currentNavigation),this.events.next(new Js(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),pU(this.transitionAbortWithErrorSubject.pipe(gn(o=>{throw o}))),Sm(()=>{i||this.cancelNavigationTransition(r,"",Jn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Bu(o=>{if(this.destroyed)return r.resolve(!1),Br;if(i=!0,pj(o))this.events.next(new Xs(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),function Gue(t){return pj(t)&&Ys(t.url)}(o)?this.events.next(new Hm(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{const s=new ED(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{const a=cn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof PD))throw this.events.next(s),o;{const{message:u,cancellationCode:c}=qm(0,a);this.events.next(new Xs(r.id,this.urlSerializer.serialize(r.extractedUrl),u,c)),this.events.next(new Hm(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Br}))}))}cancelNavigationTransition(n,r,i){const o=new Xs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Qe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qce(t){return t!==$m}let Wce=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(Qce),providedIn:"root"})}return t})();class Kce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Qce=(()=>{class t extends Kce{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sj=(()=>{class t{urlSerializer=x(Om);options=x(Ym,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(wl);urlHandlingStrategy=x(FD);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ks;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ks?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=aj(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>x(Yce),providedIn:"root"})}return t})(),Yce=(()=>{class t extends Sj{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof yD?this.updateStateMemento():n instanceof Wd?this.commitTransition(r):n instanceof ij?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ID?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xs&&n.code!==Jn.SupersededByNewNavigation&&n.code!==Jn.Redirect?this.restoreHistory(r):n instanceof ED?this.restoreHistory(r,!0):n instanceof Js&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,u={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",u)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ht(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qu=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(hd);stateManager=x(Sj);options=x(Ym,{optional:!0})||{};pendingTasks=x(po);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Gce);urlSerializer=x(Om);location=x(wl);urlHandlingStrategy=x(FD);injector=x(Yt);_events=new Un;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(Wce);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(OD,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(SD,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new an;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=Qe(this.navigationTransitions.currentNavigation);if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Xs&&r.code!==Jn.Redirect&&r.code!==Jn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Js)this.navigated=!0;else if(r instanceof Hm){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||qce(i.source),...s};this.scheduleNavigation(a,$m,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Nue(t){return!(t instanceof ID||t instanceof Hm)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$m,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(xr)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Qe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(RD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=JU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return XU(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ys(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$m,null,r)}navigate(n,r={skipLocationChange:!1}){return function ele(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new F(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Xce}:!1===r?{...Zce}:r,Ys(n))return $U(this.currentUrlTree,n,i);const o=this.parseUrl(n);return $U(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,u=f});const d=this.pendingTasks.add();return function Jce(t,e){t.events.pipe(Ui(n=>n instanceof Js||n instanceof Xs||n instanceof ED||n instanceof Wd),ye(n=>n instanceof Js||n instanceof Wd?0:n instanceof Xs&&(n.code===Jn.Redirect||n.code===Jn.SupersededByNewNavigation)?2:1),Ui(n=>2!==n),ju(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zd=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$t(null);get href(){return Qe(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Un;applicationErrorHandler=x(xr);options=x(Ym,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Jne("href"),{optional:!0}));const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u||!("object"!=typeof customElements||!customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let n=this.preserveFragment;const r=i=>"merge"===i||"preserve"===i;n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Js&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ys(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;if(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))return!0;const u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.reactiveHref.set(null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:Ys(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(z(Qu),z(Zs),Nl("tabindex"),z(Oi),z(sr),z(tu))};static \u0275dir=le({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){1&r&&Mn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ti("href",i.reactiveHref(),ex)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lu],replaceUrl:[2,"replaceUrl","replaceUrl",Lu],routerLink:"routerLink"},features:[Fr]})}return t})();const VD=new $("");function Pj(t){return t.routerState.root}function Mj(){const t=x(fn);return e=>{const n=t.get(ar);if(e!==n.components[0])return;const r=t.get(Qu),i=t.get(Nj);1===t.get(LD)&&r.initialNavigation(),t.get(kj,null,{optional:!0})?.setUpPreloading(),t.get(VD,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Nj=new $("",{factory:()=>new Un}),LD=new $("",{providedIn:"root",factory:()=>1}),kj=new $(""),Oj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},jD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let f=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new ple;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ple extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jm=function(t){return function(t){const e=Oj(t);return jD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},eh=function(t){try{return jD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Xm=()=>{try{return function Vj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Lj=()=>{var t;return null===(t=Xm())||void 0===t?void 0:t.config};class Zm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function th(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function BD(){return(BD=b(function*(t){return(yield fetch(t,{credentials:"include"})).ok})).apply(this,arguments)}const nh={};let Uj=!1;function Ale(t,e){if(typeof window>"u"||typeof document>"u"||!th(window.location.host)||nh[t]===e||nh[t]||Uj)return;function n(f){return`__firebase__banner__${f}`}nh[t]=e;const r="__firebase__banner",o=function ble(){const t={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function h(){const f=function Cle(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),T=n("preprendIcon"),A=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const V=f.element;(function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"})(V),function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}(E,v);const H=function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Uj=!0,function s(){const f=document.getElementById(r);f&&f.remove()}()},f}();(function u(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"})(A,T),V.append(A,_,E,H),document.body.appendChild(V)}o?(_.innerText="Preview backend disconnected.",A.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(A.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h()}function en(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bj(){return!function jj(){var t;const e=null===(t=Xm())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $D(){try{return"object"==typeof indexedDB}catch{return!1}}class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Ole(t,e){return t.replace(Fle,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Bi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Fle=/\{\$([^}]+)}/g;function Ju(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(zj(o)&&zj(s)){if(!Ju(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zj(t){return null!==t&&"object"==typeof t}function HD(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Lle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Ule(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=zD),void 0===i.error&&(i.error=zD),void 0===i.complete&&(i.complete=zD);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zD(){}function mn(t){return t&&t._delegate?t._delegate:t}class $i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class Gle{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Wle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return b(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ea?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gle(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const qD=[];var Te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Te||{});const Gj={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Qle=Te.INFO,Yle={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Jle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Yle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class t_{constructor(e){this.name=e,this._logLevel=Qle,this._logHandler=Jle,this._userLogHandler=null,qD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Gj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}let qj,Wj;const Kj=new WeakMap,WD=new WeakMap,Qj=new WeakMap,KD=new WeakMap,QD=new WeakMap;let YD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return WD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ode(t){return"function"==typeof t?function ide(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ede(){return Wj||(Wj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(JD(this),e),Oo(Kj.get(this))}:function(...e){return Oo(t.apply(JD(this),e))}:function(e,...n){const r=t.call(JD(this),e,...n);return Qj.set(r,e.sort?e.sort():[e]),Oo(r)}}(t):(t instanceof IDBTransaction&&function nde(t){if(WD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});WD.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Zle(){return qj||(qj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,YD):t)}function Oo(t){if(t instanceof IDBRequest)return function tde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Kj.set(n,t)}).catch(()=>{}),QD.set(e,t),e}(t);if(KD.has(t))return KD.get(t);const e=ode(t);return e!==t&&(KD.set(t,e),QD.set(e,t)),e}const JD=t=>QD.get(t),ade=["get","getKey","getAll","getAllKeys","count"],ude=["put","add","delete","clear"],XD=new Map;function Yj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(XD.get(e))return XD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ude.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ade.includes(n))return;const o=function(){var s=b(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return XD.set(e,o),o}!function rde(t){YD=t(YD)}(t=>({...t,get:(e,n,r)=>Yj(e,n)||t.get(e,n,r),has:(e,n)=>!!Yj(e,n)||t.has(e,n)}));class cde{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function lde(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const n_="@firebase/app",Hi=new t_("@firebase/app"),dde="@firebase/app-compat",hde="@firebase/analytics-compat",fde="@firebase/analytics",pde="@firebase/app-check-compat",gde="@firebase/app-check",mde="@firebase/auth",_de="@firebase/auth-compat",yde="@firebase/database",vde="@firebase/data-connect",Ede="@firebase/database-compat",Ide="@firebase/functions",Tde="@firebase/functions-compat",wde="@firebase/installations",Dde="@firebase/installations-compat",bde="@firebase/messaging",Cde="@firebase/messaging-compat",Ade="@firebase/performance",Sde="@firebase/performance-compat",Rde="@firebase/remote-config",Pde="@firebase/remote-config-compat",Mde="@firebase/storage",Nde="@firebase/storage-compat",kde="@firebase/firestore",xde="@firebase/ai",Ode="@firebase/firestore-compat",Fde="firebase",r_="[DEFAULT]",Lde={[n_]:"fire-core",[dde]:"fire-core-compat",[fde]:"fire-analytics",[hde]:"fire-analytics-compat",[gde]:"fire-app-check",[pde]:"fire-app-check-compat",[mde]:"fire-auth",[_de]:"fire-auth-compat",[yde]:"fire-rtdb",[vde]:"fire-data-connect",[Ede]:"fire-rtdb-compat",[Ide]:"fire-fn",[Tde]:"fire-fn-compat",[wde]:"fire-iid",[Dde]:"fire-iid-compat",[bde]:"fire-fcm",[Cde]:"fire-fcm-compat",[Ade]:"fire-perf",[Sde]:"fire-perf-compat",[Rde]:"fire-rc",[Pde]:"fire-rc-compat",[Mde]:"fire-gcs",[Nde]:"fire-gcs-compat",[kde]:"fire-fst",[Ode]:"fire-fst-compat",[xde]:"fire-vertex","fire-js":"fire-js",[Fde]:"fire-js-all"},ta=new Map,rh=new Map,ih=new Map;function Jj(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(ih.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;ih.set(e,t);for(const n of ta.values())Jj(n,t);for(const n of rh.values())Jj(n,t);return!0}function zi(t){return null!=t&&void 0!==t.settings}const Sr=new Yu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Zj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const i_="11.10.0";function tB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:r_,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(n||(n=Lj()),!n)throw Sr.create("no-options");const o=ta.get(i);if(o){if(Ju(n,o.options)&&Ju(r,o.config))return o;throw Sr.create("duplicate-app",{appName:i})}const s=new Kle(i);for(const u of ih.values())s.addComponent(u);const a=new Zj(n,r,s);return ta.set(i,a),a}function nB(t=r_){const e=ta.get(t);if(!e&&t===r_&&Lj())return tB();if(!e)throw Sr.create("no-app",{appName:t});return e}function rB(){return Array.from(ta.values())}function Xn(t,e,n){var r;let i=null!==(r=Lde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Hi.warn(a.join(" "))}Fo(new $i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const oh="firebase-heartbeat-store";let tb=null;function iB(){return tb||(tb=function sde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Oo(s.result),u.oldVersion,u.newVersion,Oo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),tb}function nb(){return(nb=b(function*(t){try{const n=(yield iB()).transaction(oh),r=yield n.objectStore(oh).get(sB(t));return yield n.done,r}catch(e){if(e instanceof Bi)Hi.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(n.message)}}})).apply(this,arguments)}function oB(t,e){return rb.apply(this,arguments)}function rb(){return(rb=b(function*(t,e){try{const r=(yield iB()).transaction(oh,"readwrite");yield r.objectStore(oh).put(e,sB(t)),yield r.done}catch(n){if(n instanceof Bi)Hi.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(r.message)}}})).apply(this,arguments)}function sB(t){return`${t.name}!${t.options.appId}`}class Kde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return b(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aB();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function Jde(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){Hi.warn(i)}})()}getHeartbeatsHeader(){var e=this;return b(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=aB(),{heartbeatsToSend:i,unsentEntries:o}=function Qde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uB(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jm(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Hi.warn(r),""}})()}}function aB(){return(new Date).toISOString().substring(0,10)}class Yde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(function*(){return!!$D()&&function kle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return b(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Gde(t){return nb.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return b(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return oB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return b(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return oB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function uB(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}function ib(t,e){const r=e?.manualCleanup?null:e?.injector?.get(or)??x(or),i=function rhe(t=Object.is){return(e,n)=>1===e.kind&&1===n.kind&&t(e.value,n.value)}(e?.equal);let o,s;o=$t(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue},{equal:i});const a=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&0===o().kind)throw new F(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Yn(()=>{const u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new F(601,!1)}},{equal:e?.equal})}!function Xde(t){Fo(new $i("platform-logger",e=>new cde(e),"PRIVATE")),Fo(new $i("heartbeat",e=>new Kde(e),"PRIVATE")),Xn(n_,"0.13.2",t),Xn(n_,"0.13.2","esm2017"),Xn("fire-js","")}(""),Xn("firebase","11.10.0","app");class ohe extends an{constructor(e,n){super()}schedule(e,n=0){return this}}const o_={setInterval(t,e,...n){const{delegate:r}=o_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=o_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class cB extends ohe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return o_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&o_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zf(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const lB={now:()=>(lB.delegate||Date).now(),delegate:void 0};class sh{constructor(e,n=sh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}sh.now=lB.now;class dB extends sh{constructor(e,n=sh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uhe=new class ahe extends dB{}(class she extends cB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),che=new dB(cB),ob=new ul("ANGULARFIRE2_VERSION");const ab=(t,e)=>{const n=e?[e]:rB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};var Xu=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Xu||{}),ub=HL()&&typeof Zone<"u"?Xu.WARN:Xu.SILENT;class hB{zone;delegate;constructor(e,n=uhe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},n,r)}}let cb=(()=>{class t{outsideAngular;insideAngular;constructor(){const n=x(ve);this.outsideAngular=n.runOutsideAngular(()=>new hB(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new hB(typeof Zone>"u"?void 0:Zone.current,che))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fB=!1;function na(t){const e=x(ve,{optional:!0});return e?e.run(()=>t()):t()}const hhe=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),cn(n,()=>na(()=>t.apply(void 0,r)))),Zu=(t,e,n)=>(n||=e?Xu.WARN:Xu.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=x(cb),s=x(Il),a=x(Yt)}catch{return function lhe(t,e){!fB&&(ub>Xu.SILENT||!1)&&(fB=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ub>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}(t,n),t.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=na(()=>s.add())),i[c]=hhe(i[c],r,a));const u=function dhe(t){const e=x(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}(()=>t.apply(this,i));return e?u instanceof qe?u.pipe(wm(o.outsideAngular),Tm(o.insideAngular),function ihe(t){void 0===t&&(t=x(fn));const e=t.get(Il);return n=>new qe(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):u instanceof Promise?na(()=>{const c=s.add();return new Promise((d,h)=>{u.then(f=>cn(a,()=>na(()=>d(f))),f=>cn(a,()=>na(()=>h(f)))).finally(c)})}):"function"==typeof u&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:na(()=>u):u instanceof qe?u.pipe(wm(o.outsideAngular),Tm(o.insideAngular)):na(()=>u)});class ec{constructor(e){return e}}class pB{constructor(){return rB()}}const lb=new $("angularfire2._apps"),phe={provide:ec,useFactory:function fhe(t){return t&&1===t.length?t[0]:new ec(nB())},deps:[[new Or,lb]]},ghe={provide:pB,deps:[[new Or,lb]]};function mhe(t){return(e,n)=>{const r=n.get(Ol);Xn("angularfire",ob.full,"core"),Xn("angularfire",ob.full,"app"),Xn("angular",Vv.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new ec(i)}}const yhe=Zu(tB,!0),db=new Map,gB={activated:!1,tokenObservers:[]},vhe={initialized:!1,enabled:!1};function vt(t){return db.get(t)||Object.assign({},gB)}function s_(){return vhe}class bhe{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return b(function*(){n.stop();try{n.pending=new Zm,n.pending.promise.catch(r=>{}),yield function Che(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Zm,n.pending.promise.catch(r=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new Yu("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function fb(t){if(!vt(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function c_(t,e){return gb.apply(this,arguments)}function gb(){return(gb=b(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(h){throw tn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw tn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw tn.create("fetch-parse-error",{originalErrorMessage:h?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+c,issuedAtTimeMillis:d}})).apply(this,arguments)}function _B(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ah="firebase-app-check-store";let l_=null;function mb(){return(mb=b(function*(t,e){const r=(yield function vB(){return l_||(l_=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ah,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n?.message}))}}),l_)}()).transaction(ah,"readwrite"),o=r.objectStore(ah).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(tn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Vo=new t_("@firebase/app-check");function vb(t,e){return $D()?function khe(t,e){return function EB(t,e){return mb.apply(this,arguments)}(function TB(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Vo.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ib(){return s_().enabled}function Tb(){return wb.apply(this,arguments)}function wb(){return(wb=b(function*(){const t=s_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Uhe={error:"UNKNOWN_ERROR"};function jhe(t){return jD.encodeString(JSON.stringify(t),!1)}function d_(t){return Db.apply(this,arguments)}function Db(){return(Db=b(function*(t,e=!1,n=!1){const r=t.app;fb(r);const i=vt(r);let s,o=i.token;if(o&&!tc(o)&&(i.token=void 0,o=void 0),!o){const c=yield i.cachedTokenPromise;c&&(tc(c)?o=c:yield vb(r,void 0))}if(!e&&o&&tc(o))return{token:o.token};let u,a=!1;if(Ib())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=c_(_B(r,yield Tb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield vb(r,c),i.token=c,{token:c.token}}catch(c){return"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?Vo.warn(c.message):n&&Vo.error(c),Sb(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield vt(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?Vo.warn(c.message):n&&Vo.error(c),s=c}return o?s?u=tc(o)?{token:o.token,internalError:s}:Sb(s):(u={token:o.token},i.token=o,yield vb(r,o)):u=Sb(s),a&&function bB(t,e){const n=vt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function bb(){return(bb=b(function*(t){const e=t.app;fb(e);const{provider:n}=vt(e);if(Ib()){const r=yield Tb(),{token:i}=yield c_(_B(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Ab(t,e){const n=vt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function DB(t){const{app:e}=t,n=vt(e);let r=n.tokenRefresher;r||(r=function Bhe(t){const{app:e}=t;return new bhe(b(function*(){let r;if(r=vt(e).token?yield d_(t,!0):yield d_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=vt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tc(t){return t.expireTimeMillis-Date.now()>0}function Sb(t){return{token:jhe(Uhe),error:t}}class $he{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=vt(this.app);for(const n of e)Ab(this.app,n.next);return Promise.resolve()}}const kB="app-check-internal";!function nfe(){Fo(new $i("app-check",t=>function Hhe(t,e){return new $he(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(kB).initialize()})),Fo(new $i(kB,t=>function zhe(t){return{getToken:e=>d_(t,e),getLimitedUseToken:()=>function wB(t){return bb.apply(this,arguments)}(t),addTokenListener:e=>function Cb(t,e,n,r){const{app:i}=t,o=vt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&tc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),DB(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>DB(t))}(t,"INTERNAL",e),removeTokenListener:e=>Ab(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Xn("@firebase/app-check","0.10.1")}();class OB{constructor(){return ab("app-check")}}typeof window<"u"&&window;const ufe=function FB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},VB=new Yu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f_=new t_("@firebase/auth");function p_(t,...e){f_.logLevel<=Te.ERROR&&f_.error(`Auth (${i_}): ${t}`,...e)}function Zn(t,...e){throw xb(t,...e)}function Rr(t,...e){return xb(t,...e)}function kb(t,e,n){const r=Object.assign(Object.assign({},ufe()),{[e]:n});return new Yu("auth","Firebase",r).create(e,{appName:t.name})}function Gt(t){return kb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xb(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VB.create(t,...e)}function G(t,e,...n){if(!t)throw xb(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p_(e),new Error(e)}function Lo(t,e){t||ui(e)}function LB(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function lfe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ob(){return"http:"===LB()||"https:"===LB()}()||function Mle(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lo(n>e,"Short delay should be less than long delay!"),this.isMobile=function Sle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}()||function Nle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return lfe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class UB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ffe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pfe=new ch(3e4,6e4);function rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function it(t,e,n,r){return Vb.apply(this,arguments)}function Vb(){return(Vb=b(function*(t,e,n,r,i={}){return jB(t,i,b(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=HD(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return function Ple(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&th(t.emulatorConfig.host)&&(c.credentials="include"),UB.fetch()(yield BB(t,t.config.apiHost,n,a),c)}))})).apply(this,arguments)}function jB(t,e,n){return Lb.apply(this,arguments)}function Lb(){return(Lb=b(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hfe),e);try{const i=new mfe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw lh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw lh(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw lh(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw lh(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kb(t,d,c);Zn(t,d)}}catch(i){if(i instanceof Bi)throw i;Zn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function BB(t,e,n,r){return jb.apply(this,arguments)}function jb(){return(jb=b(function*(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?function Fb(t,e){Lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`;return ffe.includes(n)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}class mfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),pfe.get())})}}function lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function Hb(){return(Hb=b(function*(t,e){return it(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function g_(t,e){return Gb.apply(this,arguments)}function Gb(){return(Gb=b(function*(t,e){return it(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qb(){return(qb=b(function*(t,e=!1){const n=mn(t),r=yield n.getIdToken(e),i=m_(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dh(Wb(i.auth_time)),issuedAtTime:dh(Wb(i.iat)),expirationTime:dh(Wb(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Wb(t){return 1e3*Number(t)}function m_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return p_("JWT malformed, contained fewer than 3 sections"),null;try{const i=eh(n);return i?JSON.parse(i):(p_("Failed to decode base64 JWT payload"),null)}catch(i){return p_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qB(t){const e=m_(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qi(t,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=b(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Bi&&function Ife({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Tfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(b(function*(){yield n.iteration()}),r)}iteration(){var e=this;return b(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Qb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hh(t){return Yb.apply(this,arguments)}function Yb(){return(Yb=b(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield qi(t,g_(n,{idToken:r}));G(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?WB(o.providerUserInfo):[],a=function Dfe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qb(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function Jb(){return(Jb=b(function*(t){const e=mn(t);yield hh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function WB(t){return t.map(e=>{var{providerId:n}=e,r=Im(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Xb(){return(Xb=b(function*(t,e){const n=yield jB(t,{},b(function*(){const r=HD({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield BB(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&th(t.emulatorConfig.host)&&(u.credentials="include"),UB.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function Zb(){return(Zb=b(function*(t,e){return it(t,"POST","/v2/accounts:revokeToken",rt(t,e))})).apply(this,arguments)}class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(0!==e.length,"internal-error");const n=qB(e);this.updateTokensAndExpiration(e,null,n)}getToken(e){var n=this;return b(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(G(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return b(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function bfe(t,e){return Xb.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new rc;return r&&(G("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(G("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return ui("not implemented")}}function Uo(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qb(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return b(function*(){const r=yield qi(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Efe(t){return qb.apply(this,arguments)}(this,e)}reload(){return function wfe(t){return Jb.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return b(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield hh(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return b(function*(){if(zi(e.auth.app))return Promise.reject(Gt(e.auth));const n=yield e.getIdToken();return yield qi(e,function yfe(t,e){return Hb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,T=null!==(c=n.createdAt)&&void 0!==c?c:void 0,A=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:V,emailVerified:H,isAnonymous:q,providerData:Z,stsTokenManager:C}=n;G(V&&C,e,"internal-error");const I=rc.fromJSON(this.name,C);G("string"==typeof V,e,"internal-error"),Uo(h,e.name),Uo(f,e.name),G("boolean"==typeof H,e,"internal-error"),G("boolean"==typeof q,e,"internal-error"),Uo(g,e.name),Uo(_,e.name),Uo(v,e.name),Uo(E,e.name),Uo(T,e.name),Uo(A,e.name);const w=new zr({uid:V,auth:e,email:f,emailVerified:H,displayName:h,isAnonymous:q,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:I,createdAt:T,lastLoginAt:A});return Z&&Array.isArray(Z)&&(w.providerData=Z.map(S=>Object.assign({},S))),E&&(w._redirectEventId=E),w}static _fromIdTokenResponse(e,n){return b(function*(r,i,o=!1){const s=new rc;s.updateFromServerResponse(i);const a=new zr({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield hh(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,n,r){return b(function*(){const i=n.users[0];G(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?WB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new rc;a.updateFromIdToken(r);const u=new zr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const KB=new Map;function Wi(t){Lo(t instanceof Function,"Expected a class definition");let e=KB.get(t);return e?(Lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KB.set(t,e),e)}const QB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(function*(){return!0})()}_set(n,r){var i=this;return b(function*(){i.storage[n]=r})()}_get(n){var r=this;return b(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return b(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function __(t,e,n){return`firebase:${t}:${e}:${n}`}class ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=__(this.userKey,i.apiKey,o),this.fullPersistenceKey=__("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return b(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const r=yield g_(e.auth,{idToken:n}).catch(()=>{});return r?zr._fromGetAccountInfoResponse(e.auth,r,n):null}return zr._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return b(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return b(function*(r,i,o="authUser"){if(!i.length)return new ic(Wi(QB),r,o);const s=(yield Promise.all(i.map(function(){var h=b(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Wi(QB);const u=__(o,r.config.apiKey,r.name);let c=null;for(const h of i)try{const f=yield h._get(u);if(f){let g;if("string"==typeof f){const _=yield g_(r,{idToken:f}).catch(()=>{});if(!_)break;g=yield zr._fromGetAccountInfoResponse(r,_,f)}else g=zr._fromJSON(r,f);h!==a&&(c=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(i.map(function(){var h=b(function*(f){if(f!==a)try{yield f._remove(u)}catch{}});return function(f){return h.apply(this,arguments)}}())),new ic(a,r,o)):new ic(a,r,o)}).apply(this,arguments)}}function YB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function e$(t=en()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function JB(t=en()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function n$(t=en()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function r$(t=en()){return/webos/i.test(t)}(e))return"Webos";if(function XB(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function ZB(t=en()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function t$(t=en()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function i$(t,e=[]){let n;switch(t){case"Browser":n=YB(en());break;case"Worker":n=`${YB(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${i_}/${r}`}class Rfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return b(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function tC(){return(tC=b(function*(t,e={}){return it(t,"GET","/v2/passwordPolicy",rt(t,e))})).apply(this,arguments)}class Nfe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class kfe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o$(this),this.idTokenSubscription=new o$(this),this.beforeStateQueue=new Rfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(b(function*(){var i,o,s;if(!r._deleted&&(r.persistenceManager=yield ic.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return b(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return b(function*(){try{const r=yield g_(n,{idToken:e}),i=yield zr._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return b(function*(){var r;if(zi(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return b(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return b(function*(){try{yield hh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function dfe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return b(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return b(function*(){if(zi(n.app))return Promise.reject(Gt(n));const r=e?mn(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return b(function*(r,i=!1){if(!n._deleted)return r&&G(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(b(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return b(function*(){return zi(e.app)?Promise.reject(Gt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return zi(this.app)?Promise.reject(Gt(this)):this.queue(b(function*(){yield n.assertedPersistence.setPersistence(Wi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return b(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return b(function*(){const n=yield function Pfe(t){return tC.apply(this,arguments)}(e),r=new Nfe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return b(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Cfe(t,e){return Zb.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return b(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return b(function*(){if(!n.redirectPersistenceManager){const r=e&&Wi(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield ic.create(n,[Wi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return b(function*(){var r,i;return n._isInitialized&&(yield n.queue(b(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return b(function*(){if(e===n.currentUser)return n.queue(b(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return b(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return b(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return b(function*(){var n;if(zi(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function cfe(t,...e){f_.logLevel<=Te.WARN&&f_.warn(`Auth (${i_}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class o${constructor(e){this.auth=e,this.observer=null,this.addObserver=function Vle(t,e){const n=new Lle(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={loadJS:()=>b(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function s$(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ch(3e4,6e4),new ch(2e3,1e4),new ch(3e4,6e4),new ch(5e3,15e3),encodeURIComponent("fac");var B$="@firebase/auth";class xge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return b(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Xm(),function xfe(t){fh=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Uge(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Fge(t){Fo(new $i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i$(t)},c=new kfe(r,i,o,u);return function Wfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new $i("auth-internal",e=>{const n=function Dt(t){return mn(t)}(e.getProvider("auth").getImmediate());return new xge(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(B$,"1.10.8",function Oge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Xn(B$,"1.10.8","esm2017")}("Browser");class G${constructor(){return ab("auth")}}var Bo,K$,q$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W$={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(C,I,w){w||(w=0);var S=Array(16);if("string"==typeof I)for(var R=0;16>R;++R)S[R]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(R=0;16>R;++R)S[R]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;var k=C.g[3],D=(I=C.g[0])+(k^(w=C.g[1])&((R=C.g[2])^k))+S[0]+3614090360&4294967295;D=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=(w=(R=(k=(I=w+(D<<7&4294967295|D>>>25))+((D=k+(R^I&(w^R))+S[1]+3905402710&4294967295)<<12&4294967295|D>>>20))+((D=R+(w^k&(I^w))+S[2]+606105819&4294967295)<<17&4294967295|D>>>15))+((D=w+(I^R&(k^I))+S[3]+3250441966&4294967295)<<22&4294967295|D>>>10))+((D=I+(k^w&(R^k))+S[4]+4118548399&4294967295)<<7&4294967295|D>>>25))+((D=k+(R^I&(w^R))+S[5]+1200080426&4294967295)<<12&4294967295|D>>>20))+((D=R+(w^k&(I^w))+S[6]+2821735955&4294967295)<<17&4294967295|D>>>15))+((D=w+(I^R&(k^I))+S[7]+4249261313&4294967295)<<22&4294967295|D>>>10))+((D=I+(k^w&(R^k))+S[8]+1770035416&4294967295)<<7&4294967295|D>>>25))+((D=k+(R^I&(w^R))+S[9]+2336552879&4294967295)<<12&4294967295|D>>>20))+((D=R+(w^k&(I^w))+S[10]+4294925233&4294967295)<<17&4294967295|D>>>15))+((D=w+(I^R&(k^I))+S[11]+2304563134&4294967295)<<22&4294967295|D>>>10))+((D=I+(k^w&(R^k))+S[12]+1804603682&4294967295)<<7&4294967295|D>>>25))+((D=k+(R^I&(w^R))+S[13]+4254626195&4294967295)<<12&4294967295|D>>>20))+((D=R+(w^k&(I^w))+S[14]+2792965006&4294967295)<<17&4294967295|D>>>15))+((D=w+(I^R&(k^I))+S[15]+1236535329&4294967295)<<22&4294967295|D>>>10))+((D=I+(R^k&(w^R))+S[1]+4129170786&4294967295)<<5&4294967295|D>>>27))+((D=k+(w^R&(I^w))+S[6]+3225465664&4294967295)<<9&4294967295|D>>>23))+((D=R+(I^w&(k^I))+S[11]+643717713&4294967295)<<14&4294967295|D>>>18))+((D=w+(k^I&(R^k))+S[0]+3921069994&4294967295)<<20&4294967295|D>>>12))+((D=I+(R^k&(w^R))+S[5]+3593408605&4294967295)<<5&4294967295|D>>>27))+((D=k+(w^R&(I^w))+S[10]+38016083&4294967295)<<9&4294967295|D>>>23))+((D=R+(I^w&(k^I))+S[15]+3634488961&4294967295)<<14&4294967295|D>>>18))+((D=w+(k^I&(R^k))+S[4]+3889429448&4294967295)<<20&4294967295|D>>>12))+((D=I+(R^k&(w^R))+S[9]+568446438&4294967295)<<5&4294967295|D>>>27))+((D=k+(w^R&(I^w))+S[14]+3275163606&4294967295)<<9&4294967295|D>>>23))+((D=R+(I^w&(k^I))+S[3]+4107603335&4294967295)<<14&4294967295|D>>>18))+((D=w+(k^I&(R^k))+S[8]+1163531501&4294967295)<<20&4294967295|D>>>12))+((D=I+(R^k&(w^R))+S[13]+2850285829&4294967295)<<5&4294967295|D>>>27))+((D=k+(w^R&(I^w))+S[2]+4243563512&4294967295)<<9&4294967295|D>>>23))+((D=R+(I^w&(k^I))+S[7]+1735328473&4294967295)<<14&4294967295|D>>>18))+((D=w+(k^I&(R^k))+S[12]+2368359562&4294967295)<<20&4294967295|D>>>12))+((D=I+(w^R^k)+S[5]+4294588738&4294967295)<<4&4294967295|D>>>28))+((D=k+(I^w^R)+S[8]+2272392833&4294967295)<<11&4294967295|D>>>21))+((D=R+(k^I^w)+S[11]+1839030562&4294967295)<<16&4294967295|D>>>16))+((D=w+(R^k^I)+S[14]+4259657740&4294967295)<<23&4294967295|D>>>9))+((D=I+(w^R^k)+S[1]+2763975236&4294967295)<<4&4294967295|D>>>28))+((D=k+(I^w^R)+S[4]+1272893353&4294967295)<<11&4294967295|D>>>21))+((D=R+(k^I^w)+S[7]+4139469664&4294967295)<<16&4294967295|D>>>16))+((D=w+(R^k^I)+S[10]+3200236656&4294967295)<<23&4294967295|D>>>9))+((D=I+(w^R^k)+S[13]+681279174&4294967295)<<4&4294967295|D>>>28))+((D=k+(I^w^R)+S[0]+3936430074&4294967295)<<11&4294967295|D>>>21))+((D=R+(k^I^w)+S[3]+3572445317&4294967295)<<16&4294967295|D>>>16))+((D=w+(R^k^I)+S[6]+76029189&4294967295)<<23&4294967295|D>>>9))+((D=I+(w^R^k)+S[9]+3654602809&4294967295)<<4&4294967295|D>>>28))+((D=k+(I^w^R)+S[12]+3873151461&4294967295)<<11&4294967295|D>>>21))+((D=R+(k^I^w)+S[15]+530742520&4294967295)<<16&4294967295|D>>>16))+((D=w+(R^k^I)+S[2]+3299628645&4294967295)<<23&4294967295|D>>>9))+((D=I+(R^(w|~k))+S[0]+4096336452&4294967295)<<6&4294967295|D>>>26))+((D=k+(w^(I|~R))+S[7]+1126891415&4294967295)<<10&4294967295|D>>>22))+((D=R+(I^(k|~w))+S[14]+2878612391&4294967295)<<15&4294967295|D>>>17))+((D=w+(k^(R|~I))+S[5]+4237533241&4294967295)<<21&4294967295|D>>>11))+((D=I+(R^(w|~k))+S[12]+1700485571&4294967295)<<6&4294967295|D>>>26))+((D=k+(w^(I|~R))+S[3]+2399980690&4294967295)<<10&4294967295|D>>>22))+((D=R+(I^(k|~w))+S[10]+4293915773&4294967295)<<15&4294967295|D>>>17))+((D=w+(k^(R|~I))+S[1]+2240044497&4294967295)<<21&4294967295|D>>>11))+((D=I+(R^(w|~k))+S[8]+1873313359&4294967295)<<6&4294967295|D>>>26))+((D=k+(w^(I|~R))+S[15]+4264355552&4294967295)<<10&4294967295|D>>>22))+((D=R+(I^(k|~w))+S[6]+2734768916&4294967295)<<15&4294967295|D>>>17))+((D=w+(k^(R|~I))+S[13]+1309151649&4294967295)<<21&4294967295|D>>>11))+((k=(I=w+((D=I+(R^(w|~k))+S[4]+4149444226&4294967295)<<6&4294967295|D>>>26))+((D=k+(w^(I|~R))+S[11]+3174756917&4294967295)<<10&4294967295|D>>>22))^((R=k+((D=R+(I^(k|~w))+S[2]+718787259&4294967295)<<15&4294967295|D>>>17))|~I))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+k&4294967295}function s(C,I){this.h=I;for(var w=[],S=!0,R=C.length-1;0<=R;R--){var k=0|C[R];S&&k==I||(w[R]=k,S=!1)}this.g=w}(function e(C,I){function w(){}w.prototype=I.prototype,C.D=I.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(S,R,k){for(var D=Array(arguments.length-2),io=2;io<arguments.length;io++)D[io-2]=arguments[io];return I.prototype[R].apply(S,D)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(C,I){void 0===I&&(I=C.length);for(var w=I-this.blockSize,S=this.B,R=this.h,k=0;k<I;){if(0==R)for(;k<=w;)i(this,C,k),k+=this.blockSize;if("string"==typeof C){for(;k<I;)if(S[R++]=C.charCodeAt(k++),R==this.blockSize){i(this,S),R=0;break}}else for(;k<I;)if(S[R++]=C[k++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var w=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=255&w,w/=256;for(this.u(C),C=Array(16),I=w=0;4>I;++I)for(var S=0;32>S;S+=8)C[w++]=this.g[I]>>>S&255;return C};var a={};function u(C){return-128<=C&&128>C?function o(C,I){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=I(C)}(C,function(I){return new s([0|I],0>I?-1:0)}):new s([0|C],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(c(-C));for(var I=[],w=1,S=0;C>=w;S++)I[S]=C/w|0,w*=4294967296;return new s(I,0)}var h=u(0),f=u(1),g=u(16777216);function _(C){if(0!=C.h)return!1;for(var I=0;I<C.g.length;I++)if(0!=C.g[I])return!1;return!0}function v(C){return-1==C.h}function E(C){for(var I=C.g.length,w=[],S=0;S<I;S++)w[S]=~C.g[S];return new s(w,~C.h).add(f)}function T(C,I){return C.add(E(I))}function A(C,I){for(;(65535&C[I])!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function V(C,I){this.g=C,this.h=I}function H(C,I){if(_(I))throw Error("division by zero");if(_(C))return new V(h,h);if(v(C))return I=H(E(C),I),new V(E(I.g),E(I.h));if(v(I))return I=H(C,E(I)),new V(E(I.g),I.h);if(30<C.g.length){if(v(C)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var w=f,S=I;0>=S.l(C);)w=q(w),S=q(S);var R=Z(w,1),k=Z(S,1);for(S=Z(S,2),w=Z(w,2);!_(S);){var D=k.add(S);0>=D.l(C)&&(R=R.add(w),k=D),S=Z(S,1),w=Z(w,1)}return I=T(C,R.j(I)),new V(R,I)}for(R=h;0<=C.l(I);){for(w=Math.max(1,Math.floor(C.m()/I.m())),S=48>=(S=Math.ceil(Math.log(w)/Math.LN2))?1:Math.pow(2,S-48),D=(k=c(w)).j(I);v(D)||0<D.l(C);)D=(k=c(w-=S)).j(I);_(k)&&(k=f),R=R.add(k),C=T(C,D)}return new V(R,C)}function q(C){for(var I=C.g.length+1,w=[],S=0;S<I;S++)w[S]=C.i(S)<<1|C.i(S-1)>>>31;return new s(w,C.h)}function Z(C,I){var w=I>>5;I%=32;for(var S=C.g.length-w,R=[],k=0;k<S;k++)R[k]=0<I?C.i(k+w)>>>I|C.i(k+w+1)<<32-I:C.i(k+w);return new s(R,C.h)}(t=s.prototype).m=function(){if(v(this))return-E(this).m();for(var C=0,I=1,w=0;w<this.g.length;w++){var S=this.i(w);C+=(0<=S?S:4294967296+S)*I,I*=4294967296}return C},t.toString=function(C){if(2>(C=C||10)||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var I=c(Math.pow(C,6)),w=this,S="";;){var R=H(w,I).g,k=((0<(w=T(w,R.j(I))).g.length?w.g[0]:w.h)>>>0).toString(C);if(_(w=R))return k+S;for(;6>k.length;)k="0"+k;S=k+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h},t.l=function(C){return v(C=T(this,C))?-1:_(C)?0:1},t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),w=[],S=0,R=0;R<=I;R++){var k=S+(65535&this.i(R))+(65535&C.i(R)),D=(k>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);S=D>>>16,w[R]=(D&=65535)<<16|(k&=65535)}return new s(w,-2147483648&w[w.length-1]?-1:0)},t.j=function(C){if(_(this)||_(C))return h;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var I=this.g.length+C.g.length,w=[],S=0;S<2*I;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<C.g.length;R++){var k=this.i(S)>>>16,D=65535&this.i(S),io=C.i(R)>>>16,If=65535&C.i(R);w[2*S+2*R]+=D*If,A(w,2*S+2*R),w[2*S+2*R+1]+=k*If,A(w,2*S+2*R+1),w[2*S+2*R+1]+=D*io,A(w,2*S+2*R+1),w[2*S+2*R+2]+=k*io,A(w,2*S+2*R+2)}for(S=0;S<I;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=I;S<2*I;S++)w[S]=0;return new s(w,0)},t.A=function(C){return H(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),w=[],S=0;S<I;S++)w[S]=this.i(S)&C.i(S);return new s(w,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),w=[],S=0;S<I;S++)w[S]=this.i(S)|C.i(S);return new s(w,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),w=[],S=0;S<I;S++)w[S]=this.i(S)^C.i(S);return new s(w,this.h^C.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K$=W$.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(C,I){if(0==C.length)throw Error("number format error: empty string");if(2>(I=I||10)||36<I)throw Error("radix out of range: "+I);if("-"==C.charAt(0))return E(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(I,8)),S=h,R=0;R<C.length;R+=8){var k=Math.min(8,C.length-R),D=parseInt(C.substring(R,R+k),I);8>k?(k=c(Math.pow(I,k)),S=S.j(k).add(c(D))):S=(S=S.j(w)).add(c(D))}return S},Bo=W$.Integer=s}).apply(typeof q$<"u"?q$:typeof self<"u"?self:typeof window<"u"?window:{});var Q$,wh,Y$,P_,WA,J$,X$,Z$,R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,m){return l==Array.prototype||l==Object.prototype||(l[p]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof R_&&R_];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,p){if(p)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in m))break e;m=m[P]}(p=p(y=m[l=l[l.length-1]]))!=y&&null!=p&&e(m,l,{configurable:!0,writable:!0,value:p})}}("Array.prototype.values",function(l){return l||function(){return function o(l,p){l instanceof String&&(l+="");var m=0,y=!1,P={next:function(){if(!y&&m<l.length){var O=m++;return{value:p(O,l[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}(this,function(p,m){return m})}});var s=s||{},a=this||self;function u(l){var p=typeof l;return"array"==(p="object"!=p?p:l?Array.isArray(l)?"array":p:"null")||"object"==p&&"number"==typeof l.length}function c(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function d(l,p,m){return l.call.apply(l.bind,arguments)}function h(l,p,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(p,P)}}return function(){return l.apply(p,arguments)}}function f(l,p,m){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,p){function m(){}m.prototype=p.prototype,l.aa=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,P,O){for(var Q=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Q[Ge-2]=arguments[Ge];return p.prototype[P].apply(y,Q)}}function v(l){const p=l.length;if(0<p){const m=Array(p);for(let y=0;y<p;y++)m[y]=l[y];return m}return[]}function E(l,p){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const P=l.length||0,O=y.length||0;l.length=P+O;for(let Q=0;Q<O;Q++)l[P+Q]=y[Q]}else l.push(y)}}function A(l){return/^[\s\xa0]*$/.test(l)}function V(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var q=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function Z(l,p,m){for(const y in l)p.call(m,l[y],y,l)}function I(l){const p={};for(const m in l)p[m]=l[m];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,p){let m,y;for(let P=1;P<arguments.length;P++){for(m in y=arguments[P],y)l[m]=y[m];for(let O=0;O<w.length;O++)m=w[O],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function R(l){var p=1;l=l.split(":");const m=[];for(;0<p&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function k(l){a.setTimeout(()=>{throw l},0)}function D(){var l=sP;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}var If=new class T{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}(()=>new EIe,l=>l.reset());class EIe{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Tf,wf=!1,sP=new class io{constructor(){this.h=this.g=null}add(p,m){const y=If.get();y.set(p,m),this.h?this.h.next=y:this.g=y,this.h=y}},gq=()=>{const l=a.Promise.resolve(void 0);Tf=()=>{l.then(IIe)}};var IIe=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(m){k(m)}var p=If;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}wf=!1};function ds(){this.s=this.s,this.C=this.C}function Tn(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}ds.prototype.s=!1,ds.prototype.ma=function(){this.s||(this.s=!0,this.N())},ds.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Tn.prototype.h=function(){this.defaultPrevented=!0};var TIe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return l}();function Df(l,p){if(Tn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(q){e:{try{H(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else"mouseover"==m?p=l.fromElement:"mouseout"==m&&(p=l.toElement);this.relatedTarget=p,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:wIe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Df.aa.h.call(this)}}_(Df,Tn);var wIe={2:"touch",3:"pen",4:"mouse"};Df.prototype.h=function(){Df.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),DIe=0;function bIe(l,p,m,y,P){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!y,this.ha=P,this.key=++DIe,this.da=this.fa=!1}function rv(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function iv(l){this.src=l,this.g={},this.h=0}function aP(l,p){var m=p.type;if(m in l.g){var O,y=l.g[m],P=Array.prototype.indexOf.call(y,p,void 0);(O=0<=P)&&Array.prototype.splice.call(y,P,1),O&&(rv(p),0==l.g[m].length&&(delete l.g[m],l.h--))}}function uP(l,p,m,y){for(var P=0;P<l.length;++P){var O=l[P];if(!O.da&&O.listener==p&&O.capture==!!m&&O.ha==y)return P}return-1}iv.prototype.add=function(l,p,m,y,P){var O=l.toString();(l=this.g[O])||(l=this.g[O]=[],this.h++);var Q=uP(l,p,y,P);return-1<Q?(p=l[Q],m||(p.fa=!1)):((p=new bIe(p,this.src,O,!!y,P)).fa=m,l.push(p)),p};var cP="closure_lm_"+(1e6*Math.random()|0),lP={};function mq(l,p,m,y,P){if(y&&y.once)return yq(l,p,m,y,P);if(Array.isArray(p)){for(var O=0;O<p.length;O++)mq(l,p[O],m,y,P);return null}return m=pP(m),l&&l[bf]?l.K(p,m,c(y)?!!y.capture:!!y,P):_q(l,p,m,!1,y,P)}function _q(l,p,m,y,P,O){if(!p)throw Error("Invalid event type");var Q=c(P)?!!P.capture:!!P,Ge=hP(l);if(Ge||(l[cP]=Ge=new iv(l)),(m=Ge.add(p,m,y,Q,O)).proxy)return m;if(y=function CIe(){const p=AIe;return function l(m){return p.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)TIe||(P=Q),void 0===P&&(P=!1),l.addEventListener(p.toString(),y,P);else if(l.attachEvent)l.attachEvent(Eq(p.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function yq(l,p,m,y,P){if(Array.isArray(p)){for(var O=0;O<p.length;O++)yq(l,p[O],m,y,P);return null}return m=pP(m),l&&l[bf]?l.L(p,m,c(y)?!!y.capture:!!y,P):_q(l,p,m,!0,y,P)}function vq(l,p,m,y,P){if(Array.isArray(p))for(var O=0;O<p.length;O++)vq(l,p[O],m,y,P);else y=c(y)?!!y.capture:!!y,m=pP(m),l&&l[bf]?(l=l.i,(p=String(p).toString())in l.g&&-1<(m=uP(O=l.g[p],m,y,P))&&(rv(O[m]),Array.prototype.splice.call(O,m,1),0==O.length&&(delete l.g[p],l.h--))):l&&(l=hP(l))&&(p=l.g[p.toString()],l=-1,p&&(l=uP(p,m,y,P)),(m=-1<l?p[l]:null)&&dP(m))}function dP(l){if("number"!=typeof l&&l&&!l.da){var p=l.src;if(p&&p[bf])aP(p.i,l);else{var m=l.type,y=l.proxy;p.removeEventListener?p.removeEventListener(m,y,l.capture):p.detachEvent?p.detachEvent(Eq(m),y):p.addListener&&p.removeListener&&p.removeListener(y),(m=hP(p))?(aP(m,l),0==m.h&&(m.src=null,p[cP]=null)):rv(l)}}}function Eq(l){return l in lP?lP[l]:lP[l]="on"+l}function AIe(l,p){if(l.da)l=!0;else{p=new Df(p,this);var m=l.listener,y=l.ha||l.src;l.fa&&dP(l),l=m.call(y,p)}return l}function hP(l){return(l=l[cP])instanceof iv?l:null}var fP="__closure_events_fn_"+(1e9*Math.random()>>>0);function pP(l){return"function"==typeof l?l:(l[fP]||(l[fP]=function(p){return l.handleEvent(p)}),l[fP])}function wn(){ds.call(this),this.i=new iv(this),this.M=this,this.F=null}function Vn(l,p){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=p.type||p,"string"==typeof p)p=new Tn(p,l);else if(p instanceof Tn)p.target=p.target||l;else{var P=p;S(p=new Tn(y,l),P)}if(P=!0,m)for(var O=m.length-1;0<=O;O--){var Q=p.g=m[O];P=ov(Q,y,!0,p)&&P}if(P=ov(Q=p.g=l,y,!0,p)&&P,P=ov(Q,y,!1,p)&&P,m)for(O=0;O<m.length;O++)P=ov(Q=p.g=m[O],y,!1,p)&&P}function ov(l,p,m,y){if(!(p=l.i.g[String(p)]))return!0;p=p.concat();for(var P=!0,O=0;O<p.length;++O){var Q=p[O];if(Q&&!Q.da&&Q.capture==m){var Ge=Q.listener,on=Q.ha||Q.src;Q.fa&&aP(l.i,Q),P=!1!==Ge.call(on,y)&&P}}return P&&!y.defaultPrevented}function Iq(l,p,m){if("function"==typeof l)m&&(l=f(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=f(l.handleEvent,l)}return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Tq(l){l.g=Iq(()=>{l.g=null,l.i&&(l.i=!1,Tq(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}_(wn,ds),wn.prototype[bf]=!0,wn.prototype.removeEventListener=function(l,p,m,y){vq(this,l,p,m,y)},wn.prototype.N=function(){if(wn.aa.N.call(this),this.i){var p,l=this.i;for(p in l.g){for(var m=l.g[p],y=0;y<m.length;y++)rv(m[y]);delete l.g[p],l.h--}}this.F=null},wn.prototype.K=function(l,p,m,y){return this.i.add(String(l),p,!1,m,y)},wn.prototype.L=function(l,p,m,y){return this.i.add(String(l),p,!0,m,y)};class SIe extends ds{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Tq(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cf(l){ds.call(this),this.h=l,this.g={}}_(Cf,ds);var wq=[];function Dq(l){Z(l.g,function(p,m){this.g.hasOwnProperty(m)&&dP(p)},l),l.g={}}Cf.prototype.N=function(){Cf.aa.N.call(this),Dq(this)},Cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gP=a.JSON.stringify,RIe=a.JSON.parse,PIe=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function mP(){}function Cq(){}mP.prototype.h=null;var Af={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _P(){Tn.call(this,"d")}function yP(){Tn.call(this,"c")}_(_P,Tn),_(yP,Tn);var ka={},Aq=null;function sv(){return Aq=Aq||new wn}function Sq(l){Tn.call(this,ka.La,l)}function Sf(l){const p=sv();Vn(p,new Sq(p))}function Rq(l,p){Tn.call(this,ka.STAT_EVENT,l),this.stat=p}function Ln(l){const p=sv();Vn(p,new Rq(p,l))}function Pq(l,p){Tn.call(this,ka.Ma,l),this.size=p}function Rf(l,p){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Pf(){this.g=!0}function Xc(l,p,m,y){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+function xIe(l,p){if(!l.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if("noop"!=O&&"stop"!=O&&"close"!=O)for(var Q=1;Q<P.length;Q++)P[Q]=""}}}return gP(m)}catch{return p}}(l,m)+(y?" "+y:"")})}ka.La="serverreachability",_(Sq,Tn),ka.STAT_EVENT="statevent",_(Rq,Tn),ka.Ma="timingevent",_(Pq,Tn),Pf.prototype.xa=function(){this.g=!1},Pf.prototype.info=function(){};var vP,av={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mq={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function uv(){}function hs(l,p,m,y){this.j=l,this.i=p,this.l=m,this.R=y||1,this.U=new Cf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nq}function Nq(){this.i=null,this.g="",this.h=!1}_(uv,mP),uv.prototype.g=function(){return new XMLHttpRequest},uv.prototype.i=function(){return{}},vP=new uv;var kq={},EP={};function IP(l,p,m){l.L=1,l.v=hv(oo(p)),l.m=m,l.P=!0,xq(l,null)}function xq(l,p){l.F=Date.now(),cv(l),l.A=oo(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Kq(m.i,"t",y),l.C=0,m=l.j.J,l.h=new Nq,l.g=h6(l.j,m?p:null,!l.m),0<l.O&&(l.M=new SIe(f(l.Y,l,l.g),l.O)),p=l.U,m=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(wq[0]=P.toString()),P=wq);for(var O=0;O<P.length;O++){var Q=mq(m,P[O],y||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),Sf(),function MIe(l,p,m,y,P,O){l.info(function(){if(l.g)if(O)for(var Q="",Ge=O.split("&"),on=0;on<Ge.length;on++){var Se=Ge[on].split("=");if(1<Se.length){var Dn=Se[0];Se=Se[1];var bn=Dn.split("_");Q=2<=bn.length&&"type"==bn[1]?Q+(Dn+"=")+Se+"&":Q+(Dn+"=redacted&")}}else Q=null;else Q=O;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+p+"\n"+m+"\n"+Q})}(l.i,l.u,l.A,l.l,l.R,l.m)}function Oq(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function OIe(l,p){var m=l.C,y=p.indexOf("\n",m);return-1==y?EP:(m=Number(p.substring(m,y)),isNaN(m)?kq:(y+=1)+m>p.length?EP:(p=p.slice(y,y+m),l.C=y+m,p))}function cv(l){l.S=Date.now()+l.I,Fq(l,l.I)}function Fq(l,p){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Rf(f(l.ba,l),p)}function TP(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function Mf(l){0==l.j.G||l.J||u6(l.j,l)}function xa(l){TP(l);var p=l.M;p&&"function"==typeof p.ma&&p.ma(),l.M=null,Dq(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function wP(l,p){try{var m=l.j;if(0!=m.G&&(m.g==l||DP(m.h,l)))if(!l.K&&DP(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&3==y.length){var P=y;if(0==P[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;_v(m),gv(m)}SP(m),Ln(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&0==m.v&&!m.C&&(m.C=Rf(f(m.Za,m),6e3));if(1>=Uq(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Fa(m,11)}else if((l.K||m.g==l)&&_v(m),!A(p))for(P=m.Da.g.parse(p),p=0;p<P.length;p++){let Se=P[p];if(m.T=Se[0],Se=Se[1],2==m.G)if("c"==Se[0]){m.K=Se[1],m.ia=Se[2];const Dn=Se[3];null!=Dn&&(m.la=Dn,m.j.info("VER="+m.la));const bn=Se[4];null!=bn&&(m.Aa=bn,m.j.info("SVER="+m.Aa));const tl=Se[5];null!=tl&&"number"==typeof tl&&0<tl&&(m.L=y=1.5*tl,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Wr=l.g;if(Wr){const vv=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vv){var O=y.h;O.g||-1==vv.indexOf("spdy")&&-1==vv.indexOf("quic")&&-1==vv.indexOf("h2")||(O.j=O.l,O.g=new Set,O.h&&(bP(O,O.h),O.h=null))}if(y.D){const PP=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;PP&&(y.ya=PP,st(y.I,y.D,PP))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var Q=l;if((y=m).qa=d6(y,y.J?y.ia:null,y.W),Q.K){jq(y.h,Q);var Ge=Q,on=y.L;on&&(Ge.I=on),Ge.B&&(TP(Ge),cv(Ge)),y.g=Q}else s6(y);0<m.i.length&&mv(m)}else"stop"!=Se[0]&&"close"!=Se[0]||Fa(m,7);else 3==m.G&&("stop"==Se[0]||"close"==Se[0]?"stop"==Se[0]?Fa(m,7):AP(m):"noop"!=Se[0]&&m.l&&m.l.ta(Se),m.v=0)}Sf()}catch{}}hs.prototype.ca=function(l){l=l.target;const p=this.M;p&&3==so(l)?p.j():this.Y(l)},hs.prototype.Y=function(l){try{if(l==this.g)e:{const bn=so(this.g);var p=this.g.Ba();if(this.g.Z(),!(3>bn)&&(3!=bn||this.g&&(this.h.h||this.g.oa()||t6(this.g)))){this.J||4!=bn||7==p||Sf(),TP(this);var m=this.g.Z();this.X=m;t:if(Oq(this)){var y=t6(this.g);l="";var P=y.length,O=4==so(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xa(this),Mf(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,l+=this.h.i.decode(y[p],{stream:!(O&&p==P-1)});y.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=200==m,function NIe(l,p,m,y,P,O,Q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+p+"\n"+m+"\n"+O+" "+Q})}(this.i,this.u,this.A,this.l,this.R,bn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,on=this.g;if((Ge=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ge)){var Se=Ge;break t}}Se=null}if(!(m=Se)){this.o=!1,this.s=3,Ln(12),xa(this),Mf(this);break e}Xc(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wP(this,m)}if(this.P){let Wr;for(m=!0;!this.J&&this.C<Q.length;){if(Wr=OIe(this,Q),Wr==EP){4==bn&&(this.s=4,Ln(14),m=!1),Xc(this.i,this.l,null,"[Incomplete Response]");break}if(Wr==kq){this.s=4,Ln(15),Xc(this.i,this.l,Q,"[Invalid Chunk]"),m=!1;break}Xc(this.i,this.l,Wr,null),wP(this,Wr)}if(Oq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=bn||0!=Q.length||this.h.h||(this.s=1,Ln(16),m=!1),this.o=this.o&&m,m){if(0<Q.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),RP(Dn),Dn.M=!0,Ln(11))}}else Xc(this.i,this.l,Q,"[Invalid Chunked Response]"),xa(this),Mf(this)}else Xc(this.i,this.l,Q,null),wP(this,Q);4==bn&&xa(this),this.o&&!this.J&&(4==bn?u6(this.j,this):(this.o=!1,cv(this)))}else(function XIe(l){const p={};l=(l.g&&2<=so(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(A(l[y]))continue;var m=R(l[y]);const P=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const O=p[P]||[];p[P]=O,O.push(m)}!function C(l,p){for(const m in l)p.call(void 0,l[m],m,l)}(p,function(y){return y.join(", ")})})(this.g),400==m&&0<Q.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),xa(this),Mf(this)}}}catch{}},hs.prototype.cancel=function(){this.J=!0,xa(this)},hs.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function kIe(l,p){l.info(function(){return"TIMEOUT: "+p})}(this.i,this.A),2!=this.L&&(Sf(),Ln(17)),xa(this),this.s=2,Mf(this)):Fq(this,this.S-l)};var FIe=class{constructor(l,p){this.g=l,this.map=p}};function Vq(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lq(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Uq(l){return l.h?1:l.g?l.g.size:0}function DP(l,p){return l.h?l.h==p:!!l.g&&l.g.has(p)}function bP(l,p){l.g?l.g.add(p):l.h=p}function jq(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}function Bq(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let p=l.i;for(const m of l.g.values())p=p.concat(m.D);return p}return v(l.i)}function $q(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,p,void 0);else for(var m=function LIe(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var p=[];l=l.length;for(var m=0;m<l;m++)p.push(m);return p}p=[],m=0;for(const y in l)p[m++]=y;return p}}}(l),y=function VIe(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var p=[],m=l.length,y=0;y<m;y++)p.push(l[y]);return p}for(y in p=[],m=0,l)p[m++]=l[y];return p}(l),P=y.length,O=0;O<P;O++)p.call(void 0,y[O],m&&m[O],l)}Vq.prototype.cancel=function(){if(this.i=Bq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Hq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Oa){this.h=l.h,lv(this,l.j),this.o=l.o,this.g=l.g,dv(this,l.s),this.l=l.l;var p=l.i,m=new xf;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),zq(this,m),this.m=l.m}else l&&(p=String(l).match(Hq))?(this.h=!1,lv(this,p[1]||"",!0),this.o=Nf(p[2]||""),this.g=Nf(p[3]||"",!0),dv(this,p[4]),this.l=Nf(p[5]||"",!0),zq(this,p[6]||"",!0),this.m=Nf(p[7]||"")):(this.h=!1,this.i=new xf(null,this.h))}function oo(l){return new Oa(l)}function lv(l,p,m){l.j=m?Nf(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function dv(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function zq(l,p,m){p instanceof xf?(l.i=p,function GIe(l,p){p&&!l.j&&(fs(l),l.i=null,l.g.forEach(function(m,y){var P=y.toLowerCase();y!=P&&(qq(this,y),Kq(this,P,m))},l)),l.j=p}(l.i,l.h)):(m||(p=kf(p,HIe)),l.i=new xf(p,l.h))}function st(l,p,m){l.i.set(p,m)}function hv(l){return st(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Nf(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kf(l,p,m){return"string"==typeof l?(l=encodeURI(l).replace(p,jIe),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function jIe(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Oa.prototype.toString=function(){var l=[],p=this.j;p&&l.push(kf(p,Gq,!0),":");var m=this.g;return(m||"file"==p)&&(l.push("//"),(p=this.o)&&l.push(kf(p,Gq,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(kf(m,"/"==m.charAt(0)?$Ie:BIe,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",kf(m,zIe)),l.join("")};var Gq=/[#\/\?@]/g,BIe=/[#\?:]/g,$Ie=/[#\?]/g,HIe=/[#\?@]/g,zIe=/#/g;function xf(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function fs(l){l.g||(l.g=new Map,l.h=0,l.i&&function UIe(l,p){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),P=null;if(0<=y){var O=l[m].substring(0,y);P=l[m].substring(y+1)}else O=l[m];p(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}function qq(l,p){fs(l),p=Zc(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Wq(l,p){return fs(l),p=Zc(l,p),l.g.has(p)}function Kq(l,p,m){qq(l,p),0<m.length&&(l.i=null,l.g.set(Zc(l,p),v(m)),l.h+=m.length)}function Zc(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ps(l,p,m,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(m)}catch{}}function KIe(){this.g=new PIe}function QIe(l,p,m){const y=m||"";try{$q(l,function(P,O){let Q=P;c(P)&&(Q=gP(P)),p.push(y+O+"="+encodeURIComponent(Q))})}catch(P){throw p.push(y+"type="+encodeURIComponent("_badmap")),P}}function Of(l){this.l=l.Ub||null,this.j=l.eb||!1}function fv(l,p){wn.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Qq(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function Ff(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Vf(l)}function Vf(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Yq(l){let p="";return Z(l,function(m,y){p+=y,p+=":",p+=m,p+="\r\n"}),p}function CP(l,p,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=Yq(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):st(l,p,m))}function It(l){wn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=xf.prototype).add=function(l,p){fs(this),this.i=null,l=Zc(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this},t.forEach=function(l,p){fs(this),this.g.forEach(function(m,y){m.forEach(function(P){l.call(p,P,y,this)},this)},this)},t.na=function(){fs(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let y=0;y<p.length;y++){const P=l[y];for(let O=0;O<P.length;O++)m.push(p[y])}return m},t.V=function(l){fs(this);let p=[];if("string"==typeof l)Wq(this,l)&&(p=p.concat(this.g.get(Zc(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)p=p.concat(l[m])}return p},t.set=function(l,p){return fs(this),this.i=null,Wq(this,l=Zc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l&&0<(l=this.V(l)).length?String(l[0]):p},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var y=p[m];const O=encodeURIComponent(String(y)),Q=this.V(y);for(y=0;y<Q.length;y++){var P=O;""!==Q[y]&&(P+="="+encodeURIComponent(String(Q[y]))),l.push(P)}}return this.i=l.join("&")},_(Of,mP),Of.prototype.g=function(){return new fv(this.l,this.j)},Of.prototype.i=function(l){return function(){return l}}({}),_(fv,wn),(t=fv.prototype).open=function(l,p){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Vf(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ff(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Vf(this)),this.g&&(this.readyState=3,Vf(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qq(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ff(this):Vf(this),3==this.readyState&&Qq(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ff(this))},t.Qa=function(l){this.g&&(this.response=l,Ff(this))},t.ga=function(){this.g&&Ff(this)},t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=p.next();return l.join("\r\n")},Object.defineProperty(fv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(It,wn);var YIe=/^https?$/i,JIe=["POST","PUT"];function Jq(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Xq(l),pv(l)}function Xq(l){l.A||(l.A=!0,Vn(l,"complete"),Vn(l,"error"))}function Zq(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=so(l)||2!=l.Z()))if(l.u&&4==so(l))Iq(l.Ea,0,l);else if(Vn(l,"readystatechange"),4==so(l)){l.h=!1;try{const Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var y;if(y=0===Q){var P=String(l.D).match(Hq)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!YIe.test(P?P.toLowerCase():"")}m=y}if(m)Vn(l,"complete"),Vn(l,"success");else{l.m=6;try{var O=2<so(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Xq(l)}}finally{pv(l)}}}function pv(l,p){if(l.g){e6(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Vn(l,"ready");try{m.onreadystatechange=y}catch{}}}function e6(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function so(l){return l.g?l.g.readyState:0}function t6(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function n6(l){this.Aa=0,this.i=[],this.j=new Pf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lf("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lf("baseRetryDelayMs",5e3,l),this.cb=Lf("retryDelaySeedMs",1e4,l),this.Wa=Lf("forwardChannelMaxRetries",2,l),this.wa=Lf("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Vq(l&&l.concurrentRequestLimit),this.Da=new KIe,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function AP(l){if(r6(l),3==l.G){var p=l.U++,m=oo(l.I);if(st(m,"SID",l.K),st(m,"RID",p),st(m,"TYPE","terminate"),Uf(l,m),(p=new hs(l,l.j,p)).L=2,p.v=hv(oo(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=p.v,m=!0),m||(p.g=h6(p.j,null),p.g.ea(p.v)),p.F=Date.now(),cv(p)}l6(l)}function gv(l){l.g&&(RP(l),l.g.cancel(),l.g=null)}function r6(l){gv(l),l.u&&(a.clearTimeout(l.u),l.u=null),_v(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function mv(l){if(!Lq(l.h)&&!l.s){l.s=!0;var p=l.Ga;Tf||gq(),wf||(Tf(),wf=!0),sP.add(p,l),l.B=0}}function i6(l,p){var m;m=p?p.l:l.U++;const y=oo(l.I);st(y,"SID",l.K),st(y,"RID",m),st(y,"AID",l.T),Uf(l,y),l.m&&l.o&&CP(y,l.m,l.o),m=new hs(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),p&&(l.i=p.D.concat(l.i)),p=o6(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),bP(l.h,m),IP(m,y,p)}function Uf(l,p){l.H&&Z(l.H,function(m,y){st(p,y,m)}),l.l&&$q({},function(m,y){st(p,y,m)})}function o6(l,p,m){m=Math.min(l.i.length,m);var y=l.l?f(l.l.Na,l.l,l):null;e:{var P=l.i;let O=-1;for(;;){const Q=["count="+m];-1==O?0<m?(O=P[0].g,Q.push("ofs="+O)):O=0:Q.push("ofs="+O);let Ge=!0;for(let on=0;on<m;on++){let Se=P[on].g;const Dn=P[on].map;if(Se-=O,0>Se)O=Math.max(0,P[on].g-100),Ge=!1;else try{QIe(Dn,Q,"req"+Se+"_")}catch{y&&y(Dn)}}if(Ge){y=Q.join("&");break e}}}return l=l.i.splice(0,m),p.D=l,y}function s6(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Tf||gq(),wf||(Tf(),wf=!0),sP.add(p,l),l.v=0}}function SP(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=Rf(f(l.Fa,l),c6(l,l.v)),l.v++,0))}function RP(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function a6(l){l.g=new hs(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var p=oo(l.qa);st(p,"RID","rpc"),st(p,"SID",l.K),st(p,"AID",l.T),st(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&st(p,"TO",l.ja),st(p,"TYPE","xmlhttp"),Uf(l,p),l.m&&l.o&&CP(p,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=hv(oo(p)),m.m=null,m.P=!0,xq(m,l)}function _v(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function u6(l,p){var m=null;if(l.g==p){_v(l),RP(l),l.g=null;var y=2}else{if(!DP(l.h,p))return;m=p.D,jq(l.h,p),y=1}if(0!=l.G)if(p.o)if(1==y){m=p.m?p.m.length:0,p=Date.now()-p.F;var P=l.B;Vn(y=sv(),new Pq(y,m)),mv(l)}else s6(l);else if(3==(P=p.s)||0==P&&0<p.X||!(1==y&&function ZIe(l,p){return!(Uq(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=p.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=Rf(f(l.Ga,l,p),c6(l,l.B)),l.B++,0)))}(l,p)||2==y&&SP(l)))switch(m&&0<m.length&&(p=l.h,p.i=p.i.concat(m)),P){case 1:Fa(l,5);break;case 4:Fa(l,10);break;case 3:Fa(l,6);break;default:Fa(l,2)}}function c6(l,p){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*p}function Fa(l,p){if(l.j.info("Error code "+p),2==p){var m=f(l.fb,l),y=l.Xa;const P=!y;y=new Oa(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||lv(y,"https"),hv(y),P?function qIe(l,p){const m=new Pf;if(a.Image){const y=new Image;y.onload=g(ps,m,"TestLoadImage: loaded",!0,p,y),y.onerror=g(ps,m,"TestLoadImage: error",!1,p,y),y.onabort=g(ps,m,"TestLoadImage: abort",!1,p,y),y.ontimeout=g(ps,m,"TestLoadImage: timeout",!1,p,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else p(!1)}(y.toString(),m):function WIe(l,p){new Pf;const y=new AbortController,P=setTimeout(()=>{y.abort(),ps(0,0,!1,p)},1e4);fetch(l,{signal:y.signal}).then(O=>{clearTimeout(P),ps(0,0,!!O.ok,p)}).catch(()=>{clearTimeout(P),ps(0,0,!1,p)})}(y.toString(),m)}else Ln(2);l.G=0,l.l&&l.l.sa(p),l6(l),r6(l)}function l6(l){if(l.G=0,l.ka=[],l.l){const p=Bq(l.h);(0!=p.length||0!=l.i.length)&&(E(l.ka,p),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function d6(l,p,m){var y=m instanceof Oa?oo(m):new Oa(m);if(""!=y.g)p&&(y.g=p+"."+y.g),dv(y,y.s);else{var P=a.location;y=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var O=new Oa(null);y&&lv(O,y),p&&(O.g=p),P&&dv(O,P),m&&(O.l=m),y=O}return p=l.ya,(m=l.D)&&p&&st(y,m,p),st(y,"VER",l.la),Uf(l,y),y}function h6(l,p,m){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(p=new It(l.Ca&&!l.pa?new Of({eb:m}):l.pa)).Ha(l.J),p}function f6(){}function yv(){}function mr(l,p){wn.call(this),this.g=new n6(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!A(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,null!==(l=this.h)&&p in l&&p in(l=this.h)&&delete l[p]),this.j=new el(this)}function p6(l){_P.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=null!==p&&l in p?p[l]:void 0),this.data=p}else this.data=l}function g6(){yP.call(this),this.status=1}function el(l){this.g=l}(t=It.prototype).Ha=function(l){this.J=l},t.ea=function(l,p,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vP.g(),this.v=function bq(l){return l.h||(l.h=l.i())}(this.o?this.o:vP),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(O){return void Jq(this,O)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)m.set(P,y[P]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const O of y.keys())m.set(O,y.get(O))}y=Array.from(m.keys()).find(O=>"content-type"==O.toLowerCase()),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JIe,p,void 0))||y||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,Q]of m)this.g.setRequestHeader(O,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e6(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){Jq(this,O)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Vn(this,"complete"),Vn(this,"abort"),pv(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pv(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zq(this):this.bb())},t.bb=function(){Zq(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&0==p.indexOf(l)&&(p=p.substring(l.length)),RIe(p)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=n6.prototype).la=8,t.G=1,t.connect=function(l,p,m,y){Ln(0),this.W=l,this.H=p||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=d6(this,null,this.W),mv(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new hs(this,this.j,l);let O=this.o;if(this.S&&(O?(O=I(O),S(O,this.S)):O=this.S),null!==this.m||this.O||(P.H=O,O=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(p+=y)){p=m;break e}if(4096===p||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=o6(this,P,p),st(m=oo(this.I),"RID",l),st(m,"CVER",22),this.D&&st(m,"X-HTTP-Session-Id",this.D),Uf(this,m),O&&(this.O?p="headers="+encodeURIComponent(String(Yq(O)))+"&"+p:this.m&&CP(m,this.m,O)),bP(this.h,P),this.Ua&&st(m,"TYPE","init"),this.P?(st(m,"$req",p),st(m,"SID","null"),P.T=!0,IP(P,m,null)):IP(P,m,p),this.G=2}}else 3==this.G&&(l?i6(this,l):0==this.i.length||Lq(this.h)||i6(this))},t.Fa=function(){if(this.u=null,a6(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Rf(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),gv(this),a6(this))},t.Za=function(){null!=this.C&&(this.C=null,gv(this),SP(this),Ln(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=f6.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},yv.prototype.g=function(l,p){return new mr(l,p)},_(mr,wn),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){AP(this.g)},mr.prototype.o=function(l){var p=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=gP(l),l=m);p.i.push(new FIe(p.Ya++,l)),3==p.G&&mv(p)},mr.prototype.N=function(){this.g.l=null,delete this.j,AP(this.g),delete this.g,mr.aa.N.call(this)},_(p6,_P),_(g6,yP),_(el,f6),el.prototype.ua=function(){Vn(this.g,"a")},el.prototype.ta=function(l){Vn(this.g,new p6(l))},el.prototype.sa=function(l){Vn(this.g,new g6)},el.prototype.ra=function(){Vn(this.g,"b")},yv.prototype.createWebChannel=yv.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,Z$=Yi.createWebChannelTransport=function(){return new yv},X$=Yi.getStatEventTarget=function(){return sv()},J$=Yi.Event=ka,WA=Yi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},av.NO_ERROR=0,av.TIMEOUT=8,av.HTTP_ERROR=6,P_=Yi.ErrorCode=av,Mq.COMPLETE="complete",Y$=Yi.EventType=Mq,Cq.EventType=Af,Af.OPEN="a",Af.CLOSE="b",Af.ERROR="c",Af.MESSAGE="d",wn.prototype.listen=wn.prototype.K,wh=Yi.WebChannel=Cq,Yi.FetchXmlHttpFactory=Of,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,Q$=Yi.XhrIo=It}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});const eH="@firebase/firestore";class qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");let sc="11.10.0";const $o=new t_("@firebase/firestore");function ac(){return $o.logLevel}function j(t,...e){if($o.logLevel<=Te.DEBUG){const n=e.map(KA);$o.debug(`Firestore (${sc}): ${t}`,...n)}}function bt(t,...e){if($o.logLevel<=Te.ERROR){const n=e.map(KA);$o.error(`Firestore (${sc}): ${t}`,...n)}}function On(t,...e){if($o.logLevel<=Te.WARN){const n=e.map(KA);$o.warn(`Firestore (${sc}): ${t}`,...n)}}function KA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";"string"==typeof e?r=e:n=e,nH(t,r,n)}function nH(t,e,n){let r=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bt(r),new Error(r)}function X(t,e,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,t||nH(e,i,r)}function K(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class rH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class qge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wge{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;X(void 0===this.o,42304);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(b(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X("string"==typeof r.accessToken,31837,{l:r}),new rH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(null===e||"string"==typeof e,2055,{h:e}),new qt(e)}}class Kge{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qge{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Kge(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yge{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){X(void 0===this.o,3512);const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X("string"==typeof n.token,44558,{tokenResult:n}),this.m=n.token,new QA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function YA(){return new TextEncoder}class JA{static newId(){const n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Jge(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function XA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ie(r,i);{const o=YA(),s=Xge(o.encode(iH(t,n)),o.encode(iH(e,n)));return 0!==s?s:ie(r,i)}}n+=r>65535?2:1}return ie(t.length,e.length)}function iH(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Xge(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const ZA="__name__";class ci{constructor(e,n,r){void 0===n?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),void 0===r?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ci.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ci.compareSegments(e.get(i),n.get(i));if(0!==o)return o}return ie(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),i=ci.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(n)):XA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bo.fromString(e.substring(4,e.length-2))}}class Ee extends ci{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const Zge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends ci{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return Zge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ZA}static keyField(){return new ut([ZA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(Ee.fromString(e))}static fromName(e){return new W(Ee.fromString(e).popFirst(5))}static empty(){return new W(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Ee(e.slice()))}}function eS(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sH(t){if(!W.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aH(t){if(W.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uH(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function M_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Y(12329,{type:typeof t})}function Ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=M_(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function oa(t,e){if(!uH(t))throw new U(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new U(N.INVALID_ARGUMENT,n);return!0}const lH=-62135596800;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lH)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oa(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds-lH).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:kt("string",xe._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new xe(0,0))}static max(){return new ee(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fH(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(ee.min(),W.empty(),-1)}static max(){return new lr(ee.max(),W.empty(),-1)}}function nS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=W.comparator(t.documentKey,e.documentKey),0!==n?n:ie(t.largestBatchId,e.largestBatchId))}class gH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ho(t){return rS.apply(this,arguments)}function rS(){return rS=b(function*(t){if(t.code!==N.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;j("LocalStore","Unexpectedly lost primary lease")}),rS.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function zo(t){return"IndexedDbTransactionError"===t.name}let hr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ae&&this.ae(n),n}}return t.ue=-1,t})();function Ch(t){return null==t}function Ah(t){return 0===t&&1/t==-1/0}function ame(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function vH(t){return t+"\x01\x01"}const Rh="mutationQueues",Gr="mutations",fc="documentMutations",Ph="remoteDocumentGlobal",pc="targets",gc="targetDocuments",da="targetGlobal",Mh="collectionParents",mc="clientMetadata",L_="bundles",U_="namedQueries";function NH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Je{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new B_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new B_(this.root,e,this.comparator,!1)}getReverseIterator(){return new B_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new B_(this.root,e,this.comparator,!0)}}class B_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1,nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OH(this.data.getIterator())}getIteratorFrom(e){return new OH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class OH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class er{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new er([])}unionWith(e){let n=new Oe(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class FH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FH("Invalid base64 string: "+o):o}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const kme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(X(!!t,39018),"string"==typeof t){let e=0;const n=kme.exec(t);if(X(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xi(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}const VH="server_timestamp",LH="__type__",UH="__previous_value__",jH="__local_write_time__";function $_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[LH])||void 0===n?void 0:n.stringValue)===VH}function H_(t){const e=t.mapValue.fields[UH];return $_(e)?H_(e):e}function xh(t){const e=Ji(t.mapValue.fields[jH].timestampValue);return new xe(e.seconds,e.nanos)}class xme{constructor(e,n,r,i,o,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Oh="(default)";class ha{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}const fS="__type__",BH="__max__",Wo_mapValue={fields:{__type__:{stringValue:BH}}},pS="__vector__",yc="value";function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$_(t)?4:qH(t)?9007199254740991:W_(t)?10:11:Y(28295,{value:t})}function hi(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ji(i.timestampValue),a=Ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Xi(t.bytesValue).isEqual(Xi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?Ah(s)===Ah(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NH(s)!==NH(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!hi(s[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}var o}function Fh(t,e){return void 0!==(t.values||[]).find(n=>hi(n,e))}function Qo(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ct(o.integerValue||o.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return $H(t.timestampValue,e.timestampValue);case 4:return $H(xh(t),xh(e));case 5:return XA(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Xi(o),u=Xi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ie(a[c],u[c]);if(0!==d)return d}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ie(ct(o.latitude),ct(s.latitude));return 0!==a?a:ie(ct(o.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HH(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{})[yc])||void 0===a?void 0:a.arrayValue,_=null===(u=(s.fields||{})[yc])||void 0===u?void 0:u.arrayValue,v=ie((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:HH(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wo_mapValue&&s===Wo_mapValue)return 0;if(o===Wo_mapValue)return 1;if(s===Wo_mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const f=XA(u[h],d[h]);if(0!==f)return f;const g=Qo(a[u[h]],c[d[h]]);if(0!==g)return g}return ie(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{le:n})}}function $H(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ie(t,e);const n=Ji(t),r=Ji(e),i=ie(n.seconds,r.seconds);return 0!==i?i:ie(n.nanos,r.nanos)}function HH(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Qo(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function vc(t){return gS(t)}function gS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xi(t.bytesValue).toBase64():"referenceValue"in t?W.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=gS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${gS(n.fields[s])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function G_(t){switch(Ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=H_(t);return e?16+G_(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+G_(o),0);case 10:case 11:return function(r){let i=0;return qo(r.fields,(o,s)=>{i+=o.length+G_(s)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function mS(t){return!!t&&"integerValue"in t}function Vh(t){return!!t&&"arrayValue"in t}function zH(t){return!!t&&"nullValue"in t}function GH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q_(t){return!!t&&"mapValue"in t}function W_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[fS])||void 0===n?void 0:n.stringValue)===pS}function Lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BH}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!q_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());q_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];q_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rn(Lh(this.value))}}function YH(t){const e=[];return qo(t.fields,(n,r)=>{const i=new ut([n]);if(q_(r)){const o=YH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new er(e)}class ot{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,ee.min(),ee.min(),ee.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,ee.min(),ee.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,ee.min(),ee.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yo{constructor(e,n){this.position=e,this.inclusive=n}}function JH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):Qo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function XH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}class Uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vme(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ZH{}class we extends ZH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Lme(e,n,r):"array-contains"===n?new Bme(e,r):"in"===n?new o4(e,r):"not-in"===n?new $me(e,r):"array-contains-any"===n?new Hme(e,r):new we(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Ume(e,r):new jme(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&void 0===n.nullValue&&this.matchesComparison(Qo(n,this.value)):null!==n&&Ko(this.value)===Ko(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends ZH{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Fe(e,n)}matches(e){return Ec(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ec(t){return"and"===t.op}function yS(t){return function e4(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}(t)&&Ec(t)}function vS(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(yS(t))return t.filters.map(e=>vS(e)).join(",");{const e=t.filters.map(n=>vS(n)).join(",");return`${t.op}(${e})`}}function t4(t,e){return t instanceof we?(r=t,(i=e)instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)):t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&t4(s,i.filters[a]),!0)}(t,e):void Y(19439);var r,i}function r4(t){return t instanceof we?`${(n=t).field.canonicalString()} ${n.op} ${vc(n.value)}`:t instanceof Fe?function(n){return n.op.toString()+" {"+n.getFilters().map(r4).join(" ,")+"}"}(t):"Filter";var n}class Lme extends we{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ume extends we{constructor(e,n){super(e,"in",n),this.keys=i4(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jme extends we{constructor(e,n){super(e,"not-in",n),this.keys=i4(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i4(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class Bme extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vh(n)&&Fh(n.arrayValue,this.value)}}class o4 extends we{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fh(this.value.arrayValue,n)}}class $me extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&void 0===n.nullValue&&!Fh(this.value.arrayValue,n)}}class Hme extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fh(this.value.arrayValue,r))}}class zme{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}}function ES(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zme(t,e,n,r,i,o,s)}function pa(t){const e=K(t);if(null===e.Pe){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vc(r)).join(",")),e.Pe=n}return e.Pe}function jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vme(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XH(t.startAt,e.startAt)&&XH(t.endAt,e.endAt)}function K_(t){return W.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Zi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null}}function Ic(t){return new Zi(t)}function c4(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Tc(t){const e=K(t);if(null===e.Te){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Oe(ut.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Uh(o,r))}),n.has(ut.keyField().canonicalString())||e.Te.push(new Uh(ut.keyField(),r))}return e.Te}function yn(t){const e=K(t);return e.Ie||(e.Ie=function d4(t,e){if("F"===t.limitType)return ES(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Uh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yo(t.startAt.position,t.startAt.inclusive):null;return ES(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Tc(t))),e.Ie}function Y_(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return jh(yn(t),yn(e))&&t.limitType===e.limitType}function h4(t){return`${pa(yn(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>r4(i)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Tc(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=JH(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Tc(r),i)||r.endAt&&!function(s,a,u){const c=JH(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Tc(r),i)));var r,i}function p4(t){return(e,n)=>{let r=!1;for(const i of Tc(t)){const o=Gme(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Gme(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?Qo(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xH(this.inner)}size(){return this.innerSize}}const qme=new Je(W.comparator);function tr(){return qme}const g4=new Je(W.comparator);function Hh(...t){let e=g4;for(const n of t)e=e.insert(n.key,n);return e}function m4(t){let e=g4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return zh()}function _4(){return zh()}function zh(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wme=new Je(W.comparator),Kme=new Oe(W.comparator);function me(...t){let e=Kme;for(const n of t)e=e.add(n);return e}const Qme=new Oe(ie);function DS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function y4(t){return{integerValue:""+t}}function v4(t,e){return function yH(t){return"number"==typeof t&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?y4(e):DS(t,e)}class J_{constructor(){this._=void 0}}function Yme(t,e,n){return t instanceof Dc?function(i,o){const s={fields:{[LH]:{stringValue:VH},[jH]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$_(o)&&(o=H_(o)),o&&(s.fields[UH]=o),{mapValue:s}}(n,e):t instanceof ga?I4(t,e):t instanceof ma?T4(t,e):function(i,o){const s=E4(i,o),a=w4(s)+w4(i.Ee);return mS(s)&&mS(i.Ee)?y4(a):DS(i.serializer,a)}(t,e)}function Jme(t,e,n){return t instanceof ga?I4(t,e):t instanceof ma?T4(t,e):n}function E4(t,e){return t instanceof bc?mS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Dc extends J_{}class ga extends J_{constructor(e){super(),this.elements=e}}function I4(t,e){const n=D4(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends J_{constructor(e){super(),this.elements=e}}function T4(t,e){let n=D4(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class bc extends J_{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function w4(t){return ct(t.integerValue||t.doubleValue)}function D4(t){return Vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Zme{constructor(e,n){this.version=e,this.transformResults=n}}class lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lt}static exists(e){return new lt(void 0,e)}static updateTime(e){return new lt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Z_{}function b4(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ac(t.key,lt.none()):new Cc(t.key,t.data,lt.none());{const n=t.data,r=rn.empty();let i=new Oe(ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new to(t.key,r,new er(i.toArray()),lt.none())}}function e_e(t,e,n){t instanceof Cc?function(i,o,s){const a=i.value.clone(),u=S4(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof to?function(i,o,s){if(!X_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=S4(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(A4(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function qh(t,e,n,r){return t instanceof Cc?function(o,s,a,u){if(!X_(o.precondition,s))return a;const c=o.value.clone(),d=R4(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(o,s,a,u){if(!X_(o.precondition,s))return a;const c=R4(o.fieldTransforms,u,s),d=s.data;return d.setAll(A4(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,X_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function t_e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E4(r.transform,i||null);null!=o&&(null===n&&(n=rn.empty()),n.set(r.field,o))}return n||null}function C4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&uc(r,i,(o,s)=>function Xme(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ga&&i instanceof ga||r instanceof ma&&i instanceof ma?uc(r.elements,i.elements,hi):r instanceof bc&&i instanceof bc?hi(r.Ee,i.Ee):r instanceof Dc&&i instanceof Dc);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Cc extends Z_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Z_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function A4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S4(t,e,n){const r=new Map;X(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Jme(s,a,n[i]))}return r}function R4(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Yme(o,s,e))}return r}class Ac extends Z_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bS extends Z_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&e_e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=b4(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>C4(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>C4(n,r))}}class AS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Wme}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new AS(e,n,r,i)}}class SS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class n_e{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,Ce;function N4(t){if(void 0===t)return bt("GRPC error has no .code"),N.UNKNOWN;switch(t){case xt.OK:return N.OK;case xt.CANCELLED:return N.CANCELLED;case xt.UNKNOWN:return N.UNKNOWN;case xt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case xt.INTERNAL:return N.INTERNAL;case xt.UNAVAILABLE:return N.UNAVAILABLE;case xt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case xt.NOT_FOUND:return N.NOT_FOUND;case xt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case xt.ABORTED:return N.ABORTED;case xt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case xt.DATA_LOSS:return N.DATA_LOSS;default:return Y(39323,{code:t})}}(Ce=xt||(xt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";const r_e=new Bo([4294967295,4294967295],0);function k4(t){const e=YA().encode(t),n=new K$;return n.update(e),new Uint8Array(n.digest())}function x4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([i,o],0)]}class RS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wh(`Invalid padding: ${n}`);if(r<0)throw new Wh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Wh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Bo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Bo.fromNumber(r)));return 1===i.compare(r_e)&&(i=new Bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const n=k4(e),[r,i]=x4(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new RS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.fe)return;const n=k4(e),[r,i]=x4(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);this.we(s)}}we(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(ee.min(),i,new Je(ie),tr(),me())}}class Qh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qh(r,n,me(),me(),me())}}class ty{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class O4{constructor(e,n){this.targetId=e,this.De=n}}class F4{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V4{constructor(){this.ve=0,this.Ce=L4(),this.Fe=Et.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=me(),n=me(),r=me();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new Qh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=L4()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,X(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class i_e{constructor(e){this.We=e,this.Ge=new Map,this.ze=tr(),this.je=ny(),this.Je=ny(),this.He=new Je(ie)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(K_(o))if(0===r){const s=new W(o.path);this.Xe(n,s,ot.newNoDocument(s,ee.min()))}else X(1===r,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const a=this._t(e),u=a?this.ut(a,e,s):1;0!==u&&(this.rt(n),this.He=this.He.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Xi(r).toUint8Array()}catch(u){if(u instanceof FH)return On("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new RS(s,i,o)}catch(u){return On(u instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.fe?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,s)=>{const a=this.st(s);if(a){if(o.current&&K_(a.target)){const u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ot.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=me();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.st(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));const i=new Kh(e,n,this.He,this.ze,r);return this.ze=tr(),this.je=ny(),this.Je=ny(),this.He=new Je(ie),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new V4,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Oe(ie),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Oe(ie),this.je=this.je.insert(e,n)),n}nt(e){const n=null!==this.st(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new V4),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ny(){return new Je(W.comparator)}function L4(){return new Je(W.comparator)}const o_e={asc:"ASCENDING",desc:"DESCENDING"},s_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a_e={and:"AND",or:"OR"};class u_e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function PS(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function Sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c_e(t,e){return Sc(t,e.toTimestamp())}function Ct(t){return X(!!t,49232),ee.fromTimestamp(function(n){const r=Ji(n);return new xe(r.seconds,r.nanos)}(t))}function MS(t,e){return NS(t,e).canonicalString()}function NS(t,e){const n=(i=t,new Ee(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function j4(t){const e=Ee.fromString(t);return X(Y4(e),10190,{key:e.toString()}),e}function Yh(t,e){return MS(t.databaseId,e.path)}function pi(t,e){const n=j4(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(H4(n))}function B4(t,e){return MS(t.databaseId,e)}function kS(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H4(t){return X(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function z4(t,e,n){return{name:Yh(t,e),fields:n.value.mapValue.fields}}function G4(t,e){return{documents:[B4(t,e.path)]}}function iy(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B4(t,i);const o=function(c){if(0!==c.length)return Q4(Fe.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Jo((f=d).field),direction:p_e(f.dir)};var f})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=PS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i};var c}function W4(t){let e=function $4(t){const e=j4(t);return 4===e.length?Ee.emptyPath():H4(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(1===r,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=K4(h);return f instanceof Fe&&yS(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new Uh(Rc((_=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let f;return f="object"==typeof h?h.value:h,Ch(f)?null:f}(n.limit));let u=null;var h;n.startAt&&(u=new Yo((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new Yo(h.values||[],!h.before)}(n.endAt)),function u4(t,e,n,r,i,o,s,a){return new Zi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function K4(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rc(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rc(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rc(n.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rc(n.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):void 0!==t.fieldFilter?we.create(Rc((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Fe.create(n.compositeFilter.filters.map(r=>K4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t});var n}function p_e(t){return o_e[t]}function g_e(t){return s_e[t]}function m_e(t){return a_e[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Rc(t){return ut.fromServerFormat(t.fieldPath)}function Q4(t){return t instanceof we?function(n){if("=="===n.op){if(GH(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(zH(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(GH(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(zH(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:g_e(n.op),value:n.value}}}(t):t instanceof Fe?function(n){const r=n.getFilters().map(i=>Q4(i));return 1===r.length?r[0]:{compositeFilter:{op:m_e(n.op),filters:r}}}(t):Y(54877,{filter:t})}function __e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y4(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class no{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J4{constructor(e){this.gt=e}}function sy(t){const e=W4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Y_(e,e.limit,"L"):e}class Ea{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Ah(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),"string"==typeof r&&(r=Ji(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Xi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?qH(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):W_(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Y(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;const o=e.fields||{};this.Ct(n,53);const s=yc,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Ct(n,15),n.Ft(ct(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}Ea.Ut=new Ea;class C_e{constructor(){this.Dn=new jS}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(lr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class jS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(Ee.comparator)).toArray()}}new Uint8Array(0);const pz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Ta{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ta(0)}static ur(){return new Ta(-1)}}const Ez="LruGarbageCollector";function Tz([t,e],[n,r]){const i=ie(t,n);return 0===i?ie(e,r):i}class R_e{constructor(e){this.Tr=e,this.buffer=new Oe(Tz),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){var n=this;j(Ez,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,b(function*(){n.Ar=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){zo(r)?j(Ez,"Ignoring IndexedDB error during garbage collection: ",r):yield Ho(r)}yield n.Rr(3e5)}))}}class P_e{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return M.resolve(hr.ue);const r=new R_e(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(pz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pz):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ac()<=Te.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class bz{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x_e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Pz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&qh(r.mutation,i,er.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Hh();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=tr();const s=zh(),a=zh();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof to)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),qh(d.mutation,c,d.mutation.getFieldMask(),xe.now())):s.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new x_e(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zh();let i=new Je((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||er.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=_4();d.forEach(f=>{if(!o.has(f)){const g=b4(n.get(f),r.get(f));null!==g&&h.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return W.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function IS(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(fi());let a=-1,u=o;return s.next(c=>M.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:a,changes:m4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Hh();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const c=(h=n,f=u.child(o),new Zi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,ot.newInvalidDocument(d)))});let a=Hh();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&qh(d.mutation,c,er.empty(),xe.now()),$h(n,c)&&(a=a.insert(u,c))}),a})}}class O_e{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,{id:(i=n).id,version:i.version,createTime:Ct(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,{name:(i=n).name,query:sy(i.bundledQuery),readTime:Ct(i.readTime)}),M.resolve();var i}}class F_e{constructor(){this.overlays=new Je(W.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=fi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=fi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return M.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SS(n,r));let o=this.kr.get(n);void 0===o&&(o=me(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}class V_e{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class BS{constructor(){this.qr=new Oe(Kt.Qr),this.$r=new Oe(Kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Kt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new W(new Ee([])),r=new Kt(n,e),i=new Kt(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new W(new Ee([])),r=new Kt(n,e),i=new Kt(n,e+1);let o=me();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Kt(e,0),r=this.qr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||ie(e.Hr,n.Hr)}static Ur(e,n){return ie(e.Hr,n.Hr)||W.comparator(e.key,n.key)}}class L_e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Oe(Kt.Qr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.er;this.er++;const s=new CS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Yr=this.Yr.add(new Kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Xr(n+1),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{const a=this.Zr(s.Hr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(ie);return n.forEach(i=>{const o=new Kt(i,0),s=new Kt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new Kt(new W(o),0);let a=new Oe(ie);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Hr)),!0)},s),M.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){X(0===this.ti(n.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{const o=new Kt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Kt(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class U_e{constructor(e){this.ni=e,this.docs=new Je(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=tr();const s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||nS(fH(d),r)<=0||(i.has(d.key)||$h(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j_e(this)}getSize(e){return M.resolve(this.size)}}class j_e extends bz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}class B_e{constructor(e){this.persistence=e,this.ii=new eo(n=>pa(n),jh),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new BS,this.targetCount=0,this._i=Ta.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}}class $S{constructor(e,n){this.ai={},this.overlays={},this.ui=new hr(0),this.ci=!1,this.ci=!0,this.li=new V_e,this.referenceDelegate=e(this),this.hi=new B_e(this),this.indexManager=new C_e,this.remoteDocumentCache=new U_e(r=>this.referenceDelegate.Pi(r)),this.serializer=new J4(n),this.Ti=new O_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F_e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new L_e(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new $_e(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class $_e extends gH{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ai=new BS,this.Ri=null}static Vi(e){return new py(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{const i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gy{constructor(e,n){this.persistence=e,this.gi=new eo(r=>function _n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vH(e)),e=ame(t.get(n),e);return vH(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function Dz(t,e){return new P_e(t,e)}(this,n)}static Vi(e,n){return new gy(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=G_(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return M.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class KS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=me(),i=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new KS(e,n.fromCache,r,i)}}class z_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=Bj()?8:function mH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(en())>0?6:4}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new z_e;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ac()<=Te.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(ac()<=Te.DEBUG&&j("QueryEngine","Query:",wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ac()<=Te.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):M.resolve())}ps(e,n){if(c4(n))return M.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Y_(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=me(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ds(n,c,s,u.readTime)?this.ps(e,Y_(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,i){return c4(n)||i.isEqual(ee.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{const s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(ac()<=Te.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wc(n)),this.vs(e,s,n,function hH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(1e9===r?new xe(n+1,0):new xe(n,r));return new lr(i,W.empty(),e)}(i,-1)).next(a=>a))})}bs(e,n){let r=new Oe(p4(e));return n.forEach((i,o)=>{$h(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return ac()<=Te.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",wc(n)),this.gs.getDocumentsMatchingQuery(e,n,lr.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}const QS="LocalStore";class q_e{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Je(ie),this.Ms=new eo(o=>pa(o),jh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Oz(t,e){return YS.apply(this,arguments)}function YS(){return YS=b(function*(t,e){const n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=me();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:a}))})})}),YS.apply(this,arguments)}function Fz(t){const e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Q_e(t,e){const n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fc(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=b(function*(t,e,n){const r=K(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zo(s))throw s;j(QS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}),JS.apply(this,arguments)}function _y(t,e,n){const r=K(t);let i=ee.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=K(u),f=h.Ms.get(d);return void 0!==f?M.resolve(h.Fs.get(f)):h.hi.getTargetData(c,d)}(r,s,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:me())).next(a=>(function jz(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}(r,function f4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,qs:o})))}class nR{constructor(){this.activeTargetIds=function wS(){return Qme}()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qz{constructor(){this.Fo=new nR,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new nR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X_e{xo(e){}shutdown(){}}const Wz="ConnectivityMonitor";class Kz{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(Wz,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){j(Wz,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ey=null;function iR(){return null===Ey?Ey=268435456+Math.round(2147483648*Math.random()):Ey++,"0x"+Ey.toString(16)}const oR="RestConnection",Z_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eye{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=iR(),a=this.Go(e,n.toUriEncodedString());j(oR,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);const{host:c}=new URL(a),d=th(c);return this.jo(e,a,u,r,d).then(h=>(j(oR,`Received RPC '${e}' ${s}: `,h),h),h=>{throw On(oR,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){return`${this.$o}/v1/${n}:${Z_e[e]}`}terminate(){}}class tye{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const En="WebChannelConnection";class nye extends eye{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const s=iR();return new Promise((a,u)=>{const c=new Q$;c.setWithCredentials(!0),c.listenOnce(Y$.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case P_.NO_ERROR:const h=c.getResponseJson();j(En,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case P_.TIMEOUT:j(En,`RPC '${e}' ${s} timed out`),u(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case P_.HTTP_ERROR:const f=c.getStatus();if(j(En,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const v=function(T){const A=T.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(A)>=0?A:N.UNKNOWN}(_.status);u(new U(v,_.message))}else u(new U(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new U(N.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{j(En,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);j(En,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=iR(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z$(),a=X$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");j(En,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);this.T_(h);let f=!1,g=!1;const _=new tye({Ho:E=>{g?j(En,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(j(En,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),j(En,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Yo:()=>h.close()}),v=(E,T,A)=>{E.listen(T,V=>{try{A(V)}catch(H){setTimeout(()=>{throw H},0)}})};return v(h,wh.EventType.OPEN,()=>{g||(j(En,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),v(h,wh.EventType.CLOSE,()=>{g||(g=!0,j(En,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(h))}),v(h,wh.EventType.ERROR,E=>{g||(g=!0,On(En,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.__(new U(N.UNAVAILABLE,"The operation could not be completed")))}),v(h,wh.EventType.MESSAGE,E=>{var T;if(!g){const A=E.data[0];X(!!A,16349);const V=A,H=V?.error||(null===(T=V[0])||void 0===T?void 0:T.error);if(H){j(En,`RPC '${e}' stream ${i} received error:`,H);const q=H.status;let Z=function(w){const S=xt[w];if(void 0!==S)return N4(S)}(q),C=H.message;void 0===Z&&(Z=N.INTERNAL,C="Unknown error status: "+q+" with message "+H.message),g=!0,_.__(new U(Z,C)),h.close()}else j(En,`RPC '${e}' stream ${i} received:`,A),_.a_(A)}}),v(a,J$.STAT_EVENT,E=>{E.stat===WA.PROXY?j(En,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===WA.NOPROXY&&j(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Iy(){return typeof document<"u"?document:null}function Da(t){return new u_e(t,!0)}class sR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Yz="PersistentStream";class Jz{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sR(e,n)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}stop(){var e=this;return b(function*(){e.M_()&&(yield e.close(0))})()}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){var e=this;return b(function*(){if(e.x_())return e.close(0)})()}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){var r=this;return b(function*(){r.q_(),r.Q_(),r.F_.cancel(),r.b_++,4!==e?r.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(bt(n.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),r.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.U_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.n_(n)})()}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.C_?this.j_(i):this.onNext(i))})}O_(){var e=this;this.state=5,this.F_.g_(b(function*(){e.state=0,e.start()}))}G_(e){return j(Yz,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(Yz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rye extends Jz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=function d_e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Y(39313,{state:c}),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(X(void 0===d||"string"==typeof d,58123),Et.fromBase64String(d||"")):(X(void 0===d||d instanceof Buffer||d instanceof Uint8Array,16193),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?N.UNKNOWN:N4(c.code);return new U(d,c.message||"")}(s);n=new F4(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(t,r.document.name),o=Ct(r.document.updateTime),s=r.document.createTime?Ct(r.document.createTime):ee.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=ot.newFoundDocument(i,o,s,a);n=new ty(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(t,r.document),o=r.readTime?Ct(r.readTime):ee.min(),s=ot.newNoDocument(i,o);n=new ty([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(t,r.document);n=new ty([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new n_e(i,o);n=new O4(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Ct(s.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=kS(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=K_(u)?{documents:G4(o,u)}:{query:iy(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=U4(o,s.resumeToken);const c=PS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=Sc(o,s.snapshotVersion.toTimestamp());const c=PS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function f_e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=kS(this.serializer),n.removeTarget=e,this.k_(n)}}class iye extends Jz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return X(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,X(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){X(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=function h_e(t,e){return t&&t.length>0?(X(void 0!==e,14353),t.map(n=>function(i,o){let s=Ct(i.updateTime?i.updateTime:o);return s.isEqual(ee.min())&&(s=Ct(o)),new Zme(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ct(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=kS(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Jh(t,e){let n;if(e instanceof Cc)n={update:z4(t,e.key,e.value)};else if(e instanceof Ac)n={delete:Yh(t,e.key)};else if(e instanceof to)n={update:z4(t,e.key,e.data),updateMask:__e(e.fieldMask)};else{if(!(e instanceof bS))return Y(16599,{Rt:e.type});n={verify:Yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:c_e(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Y(27497)),n;var o}(this.serializer,r))};this.k_(n)}}class oye{}class sye extends oye{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,NS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,NS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aye{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bt(n),this._a=!1):j("OnlineStateTracker",n)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const ba="RemoteStore";class uye{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{r.enqueueAndForget(b(function*(){var u;ns(s)&&(j(ba,"Restarting streams for network reachability change."),yield(u=b(function*(d){const h=K(d);h.Ia.add(4),yield Vc(h),h.Aa.set("Unknown"),h.Ia.delete(4),yield af(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.Aa=new aye(r,i)}}function af(t){return aR.apply(this,arguments)}function aR(){return aR=b(function*(t){if(ns(t))for(const e of t.da)yield e(!0)}),aR.apply(this,arguments)}function Vc(t){return uR.apply(this,arguments)}function uR(){return uR=b(function*(t){for(const e of t.da)yield e(!1)}),uR.apply(this,arguments)}function Ty(t,e){const n=K(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),dR(n)?lR(n):jc(n).x_()&&cR(n,e))}function Lc(t,e){const n=K(t),r=jc(n);n.Ta.delete(e),r.x_()&&Xz(n,e),0===n.Ta.size&&(r.x_()?r.B_():ns(n)&&n.Aa.set("Unknown"))}function cR(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).H_(e)}function Xz(t,e){t.Ra.$e(e),jc(t).Y_(e)}function lR(t){t.Ra=new i_e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.Aa.aa()}function dR(t){return ns(t)&&!jc(t).M_()&&t.Ta.size>0}function ns(t){return 0===K(t).Ia.size}function Zz(t){t.Ra=void 0}function cye(t){return hR.apply(this,arguments)}function hR(){return hR=b(function*(t){t.Aa.set("Online")}),hR.apply(this,arguments)}function lye(t){return fR.apply(this,arguments)}function fR(){return fR=b(function*(t){t.Ta.forEach((e,n)=>{cR(t,e)})}),fR.apply(this,arguments)}function dye(t,e){return pR.apply(this,arguments)}function pR(){return pR=b(function*(t,e){Zz(t),dR(t)?(t.Aa.la(e),lR(t)):t.Aa.set("Unknown")}),pR.apply(this,arguments)}function hye(t,e,n){return gR.apply(this,arguments)}function gR(){return gR=b(function*(t,e,n){if(t.Aa.set("Online"),e instanceof F4&&2===e.state&&e.cause)try{yield(r=b(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.Ta.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.Ta.delete(u),o.Ra.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){j(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wy(t,r)}else if(e instanceof ty?t.Ra.Ye(e):e instanceof O4?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const r=yield Fz(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Ra.Pt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.Ta.get(c);d&&o.Ta.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.Ta.get(u);if(!d)return;o.Ta.set(u,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),Xz(o,u);const h=new no(d.target,u,c,d.sequenceNumber);cR(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(ba,"Failed to raise snapshot:",r),yield wy(t,r)}var r}),gR.apply(this,arguments)}function wy(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=b(function*(t,e,n){if(!zo(e))throw e;t.Ia.add(1),yield Vc(t),t.Aa.set("Offline"),n||(n=()=>Fz(t.localStore)),t.asyncQueue.enqueueRetryable(b(function*(){j(ba,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield af(t)}))}),mR.apply(this,arguments)}function e3(t,e){return e().catch(n=>wy(t,n,e))}function Uc(t){return _R.apply(this,arguments)}function _R(){return _R=b(function*(t){const e=K(t),n=rs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:-1;for(;fye(e);)try{const i=yield Q_e(e.localStore,r);if(null===i){0===e.Pa.length&&n.B_();break}r=i.batchId,pye(e,i)}catch(i){yield wy(e,i)}t3(e)&&n3(e)}),_R.apply(this,arguments)}function fye(t){return ns(t)&&t.Pa.length<10}function pye(t,e){t.Pa.push(e);const n=rs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function t3(t){return ns(t)&&!rs(t).M_()&&t.Pa.length>0}function n3(t){rs(t).start()}function gye(t){return yR.apply(this,arguments)}function yR(){return yR=b(function*(t){rs(t).na()}),yR.apply(this,arguments)}function mye(t){return vR.apply(this,arguments)}function vR(){return vR=b(function*(t){const e=rs(t);for(const n of t.Pa)e.X_(n.mutations)}),vR.apply(this,arguments)}function _ye(t,e,n){return ER.apply(this,arguments)}function ER(){return ER=b(function*(t,e,n){const r=t.Pa.shift(),i=AS.from(r,e,n);yield e3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uc(t)}),ER.apply(this,arguments)}function yye(t,e){return IR.apply(this,arguments)}function IR(){return IR=b(function*(t,e){var n;e&&rs(t).Z_&&(yield(n=b(function*(i,o){if(function M4(t){switch(t){case N.OK:return Y(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}(a=o.code)&&a!==N.ABORTED){const s=i.Pa.shift();rs(i).N_(),yield e3(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Uc(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),t3(t)&&n3(t)}),IR.apply(this,arguments)}function r3(t,e){return TR.apply(this,arguments)}function TR(){return TR=b(function*(t,e){const n=K(t);n.asyncQueue.verifyOperationInProgress(),j(ba,"RemoteStore received new credentials");const r=ns(n);n.Ia.add(3),yield Vc(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield af(n)}),TR.apply(this,arguments)}function DR(){return DR=b(function*(t,e){const n=K(t);e?(n.Ia.delete(2),yield af(n)):e||(n.Ia.add(2),yield Vc(n),n.Aa.set("Unknown"))}),DR.apply(this,arguments)}function jc(t){return t.Va||(t.Va=function(n,r,i){const o=K(n);return o.ia(),new rye(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:cye.bind(null,t),e_:lye.bind(null,t),n_:dye.bind(null,t),J_:hye.bind(null,t)}),t.da.push(function(){var e=b(function*(n){n?(t.Va.N_(),dR(t)?lR(t):t.Aa.set("Unknown")):(yield t.Va.stop(),Zz(t))});return function(n){return e.apply(this,arguments)}}())),t.Va}function rs(t){return t.ma||(t.ma=function(n,r,i){const o=K(n);return o.ia(),new iye(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:gye.bind(null,t),n_:yye.bind(null,t),ea:mye.bind(null,t),ta:_ye.bind(null,t)}),t.da.push(function(){var e=b(function*(n){n?(t.ma.N_(),yield Uc(t)):(yield t.ma.stop(),t.Pa.length>0&&(j(ba,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))});return function(n){return e.apply(this,arguments)}}())),t.ma}class bR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new bR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(t,e){if(bt("AsyncQueue",`${e}: ${t}`),zo(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Hh(),this.sortedSet=new Je(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class i3{constructor(){this.fa=new Je(W.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?0!==e.type&&3===r.type?this.fa=this.fa.insert(n,e):3===e.type&&1!==r.type?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.fa=this.fa.remove(n):1===e.type&&2===r.type?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Aa{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Aa(e,n,Ca.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class vye{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Eye{constructor(){this.queries=o3(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(n,r){const i=K(n),o=i.queries;i.queries=o3(),o.forEach((s,a)=>{for(const u of a.wa)u.onError(r)})}(this,new U(N.ABORTED,"Firestore shutting down"))}}function o3(){return new eo(t=>h4(t),Bh)}function AR(){return AR=b(function*(t,e){const n=K(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new vye,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=Bc(s,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&PR(n)}),AR.apply(this,arguments)}function RR(){return RR=b(function*(t,e){const n=K(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),0===o.wa.length?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),RR.apply(this,arguments)}function Iye(t,e){const n=K(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&PR(n)}function Tye(t,e,n){const r=K(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function PR(t){t.Da.forEach(e=>{e.next()})}var MR,s3;(s3=MR||(MR={})).Fa="default",s3.Cache="cache";class NR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){return!e.fromCache||!this.ba()||(!this.options.ka||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Na(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}La(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==MR.Cache}}class l3{constructor(e){this.key=e}}class d3{constructor(e){this.key=e}}class h3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=me(),this.mutatedKeys=me(),this.Xa=p4(e),this.eu=new Ca(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new i3,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=$h(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.iu(f,g)||(r.track({type:2,doc:g}),E=!0,(u&&this.Xa(g,u)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(u||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((d,h)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:E})}};return v(g)-v(_)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=null!=i&&i;const a=n&&!i?this.ou():[],u=0===this.Za.size&&this.current&&!i?1:0,c=u!==this.Ya;return this.Ya=u,0!==s.length||c?{snapshot:new Aa(this.query,e.eu,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new i3,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new d3(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new l3(r))}),n}uu(e){this.Ha=e.qs,this.Za=me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Aa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const is="SyncEngine";class wye{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dye{constructor(e){this.key=e,this.lu=!1}}class bye{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new eo(a=>h4(a),Bh),this.Tu=new Map,this.Iu=new Set,this.du=new Je(W.comparator),this.Eu=new Map,this.Au=new BS,this.Ru={},this.Vu=new Map,this.mu=Ta.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}function Cye(t,e){return xR.apply(this,arguments)}function xR(){return xR=b(function*(t,e,n=!0){const r=Dy(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield f3(r,e,n,!0),i}),xR.apply(this,arguments)}function Aye(t,e){return OR.apply(this,arguments)}function OR(){return OR=b(function*(t,e){const n=Dy(t);yield f3(n,e,!0,!1)}),OR.apply(this,arguments)}function f3(t,e,n,r){return FR.apply(this,arguments)}function FR(){return FR=b(function*(t,e,n,r){const i=yield function Oc(t,e){const n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new no(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}(t.localStore,yn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function VR(t,e,n,r,i){return LR.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&Ty(t.remoteStore,i),a}),FR.apply(this,arguments)}function LR(){return LR=b(function*(t,e,n,r,i){t.gu=(h,f,g)=>{return(_=b(function*(E,T,A,V){let H=T.view.nu(A);H.Ds&&(H=yield _y(E.localStore,T.query,!1).then(({documents:I})=>T.view.nu(I,H)));const q=V&&V.targetChanges.get(T.targetId),Z=V&&null!=V.targetMismatches.get(T.targetId),C=T.view.applyChanges(H,E.isPrimaryClient,q,Z);return QR(E,T.targetId,C._u),C.snapshot}),function v(E,T,A,V){return _.apply(this,arguments)})(t,h,f,g);var _};const o=yield _y(t.localStore,e,!0),s=new h3(e,o.qs),a=s.nu(o.documents),u=Qh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);QR(t,n,c._u);const d=new wye(e,n,s);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}),LR.apply(this,arguments)}function Sye(t,e,n){return UR.apply(this,arguments)}function UR(){return UR=b(function*(t,e,n){const r=K(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Bh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lc(r.remoteStore,i.targetId),$c(r,i.targetId)}).catch(Ho))):($c(r,i.targetId),yield Fc(r.localStore,i.targetId,!0))}),UR.apply(this,arguments)}function Rye(t,e){return jR.apply(this,arguments)}function jR(){return jR=b(function*(t,e){const n=K(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lc(n.remoteStore,r.targetId))}),jR.apply(this,arguments)}function BR(){return BR=b(function*(t,e,n){const r=function a0(t){const e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kye.bind(null,e),e}(t);try{const i=yield function(s,a){const u=K(s),c=xe.now(),d=a.reduce((g,_)=>g.add(_.key),me());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=tr(),v=me();return u.Os.getEntries(g,d).next(E=>{_=E,_.forEach((T,A)=>{A.isValidDocument()||(v=v.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(E=>{h=E;const T=[];for(const A of a){const V=t_e(A,h.get(A.key).overlayedDocument);null!=V&&T.push(new to(A.key,V,YH(V.value.mapValue),lt.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,T,a)}).next(E=>{f=E;const T=E.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,E.batchId,T)})}).then(()=>({batchId:f.batchId,changes:m4(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ru[s.currentUser.toKey()];c||(c=new Je(ie)),c=c.insert(a,u),s.Ru[s.currentUser.toKey()]=c}(r,i.batchId,n),yield ro(r,i.changes),yield Uc(r.remoteStore)}catch(i){const o=Bc(i,"Failed to persist write");n.reject(o)}}),BR.apply(this,arguments)}function p3(t,e){return $R.apply(this,arguments)}function $R(){return $R=b(function*(t,e){const n=K(t);try{const r=yield function K_e(t,e){const n=K(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(o,d.addedDocuments,h)));let g=f.withSequenceNumber(o.currentSequenceNumber);var v,E,T;null!==e.targetMismatches.get(h)?g=g.withResumeToken(Et.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),E=g,T=d,(0===(v=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.hi.updateTargetData(o,g))});let u=tr(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function Vz(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=tr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(QS,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ls:s,ks:i}})}(o,s,e.documentUpdates).next(d=>{u=d.Ls,c=d.ks})),!r.isEqual(ee.min())){const d=n.hi.getLastRemoteSnapshotVersion(o).next(h=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Fs=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?X(s.lu,14607):i.removedDocuments.size>0&&(X(s.lu,42227),s.lu=!1))}),yield ro(n,r,e)}catch(r){yield Ho(r)}}),$R.apply(this,arguments)}function g3(t,e,n){const r=K(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Pu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=K(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&PR(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mye(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=b(function*(t,e,n){const r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Je(W.comparator);s=s.insert(o,ot.newNoDocument(o,ee.min()));const a=me().add(o),u=new Kh(ee.min(),new Map,new Je(ie),s,a);yield p3(r,u),r.du=r.du.remove(o),r.Eu.delete(e),YR(r)}else yield Fc(r.localStore,e,!1).then(()=>$c(r,e,n)).catch(Ho)}),HR.apply(this,arguments)}function Nye(t,e){return zR.apply(this,arguments)}function zR(){return zR=b(function*(t,e){const n=K(t),r=e.batch.batchId;try{const i=yield function W_e(t,e){const n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,f=h.keys();let g=M.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(v=>{const E=c.docVersions.get(_);X(null!==E,48541),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);KR(n,r,null),WR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ro(n,i)}catch(i){yield Ho(i)}}),zR.apply(this,arguments)}function kye(t,e,n){return GR.apply(this,arguments)}function GR(){return GR=b(function*(t,e,n){const r=K(t);try{const i=yield function(s,a){const u=K(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(X(null!==h,37113),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);KR(r,e,n),WR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ro(r,i)}catch(i){yield Ho(i)}}),GR.apply(this,arguments)}function WR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function KR(t,e,n){const r=K(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function $c(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||m3(t,r)})}function m3(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);null!==n&&(Lc(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),YR(t))}function QR(t,e,n){for(const r of n)r instanceof l3?(t.Au.addReference(r.key,e),Oye(t,r)):r instanceof d3?(j(is,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||m3(t,r.key)):Y(19791,{yu:r})}function Oye(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(is,"New document in limbo: "+n),t.Iu.add(r),YR(t))}function YR(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new W(Ee.fromString(e)),r=t.mu.next();t.Eu.set(r,new Dye(n)),t.du=t.du.insert(n,r),Ty(t.remoteStore,new no(yn(Ic(n.path)),r,"TargetPurposeLimboResolution",hr.ue))}}function ro(t,e,n){return JR.apply(this,arguments)}function JR(){return JR=b(function*(t,e,n){const r=K(t),i=[],o=[],s=[];var a;r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=KS.Es(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.hu.J_(i),yield(a=b(function*(c,d){const h=K(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(d,g=>M.forEach(g.Is,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>M.forEach(g.ds,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!zo(f))throw f;j(QS,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const _=h.Fs.get(g),E=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.Fs=h.Fs.insert(g,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),JR.apply(this,arguments)}function Fye(t,e){return XR.apply(this,arguments)}function XR(){return XR=b(function*(t,e){const n=K(t);if(!n.currentUser.isEqual(e)){j(is,"User change. New user:",e.toKey());const r=yield Oz(n.localStore,e);n.currentUser=e,(o=n).Vu.forEach(a=>{a.forEach(u=>{u.reject(new U(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Vu.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ro(n,r.Bs)}var o}),XR.apply(this,arguments)}function Vye(t,e){const n=K(t),r=n.Eu.get(e);if(r&&r.lu)return me().add(r.key);{let i=me();const o=n.Tu.get(e);if(!o)return i;for(const s of o){const a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Dy(t){const e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mye.bind(null,e),e.hu.J_=Iye.bind(null,e.eventManager),e.hu.pu=Tye.bind(null,e.eventManager),e}let by=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return b(function*(){r.serializer=Da(n.databaseInfo.databaseId),r.sharedClientState=r.bu(n),r.persistence=r.Du(n),yield r.persistence.start(),r.localStore=r.vu(n),r.gcScheduler=r.Cu(n,r.localStore),r.indexBackfillerScheduler=r.Fu(n,r.localStore)})()}Cu(n,r){return null}Fu(n,r){return null}vu(n){return function xz(t,e,n,r){return new q_e(t,e,n,r)}(this.persistence,new kz,n.initialUser,this.serializer)}Du(n){return new $S(py.Vi,this.serializer)}bu(n){return new qz}terminate(){var n=this;return b(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class u0 extends by{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){return X(this.persistence.referenceDelegate instanceof gy,46915),new wz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Du(e){const n=void 0!==this.cacheSizeBytes?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new $S(r=>gy.Vi(r,n),this.serializer)}}let Hc=(()=>{class t{initialize(n,r){var i=this;return b(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>g3(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Fye.bind(null,i.syncEngine),yield function wR(t,e){return DR.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Eye}createDatastore(n){const r=Da(n.databaseInfo.databaseId),i=new nye(n.databaseInfo);return new sye(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>g3(this.syncEngine,r,0),u=Kz.C()?new Kz:new X_e,new uye(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const f=new bye(o,s,a,u,c,d);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return b(function*(){var r,i,o;yield(o=b(function*(a){const u=K(a);j(ba,"RemoteStore shutting down."),u.Ia.add(5),yield Vc(u),u.Ea.shutdown(),u.Aa.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class Cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):bt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const os="FirestoreClient";class Yye{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=JA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=b(function*(u){j(os,"Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(j(os,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Bc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function l0(t,e){return d0.apply(this,arguments)}function d0(){return d0=b(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j(os,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=b(function*(o){r.isEqual(o)||(yield Oz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>{On("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{On("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}),d0.apply(this,arguments)}function I3(t,e){return h0.apply(this,arguments)}function h0(){return h0=b(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function f0(t){return p0.apply(this,arguments)}(t);j(os,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>r3(e.remoteStore,i)),t._onlineComponents=e}),h0.apply(this,arguments)}function p0(){return p0=b(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(os,"Using user provided OfflineComponentProvider");try{yield l0(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;On("Error using user provided cache. Falling back to memory cache: "+e),yield l0(t,new by)}}else j(os,"Using default OfflineComponentProvider"),yield l0(t,new u0(void 0));var i;return t._offlineComponents}),p0.apply(this,arguments)}function Ay(t){return g0.apply(this,arguments)}function g0(){return g0=b(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(os,"Using user provided OnlineComponentProvider"),yield I3(t,t._uninitializedComponentsProvider._online)):(j(os,"Using default OnlineComponentProvider"),yield I3(t,new Hc))),t._onlineComponents}),g0.apply(this,arguments)}function Gc(t){return _0.apply(this,arguments)}function _0(){return _0=b(function*(t){const e=yield Ay(t),n=e.eventManager;return n.onListen=Cye.bind(null,e.syncEngine),n.onUnlisten=Sye.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Aye.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rye.bind(null,e.syncEngine),n}),_0.apply(this,arguments)}function S3(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const R3=new Map,P3="firestore.googleapis.com";class N3{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P3,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function eme(t,e,n,r){if(!0===e&&!0===r)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N3(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Gge;switch(r.type){case"firstParty":return new Qge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return b(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R3.get(n);r&&(j("ComponentProvider","Removing Datastore"),R3.delete(n),r.terminate())}(this),Promise.resolve()}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oa(n,Be._jsonSchema))return new Be(e,r||null,new W(Ee.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:kt("string",Be._jsonSchemaVersion),referencePath:kt("string")};class mi extends Qt{constructor(e,n,r){super(e,n,Ic(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new W(e))}withConverter(e){return new mi(this.firestore,e,this._path)}}function cve(t,e,...n){if(t=mn(t),eS("collection","path",e),t instanceof uf){const r=Ee.fromString(e,...n);return aH(r),new mi(t,null,r)}{if(!(t instanceof Be||t instanceof mi))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return aH(r),new mi(t.firestore,null,r)}}function k3(t,e,...n){if(t=mn(t),1===arguments.length&&(e=JA.newId()),eS("doc","path",e),t instanceof uf){const r=Ee.fromString(e,...n);return sH(r),new Be(t,null,new W(r))}{if(!(t instanceof Be||t instanceof mi))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return sH(r),new Be(t.firestore,t instanceof mi?t.converter:null,new W(r))}}const O3="AsyncQueue";class F3{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sR(this,"async_queue_retry"),this.oc=()=>{const r=Iy();r&&j(O3,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Iy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Iy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Wt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){var e=this;return b(function*(){if(0!==e.Zu.length){try{yield e.Zu[0](),e.Zu.shift(),e.F_.reset()}catch(n){if(!zo(n))throw n;j(O3,"Operation failed with retryable error: "+n)}e.Zu.length>0&&e.F_.g_(()=>e.cc())}})()}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,bt("INTERNAL UNHANDLED ERROR: ",V3(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=bR.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:V3(this.tc)})}verifyOperationInProgress(){}Pc(){var e=this;return b(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function V3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}function qc(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ze extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new F3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return b(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new F3(n),e._firestoreClient=void 0,yield n}})()}}function dve(t,e){const n="object"==typeof t?t:nB(),r="string"==typeof t?t:e||Oh,i=function Xj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Xm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function uve(t,e,n,r={}){var i;t=Ie(t,uf);const o=th(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(function wle(t){BD.apply(this,arguments)}(`https://${u}`),Ale("Firestore",!0)),s.host!==P3&&s.host!==u&&On("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Ju(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if("string"==typeof r.mockUserToken)d=r.mockUserToken,h=qt.MOCK_USER;else{d=function Dle(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jm(JSON.stringify({alg:"none",type:"JWT"})),Jm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qt(f)}t._authCredentials=new qge(new rH(d,h))}}(i,...o)}return i}function pt(t){if(t._terminated)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function L3(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xme(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,S3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Yye(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(Et.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fr(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oa(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:kt("string",fr._jsonSchemaVersion),bytes:kt("string")};class Sa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wc{constructor(e){this._methodName=e}}class _i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(oa(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:kt("string",_i._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class qr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oa(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>"number"==typeof n))return new qr(e.vectorValues);throw new U(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:kt("string",qr._jsonSchemaVersion),vectorValues:kt("object")};const pve=/^__.*__$/;class gve{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}function $3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:t})}}class Sy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return My(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if($3(this.Ec)&&pve.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class mve{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Da(e)}Dc(e,n,r,i=!1){return new Sy({Ec:e,methodName:n,bc:r,path:ut.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ra(t){const e=t._freezeSettings(),n=Da(t._databaseId);return new mve(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ry(t,e,n,r,i,o={}){const s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);b0("Data must be an object, but it was:",s,r);const a=G3(r,s);let u,c;if(o.merge)u=new er(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=df(e,h,n);if(!s.contains(f))throw new U(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);W3(d,f)||d.push(f)}u=new er(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new gve(new rn(a),u,c)}function Pa(t,e){if(q3(t=mn(t)))return b0("Unsupported field value:",e,t),G3(t,e);if(t instanceof Wc)return function(r,i){if(!$3(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&4!==e.Ec)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Pa(a,i.yc(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=mn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return v4(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=xe.fromDate(r);return{timestampValue:Sc(i.serializer,o)}}if(r instanceof xe){const o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sc(i.serializer,o)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fr)return{bytesValue:U4(i.serializer,r._byteString)};if(r instanceof Be){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return s=r,a=i,{mapValue:{fields:{[fS]:{stringValue:pS},[yc]:{arrayValue:{values:s.toArray().map(c=>{if("number"!=typeof c)throw a.wc("VectorValues must only contain numeric values.");return DS(a.serializer,c)})}}}}};var s,a;throw i.wc(`Unsupported field value: ${M_(r)}`)}(t,e)}function G3(t,e){const n={};return xH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const o=Pa(i,e.Vc(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function q3(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof _i||t instanceof fr||t instanceof Be||t instanceof Wc||t instanceof qr)}function b0(t,e,n){if(!q3(n)||!uH(n)){const r=M_(n);throw e.wc("an object"===r?t+" a custom object":t+" "+r)}}function df(t,e,n){if((e=mn(e))instanceof Sa)return e._internalPath;if("string"==typeof e)return Py(t,e);throw My("Field path arguments must be of type string or ",t,!1,void 0,n)}const _ve=new RegExp("[~\\*/\\[\\]]");function Py(t,e,n){if(e.search(_ve)>=0)throw My(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sa(...e.split("."))._internalPath}catch{throw My(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function My(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,a+t+u)}function W3(t,e){return t.some(n=>n.isEqual(e))}class hf{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yve extends hf{data(){return super.data()}}function Ny(t,e){return"string"==typeof e?Py(t,e):e instanceof Sa?e._internalPath:e._delegate._internalPath}class eG{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n[yc].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>ct(s.doubleValue));return new qr(o)}convertGeoPoint(e){return new _i(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=H_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);X(Y4(r),9688,{name:e});const i=new ha(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||bt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pr extends hf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle="NOT SUPPORTED",n):n}}pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",pr._jsonSchema={type:kt("string",pr._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Vy extends pr{data(e={}){return super.data(e)}}class gr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ss(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vy(this._firestore,this._userDataWriter,r.key,r,new ss(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Vy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Vy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Eve(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=JA.newId();const n=[],r=[],i=[];return this.docs.forEach(o=>{null!==o._document&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle="NOT SUPPORTED",e}}function Eve(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}gr._jsonSchemaVersion="firestore/querySnapshot/1.0",gr._jsonSchema={type:kt("string",gr._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class as extends eG{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function Ive(t,e,n){t=Ie(t,Be);const r=Ie(t.firestore,ze),i=function Fy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function gf(t,e){return function(r,i){const o=new Wt;return r.asyncQueue.enqueueAndForget(b(function*(){return function Pye(t,e,n){return BR.apply(this,arguments)}(yield function m0(t){return Ay(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(pt(t),e)}(r,[Ry(Ra(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,lt.none())])}function R0(t,...e){var n,r,i;t=mn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||qc(e[s])||(o=e[s++]);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qc(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(t instanceof Be)c=Ie(t.firestore,ze),d=Ic(t._key.path),u={next:h=>{e[s]&&e[s](function P0(t,e,n){const r=n.docs.get(e._key),i=new as(t);return new pr(t,i,e._key,r,new ss(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ie(t,Qt);c=Ie(h.firestore,ze),d=h._query;const f=new as(c);u={next:g=>{e[s]&&e[s](new gr(c,f,h,g))},error:e[s+1],complete:e[s+2]},function K3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,g,_,v){const E=new Cy(v),T=new NR(g,E,_);return f.asyncQueue.enqueueAndForget(b(function*(){return function CR(t,e){return AR.apply(this,arguments)}(yield Gc(f),T)})),()=>{E.Ou(),f.asyncQueue.enqueueAndForget(b(function*(){return function SR(t,e){return RR.apply(this,arguments)}(yield Gc(f),T)}))}}(pt(c),d,a,u)}!function(e,n=!0){sc=i_,Fo(new $i("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ze(new Wge(r.getProvider("auth-internal")),new Yge(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xn(eH,"4.8.0",e),Xn(eH,"4.8.0","esm2017")}();var Uy=function(){return Uy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Uy.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ove={includeMetadataChanges:!1};function $ve(t,e){return void 0===e&&(e={}),function Bve(t){return function k0(t,e){return void 0===e&&(e=Ove),new qe(function(n){return{unsubscribe:R0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(t).pipe(ye(function(n){return n.map(function(r){return function oG(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Uy(Uy({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class jy{constructor(e){return e}}const cG="firestore",F0=new $("angularfire2.firestore-instances");function qve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jy(r)}}const Wve={provide:class zve{constructor(){return ab(cG)}},deps:[[new Or,F0]]},Kve={provide:jy,useFactory:function Gve(t,e){const n=function sb(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(cG,t,e);return n&&new jy(n)},deps:[[new Or,F0],ec]},V0=Zu($ve,!0),L0=Zu(cve,!0,2),Yve=Zu(k3,!0,2),Jve=Zu(dve,!0),Xve=Zu(Ive,!0,2);let lG=(()=>{class t{firestore=x(jy);playersCollection=L0(this.firestore,"players");playersData=ib(V0(this.playersCollection,{idField:"id"}).pipe(ye(n=>n.map(r=>({id:Number(r.id),name:r.name})))));predictionsCollection=L0(this.firestore,"predictions");predictionsData=ib(V0(this.predictionsCollection).pipe(ye(n=>n.map(r=>({matchNumber:r.matchNumber,playerId:r.playerId,roundNumber:r.roundNumber,tip:r.tip})))));scoresCollection=L0(this.firestore,"scores");scoresData=ib(V0(this.scoresCollection).pipe(ye(n=>n.map(r=>({matchNumber:r.matchNumber,roundNumber:r.roundNumber,home:r.home,away:r.away,score:r.score,startDate:r.startDate})))));addOrUpdatePrediction(n,r,i,o){var s=this;return b(function*(){try{const u=Yve(s.firestore,`predictions/${n}-${r}-${i}`);yield Xve(u,{playerId:n,roundNumber:r,matchNumber:i,tip:o}),console.log("Prediction saved:",{playerId:n,roundNumber:r,matchNumber:i,tip:o})}catch(a){console.error("Error saving prediction:",a)}})()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dG=(t,e)=>t>e?"1":t<e?"2":"x",hG=(t,e)=>{const[n,r]=t.split("-").map(Number),[i,o]=e.split("-").map(Number);return n===i&&r===o?5:dG(n,r)===dG(i,o)?n-r===i-o?3:1:0},Zve=t=>["/jatekos-statisztika",t],eEe=(t,e)=>e.id;function tEe(t,e){if(1&t&&(tt(0,"div",1)(1,"div",2),Rt(2),Ue(),tt(3,"div",3),Rt(4),Ue(),tt(5,"div",4),Rt(6),Ue()()),2&t){const n=e.$implicit,r=e.$index;vd("routerLink",OV(4,Zve,n.id)),zt(2),ni("#",r+1),zt(2),ni("",n.points," pont"),zt(2),Ad(n.name)}}let nEe=(()=>{class t{dataService=x(lG);playersData=this.dataService.playersData;predictionsData=this.dataService.predictionsData;scoresData=this.dataService.scoresData;players=$t([]);constructor(){Nw(()=>{const n=this.playersData(),r=this.predictionsData(),i=this.scoresData();if(n&&r&&i){const o=n.map(s=>{let a=0;const u=r.filter(c=>c.playerId===s.id);for(const c of u){const d=i.find(h=>h.matchNumber===c.matchNumber&&h.roundNumber===c.roundNumber);!d||!d.score||(a+=hG(c.tip,d.score))}return{...s,points:a}});o.sort((s,a)=>(a.points||0)-(s.points||0)),this.players.set(o)}})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ad({type:t,selectors:[["app-sorrend-container"]],decls:3,vars:0,consts:[[1,"sorrend-container"],[1,"card",3,"routerLink"],[1,"avatar"],[1,"points"],[1,"name"]],template:function(r,i){1&r&&(tt(0,"div",0),Fg(1,tEe,7,6,"div",1,eEe),Ue()),2&r&&(zt(),Vg(i.players()))},dependencies:[Zd],styles:[".sorrend-container[_ngcontent-%COMP%]{width:100%;display:grid;gap:16px;grid-template-columns:1fr}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;text-align:center;border:2px solid rgba(0,0,0,.05);box-shadow:0 8px 20px #0000001f,0 4px 8px #0000000f;transition:transform .3s ease,box-shadow .3s ease,border-color .3s ease;cursor:pointer}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#ccc;display:flex;align-items:center;justify-content:center;font-weight:700;margin:0 auto 16px;font-size:1.2rem}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{color:#60c21f;font-size:2rem;margin:0}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:8px;font-size:1rem;color:#333;font-weight:500}@media (min-width: 600px){.sorrend-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.sorrend-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}"]})}return t})();const Jc=new $("",{providedIn:"root",factory:()=>Wy}),Wy="always";Promise.resolve(),Promise.resolve();let oIe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vg({type:t});static \u0275inj=cl({})}return t})(),aIe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jc,useValue:n.callSetDisabledState??Wy}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vg({type:t});static \u0275inj=cl({imports:[oIe]})}return t})();const uIe=(t,e)=>e.roundNumber,cIe=(t,e)=>e.matchNumber;function lIe(t,e){1&t&&Ed(0,"th")}function dIe(t,e){if(1&t){const n=WT();tt(0,"input",4),Mn("input",function(i){lp(n);const o=Nn(4);return dp(o.sanitizeNumber(i,o.editingValueHome))}),Ue(),Rt(1," - "),tt(2,"input",4),Mn("input",function(i){lp(n);const o=Nn(4);return dp(o.sanitizeNumber(i,o.editingValueAway))}),Ue()}if(2&t){const n=Nn(4);vd("value",n.editingValueHome()),zt(2),vd("value",n.editingValueAway())}}function hIe(t,e){1&t&&Rt(0),2&t&&ni(" ",Nn().$implicit.tip||"-"," ")}function fIe(t,e){if(1&t){const n=WT();tt(0,"td")(1,"button",5),Mn("click",function(){lp(n);const i=Nn().$implicit,o=Nn().$implicit;return dp(Nn(2).onClickSaveEditTip(o.roundNumber,i.matchNumber,i.tip))}),Rt(2),Ue()()}if(2&t){let n;const r=Nn().$implicit,i=Nn().$implicit,o=Nn(2);zt(2),ni(" ",(null==(n=o.editingTip())?null:n.roundNumber)===i.roundNumber&&(null==(n=o.editingTip())?null:n.matchNumber)===r.matchNumber?"Ment\xe9s":"Szerkeszt\xe9s"," ")}}function pIe(t,e){if(1&t&&(tt(0,"tr")(1,"td"),Rt(2),Ue(),tt(3,"td"),_d(4,dIe,3,2)(5,hIe,1,1),Ue(),tt(6,"td"),Rt(7),Ue(),tt(8,"td"),Rt(9),Ue(),_d(10,fIe,3,1,"td"),Ue()),2&t){let n;const r=e.$implicit,i=Nn().$implicit,o=Nn(2);zt(2),Ad(o.getPair(i.roundNumber,r.matchNumber)),zt(2),yd((null==(n=o.editingTip())?null:n.roundNumber)===i.roundNumber&&(null==(n=o.editingTip())?null:n.matchNumber)===r.matchNumber?4:5),zt(3),Ad(o.getScore(i.roundNumber,r.matchNumber)),zt(2),ni(" ",o.getPoints(r)," "),zt(),yd(o.canEdit(i.roundNumber,r.matchNumber)?10:-1)}}function gIe(t,e){if(1&t&&(tt(0,"h2"),Rt(1),Ue(),tt(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th"),Rt(7,"P\xe1ros\xedt\xe1s"),Ue(),tt(8,"th"),Rt(9,"Tipp"),Ue(),tt(10,"th"),Rt(11,"Val\xf3s eredm\xe9ny"),Ue(),tt(12,"th"),Rt(13,"Pont"),Ue(),_d(14,lIe,1,0,"th"),Ue()(),tt(15,"tbody"),Fg(16,pIe,11,5,"tr",null,cIe),Ue()()()),2&t){const n=e.$implicit,r=Nn(2);zt(),ni("",n.roundNumber,". fordul\xf3"),zt(13),yd(r.canEdit(n.roundNumber,1)?14:-1),zt(2),Vg(n.tips)}}function mIe(t,e){if(1&t&&(tt(0,"h1"),Rt(1),Ue(),Fg(2,gIe,18,2,null,null,uIe)),2&t){const n=Nn();zt(),ni("Statisztik\xe1k: ",n.playerName()),zt(),Vg(n.playerPredictions())}}function _Ie(t,e){1&t&&(tt(0,"p"),Rt(1,"Nem tal\xe1lhat\xf3 j\xe1t\xe9kos ezzel az ID-val."),Ue())}const yIe=[{path:"",component:nEe},{path:"jatekos-statisztika/:id",component:(()=>{class t{route=x(Zs);dataService=x(lG);playerId=Yn(()=>this.route.snapshot.paramMap.get("id"));playerName=$t("");playerPredictions=$t([]);scores=this.dataService.scoresData;editingTip=$t(null);editingValueHome=$t(0);editingValueAway=$t(0);constructor(){Nw(()=>{if(this.playerId()&&this.dataService.predictionsData()&&this.dataService.scoresData()){const r=(this.dataService.predictionsData()?.filter(f=>f.playerId===Number(this.playerId()))||[]).reduce((f,g)=>{let _=f.find(v=>v.roundNumber===g.roundNumber);return _||(_={roundNumber:g.roundNumber,tips:[]},f.push(_)),_.tips.push(g),f},[]);r.sort((f,g)=>f.roundNumber-g.roundNumber);let i=this.dataService.scoresData()??[];const o=new Date,s=i.filter(f=>f.startDate&&f.startDate.toDate()>o),a=s.reduce((f,g)=>g.startDate.toDate()<f.startDate.toDate()?g:f,s[0]);if(a){const f=a.startDate.toDate(),g=new Date(f.getTime()+6048e5);i=s.filter(v=>{const E=v.startDate.toDate();return E>=f&&E<=g})}const u=Array.from(new Set(i.map(f=>f.roundNumber))),c=Math.max(...u),d=i.filter(f=>f.roundNumber===c);let h=r.find(f=>f.roundNumber===c);h||(h={roundNumber:c,tips:[]},r.push(h)),h.tips=d.sort((f,g)=>f.matchNumber-g.matchNumber).map(f=>h.tips.find(_=>_.matchNumber===f.matchNumber)??{roundNumber:c,matchNumber:f.matchNumber,playerId:Number(this.playerId()),tip:"",startDate:f.startDate?new Date(1e3*f.startDate.seconds+(f.startDate.nanoseconds||0)/1e6):void 0}),this.playerPredictions.set(r),this.playerName.set(this.dataService.playersData()?.find(f=>f.id===Number(this.playerId()))?.name||"")}})}getPoints(n){const i=this.dataService.scoresData()?.find(o=>o.roundNumber===n.roundNumber&&o.matchNumber===n.matchNumber)?.score;return i?hG(n.tip,i):"-"}getPair(n,r){const i=this.scores()?.find(o=>o.roundNumber===n&&o.matchNumber===r);return i?`${i.home}-${i.away}`:""}getScore(n,r){const i=this.scores()?.find(o=>o.roundNumber===n&&o.matchNumber===r);return i&&i.score?i.score:"-"}isLastRound(n){return!Array.from(new Set(this.scores()?.map(i=>i.roundNumber)??[])).some(i=>i>n)}onClickSaveEditTip(n,r,i){if(this.editingTip()?.roundNumber!==n||this.editingTip()?.matchNumber!==r)this.editingTip.set({roundNumber:n,matchNumber:r}),this.editingValueHome.set(i?i.split("-").map(Number)[0]:0),this.editingValueAway.set(i?i.split("-").map(Number)[1]:0);else{this.dataService.addOrUpdatePrediction(Number(this.playerId())||0,n,r,`${this.editingValueHome()}-${this.editingValueAway()}`);const o=this.playerPredictions().map(s=>s.roundNumber===n?{...s,tips:s.tips.map(a=>a.matchNumber===r?{...a,tip:`${this.editingValueHome()}-${this.editingValueAway()}`}:a)}:s);this.playerPredictions.set(o),this.editingTip.set(null)}}sanitizeNumber(n,r){const i=n.target,o=i.value.replace(/\D/g,"");r.set(Number(o)),i.value=o}canEdit(n,r){const i=this.scores()?.find(h=>h.roundNumber===n&&h.matchNumber===r);if(!i?.startDate)return!1;let o;o=i.startDate.toDate?i.startDate.toDate():"seconds"in i.startDate?new Date(1e3*i.startDate.seconds+(i.startDate.nanoseconds||0)/1e6):new Date(i.startDate);const s=new Date,u=(o.getDay()+6)%7,c=new Date(o);c.setHours(0,0,0,0),c.setDate(o.getDate()-u);const d=new Date(o.getTime()-72e5);return s>=c&&s<=d}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ad({type:t,selectors:[["app-jatekos-statisztika"]],decls:7,vars:1,consts:[[1,"container"],["routerLink","/",1,"back-btn"],[1,"predictions-table-wrapper"],[1,"predictions-table"],["type","text",3,"input","value"],[1,"edit-btn",3,"click"]],template:function(r,i){1&r&&(tt(0,"div",0)(1,"button",1),Rt(2,"Vissza a f\u0151oldalra"),Ue(),_d(3,mIe,4,1)(4,_Ie,2,0,"p"),tt(5,"button",1),Rt(6,"Vissza a f\u0151oldalra"),Ue()()),2&r&&(zt(3),yd(i.playerPredictions()&&i.playerName()?3:4))},dependencies:[Zd,aIe],styles:[".container[_ngcontent-%COMP%]{padding:1rem;max-width:800px;margin:0 auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.predictions-table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.predictions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px;margin-bottom:2rem}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5rem;text-align:center}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:60px;padding:.25rem .5rem;margin:0 .2rem;border:1px solid #ccc;border-radius:.3rem;text-align:center;font-weight:700;font-size:.9rem;transition:all .2s ease-in-out}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#2575fc;box-shadow:0 0 5px #2575fc80;transform:scale(1.05)}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-inner-spin-button, .predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-outer-spin-button, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-inner-spin-button, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0}.back-btn[_ngcontent-%COMP%]{width:fit-content;margin:1rem auto;padding:.5rem 1rem;padding:.3rem .6rem;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:.3rem;cursor:pointer;font-weight:700;transition:all .2s ease-in-out}.back-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}.edit-btn[_ngcontent-%COMP%]{padding:.3rem .6rem;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:.3rem;cursor:pointer;font-weight:700;transition:all .2s ease-in-out}.edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}"]})}return t})()}],vIe={providers:[function Cae(...t){const e=[wU,MU,RU,{provide:Rm,useExisting:RU},{provide:Pm,useFactory:()=>x(bU,{optional:!0})??x(MU)},{provide:jd,useValue:bae,multi:!0},{provide:dD,useValue:!0},{provide:xU,useClass:Dae}];for(const n of t)e.push(...n.\u0275providers);return Ei(e)}(),function WW(){return Ei([(t=()=>{x(qW)},Ei([{provide:vr,multi:!0,useValue:t}]))]);var t}(),function nne(){return Ft("NgZoneless"),Ei([{provide:fo,useExisting:hw},{provide:ve,useClass:yT},{provide:gp,useValue:!0},{provide:wE,useValue:!1},[]])}(),function ole(t,...e){return Ei([{provide:OD,multi:!0,useValue:t},[],{provide:Zs,useFactory:Pj,deps:[Qu]},{provide:gd,multi:!0,useFactory:Mj},e.map(n=>n.\u0275providers)])}(yIe,function cle(){return function ai(t,e){return{\u0275kind:t,\u0275providers:e}}(6,[{provide:tu,useClass:Lie}])}()),function Wae(...t){const e=[],n=new Set;for(const{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);const r=n.has(xo.HttpTransferCacheOptions);return Ei([[],[],$re(),n.has(xo.NoHttpTransferCache)||r?[]:Bae({}),e])}(function qae(){return function Bd(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}(xo.EventReplay,ZL())}()),function _he(t,...e){return Ei([phe,ghe,{provide:lb,useFactory:mhe(t),multi:!0,deps:[ve,fn,cb,...e]}])}(()=>yhe({apiKey:"AIzaSyBLKm358fi1UccnZda8-svRe2sUh60nCPs",authDomain:"tippjatek-63c96.firebaseapp.com",projectId:"tippjatek-63c96",storageBucket:"tippjatek-63c96.firebasestorage.app",messagingSenderId:"590907780911",appId:"1:590907780911:web:1e80613c93f09a5fb6fbda"})),function Qve(t,...e){return Xn("angularfire",ob.full,"fst"),Ei([Kve,Wve,{provide:F0,useFactory:qve(t),multi:!0,deps:[ve,fn,cb,pB,[new Or,G$],[new Or,OB],...e]}])}(()=>Jve())]};(function fie(t,e,n){return Ire({rootComponent:t,platformRef:n?.platformRef,...w2(e)})})((()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ad({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-container"],[1,"title"]],template:function(r,i){1&r&&(tt(0,"div",0)(1,"h1",1),Rt(2,"Tippj\xe1t\xe9k"),Ue(),Ed(3,"router-outlet"),Ue())},dependencies:[AD],styles:[".main-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:16px;display:flex;flex-direction:column;background:#f0f5e5}.main-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#60c21f;font-size:60px;align-self:center}"]})}return t})(),vIe).catch(t=>console.error(t))}},Va=>{Va(Va.s=708)}]);