"use strict";(self.webpackChunktippjatek=self.webpackChunktippjatek||[]).push([[792],{303:()=>{let va;function Fu(){return va}function ri(t){const e=va;return va=t,e}const pW=Symbol("NotFound");function qy(t){return t===pW||"\u0275NotFound"===t?.name}function Wy(t,e){return Object.is(t,e)}Error;let en=null,Uu=!1,Ky=1;const xt=Symbol("SIGNAL");function se(t){const e=en;return en=t,e}const Ea={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ju(t){if(Uu)throw new Error("");if(null===en)return;en.consumerOnSignalRead(t);const e=en.producersTail;if(void 0!==e&&e.producer===t)return;let n;const r=en.recomputing;if(r&&(n=void 0!==e?e.nextProducer:en.producers,void 0!==n&&n.producer===t))return en.producersTail=n,void(n.lastReadVersion=t.version);const i=t.consumersTail;if(void 0!==i&&i.consumer===en&&(!r||function vW(t,e){const n=e.producersTail;if(void 0!==n){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(i,en)))return;const o=Ta(en),s={producer:t,consumer:en,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};en.producersTail=s,void 0!==e?e.nextProducer=s:en.producers=s,o&&$P(t,s)}function Bu(t){if((!Ta(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ky)){if(!t.producerMustRecompute(t)&&!vf(t))return void yf(t);t.producerRecomputeValue(t),yf(t)}}function jP(t){if(void 0===t.consumers)return;const e=Uu;Uu=!0;try{for(let n=t.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||mW(r)}}finally{Uu=e}}function BP(){return!1!==en?.consumerAllowSignalWrites}function mW(t){t.dirty=!0,jP(t),t.consumerMarkedDirty?.(t)}function yf(t){t.dirty=!1,t.lastCleanEpoch=Ky}function Ia(t){return t&&function _W(t){t.producersTail=void 0,t.recomputing=!0}(t),se(t)}function $u(t,e){se(e),t&&function yW(t){t.recomputing=!1;const e=t.producersTail;let n=void 0!==e?e.nextProducer:t.producers;if(void 0!==n){if(Ta(t))do{n=Jy(n)}while(void 0!==n);void 0!==e?e.nextProducer=void 0:t.producers=void 0}}(t)}function vf(t){for(let e=t.producers;void 0!==e;e=e.nextProducer){const n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Bu(n),r!==n.version))return!0}return!1}function Hu(t){if(Ta(t)){let e=t.producers;for(;void 0!==e;)e=Jy(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function $P(t,e){const n=t.consumersTail,r=Ta(t);if(void 0!==n?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;void 0!==i;i=i.nextProducer)$P(i.producer,i)}function Jy(t){const e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==r?r.prevConsumer=i:e.consumersTail=i,void 0!==i)i.nextConsumer=r;else if(e.consumers=r,!Ta(e)){let o=e.producers;for(;void 0!==o;)o=Jy(o)}return n}function Ta(t){return t.consumerIsAlwaysLive||void 0!==t.consumers}const Qo=Symbol("UNSET"),wa=Symbol("COMPUTING"),Hi=Symbol("ERRORED"),IW={...Ea,value:Qo,dirty:!0,error:null,equal:Wy,kind:"computed",producerMustRecompute:t=>t.value===Qo||t.value===wa,producerRecomputeValue(t){if(t.value===wa)throw new Error("");const e=t.value;t.value=wa;const n=Ia(t);let r,i=!1;try{r=t.computation(),se(null),i=e!==Qo&&e!==Hi&&r!==Hi&&t.equal(e,r)}catch(o){r=Hi,t.error=o}finally{$u(t,n)}i?t.value=e:(t.value=r,t.version++)}};let HP=function TW(){throw new Error};function zP(t){HP(t)}function bW(t,e){const n=Object.create(Zy);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function CW(t){return ju(t),t.value}(n);return r[xt]=n,[r,s=>If(n,s),s=>function GP(t,e){BP()||zP(t),If(t,e(t.value))}(n,s)]}function If(t,e){BP()||zP(t),t.equal(t.value,e)||(t.value=e,function AW(t){t.version++,function gW(){Ky++}(),jP(t)}(t))}const Zy={...Ea,equal:Wy,value:void 0,kind:"signal"};function Qe(t){return"function"==typeof t}function ev(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const tv=ev(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Tf(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Qe(r))try{r()}catch(o){e=o instanceof tv?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{KP(o)}catch(s){e=e??[],s instanceof tv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KP(e);else{if(e instanceof tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tf(n,e)}remove(e){const{_finalizers:n}=this;n&&Tf(n,e),e instanceof tn&&e._removeParent(this)}}tn.EMPTY=(()=>{const t=new tn;return t.closed=!0,t})();const qP=tn.EMPTY;function WP(t){return t instanceof tn||t&&"closed"in t&&Qe(t.remove)&&Qe(t.add)&&Qe(t.unsubscribe)}function KP(t){Qe(t)?t():t.unsubscribe()}const Yo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wf={setTimeout(t,e,...n){const{delegate:r}=wf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=wf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function QP(t){wf.setTimeout(()=>{const{onUnhandledError:e}=Yo;if(!e)throw t;e(t)})}function nv(){}const SW=rv("C",void 0,void 0);function rv(t,e,n){return{kind:t,value:e,error:n}}let Jo=null;function bf(t){if(Yo.useDeprecatedSynchronousErrorHandling){const e=!Jo;if(e&&(Jo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Jo;if(Jo=null,n)throw r}}else t()}class iv extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,WP(e)&&e.add(this)):this.destination=xW}static create(e,n,r){return new sv(e,n,r)}next(e){this.isStopped?av(function DW(t){return rv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?av(function RW(t){return rv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?av(SW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NW=Function.prototype.bind;function ov(t,e){return NW.call(t,e)}class MW{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cf(r)}else Cf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cf(n)}}}class sv extends iv{constructor(e,n,r){let i;if(super(),Qe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Yo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ov(e.next,o),error:e.error&&ov(e.error,o),complete:e.complete&&ov(e.complete,o)}):i=e}this.destination=new MW(i)}}function Cf(t){Yo.useDeprecatedSynchronousErrorHandling?function PW(t){Yo.useDeprecatedSynchronousErrorHandling&&Jo&&(Jo.errorThrown=!0,Jo.error=t)}(t):QP(t)}function av(t,e){const{onStoppedNotification:n}=Yo;n&&wf.setTimeout(()=>n(t,e))}const xW={closed:!0,next:nv,error:function kW(t){throw t},complete:nv},cv="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xo(t){return t}function YP(t){return 0===t.length?Xo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function LW(t){return t&&t instanceof iv||function VW(t){return t&&Qe(t.next)&&Qe(t.error)&&Qe(t.complete)}(t)&&WP(t)}(n)?n:new sv(n,r,i);return bf(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JP(r))((i,o)=>{const s=new sv({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[cv](){return this}pipe(...n){return YP(n)(this)}toPromise(n){return new(n=JP(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function JP(t){var e;return null!==(e=t??Yo.Promise)&&void 0!==e?e:Promise}const FW=ev(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nn=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new XP(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FW}next(n){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?qP:(this.currentObservers=null,o.push(n),new tn(()=>{this.currentObservers=null,Tf(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new XP(e,n),t})();class XP extends Nn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:qP}}class ar extends Nn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}class zu{full;major;minor;patch;constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const uv=new zu("20.3.1"),ZP="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class L extends Error{code;constructor(e,n){super(function Mn(t,e){return`${function UW(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const ht=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("")}function kn(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(kn).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function lv(t,e){return t?e?`${t} ${e}`:t:e||""}const $W=De({__forward_ref__:De});function qe(t){return t.__forward_ref__=qe,t.toString=function(){return kn(this())},t}function fe(t){return Af(t)?t():t}function Af(t){return"function"==typeof t&&t.hasOwnProperty($W)&&t.__forward_ref__===qe}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sf(t){return function QW(t,e){return t.hasOwnProperty(e)&&t[e]||null}(t,Df)}function Rf(t){return t&&t.hasOwnProperty(dv)?t[dv]:null}const Df=De({\u0275prov:De}),dv=De({\u0275inj:De});class ${_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fv(t){return t&&!!t.\u0275providers}const pv=De({\u0275cmp:De}),t3=De({\u0275dir:De}),n3=De({\u0275pipe:De}),eN=De({\u0275mod:De}),es=De({\u0275fac:De}),Ku=De({__NG_ELEMENT_ID__:De}),tN=De({__NG_ENV_ID__:De});function de(t){return"string"==typeof t?t:null==t?"":String(t)}const gv=De({ngErrorCode:De}),nN=De({ngErrorMessage:De}),Qu=De({ngTokenPath:De});function mv(t,e){return rN("",-200,e)}function _v(t,e){throw new L(-201,!1)}function rN(t,e,n){const r=new L(e,t);return r[gv]=e,r[nN]=t,n&&(r[Qu]=n),r}let yv;function iN(){return yv}function xn(t){const e=yv;return yv=t,e}function oN(t,e,n){const r=Sf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void _v()}const ts={},vv="__NG_DI_FLAG__";class c3{injector;constructor(e){this.injector=e}retrieve(e,n){const r=Yu(n)||0;try{return this.injector.get(e,8&r?null:ts,r)}catch(i){if(qy(i))return i;throw i}}}function u3(t,e=0){const n=Fu();if(void 0===n)throw new L(-203,!1);if(null===n)return oN(t,void 0,e);{const r=function l3(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(e),i=n.retrieve(t,r);if(qy(i)){if(r.optional)return null;throw i}return i}}function he(t,e=0){return(iN()||u3)(fe(t),e)}function x(t,e){return he(t,Yu(e))}function Yu(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ev(t){const e=[];for(let n=0;n<t.length;n++){const r=fe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],c=d3(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(he(i,o))}else e.push(he(r))}return e}function Ju(t,e){return t[vv]=e,t.prototype[vv]=e,t}function d3(t){return t[vv]}function ns(t,e){return t.hasOwnProperty(es)?t[es]:null}function ba(t,e){t.forEach(n=>Array.isArray(n)?ba(n,e):e(n))}function aN(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Mr={},We=[],ur=new $(""),lN=new $("",-1),Tv=new $("");class xf{get(e,n=ts){if(n===ts){const i=rN("",-201);throw i.name="\u0275NotFound",i}return n}}function kr(t){return t[eN]||null}function Pe(t){return t[pv]||null}function Tn(t){return t[t3]||null}function vr(t){return t[n3]||null}function ii(t){return{\u0275providers:t}}function g3(...t){return{\u0275providers:bv(0,t),\u0275fromNgModule:!0}}function bv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ba(e,s=>{const a=s;Of(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&dN(i,o),n}function dN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Cv(i,o=>{e(o,r)})}}function Of(t,e,n,r){if(!(t=fe(t)))return!1;let i=null,o=Rf(t);const s=!o&&Pe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Rf(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Of(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ba(o.imports,d=>{Of(d,e,n,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&dN(u,e)}if(!a){const u=ns(i)||(()=>new i);e({provide:i,useFactory:u,deps:We},i),e({provide:Tv,useValue:i,multi:!0},i),e({provide:ur,useValue:()=>he(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;Cv(c,d=>{e(d,u)})}}}return i!==t&&void 0!==t.providers}function Cv(t,e){for(let n of t)fv(n)&&(n=n.\u0275providers),Array.isArray(n)?Cv(n,e):e(n)}const m3=De({provide:String,useValue:De});function Av(t){return null!==t&&"object"==typeof t&&m3 in t}function oi(t){return"function"==typeof t}const Sv=new $(""),Vf={},gN={};let Rv;function Dv(){return void 0===Rv&&(Rv=new xf),Rv}class Gt{}class rs extends Gt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Nv(e,s=>this.processProvider(s)),this.records.set(lN,Aa(void 0,this)),i.has("environment")&&this.records.set(Gt,Aa(void 0,this));const o=this.records.get(Sv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tv,We,{self:!0}))}retrieve(e,n){const r=Yu(n)||0;try{return this.get(e,ts,r)}catch(i){if(qy(i))return i;throw i}}destroy(){Zu(this),this._destroyed=!0;const e=se(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return Zu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Zu(this);const n=ri(this),r=xn(void 0);try{return e()}finally{ri(n),xn(r)}}get(e,n=ts,r){if(Zu(this),e.hasOwnProperty(tN))return e[tN](this);const i=Yu(r),s=ri(this),a=xn(void 0);try{if(!(4&i)){let u=this.records.get(e);if(void 0===u){const d=function I3(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(e)&&Sf(e);u=d&&this.injectableDefInScope(d)?Aa(Pv(e),Vf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u,i)}return(2&i?Dv():this.parent).get(e,n=8&i&&n===ts?null:n)}catch(c){const u=function s3(t){return t[gv]}(c);throw-200===u||-201===u?new L(u,null):c}finally{xn(a),ri(s)}}resolveInjectorInitializers(){const e=se(null),n=ri(this),r=xn(void 0);try{const o=this.get(ur,We,{self:!0});for(const s of o)s()}finally{ri(n),xn(r),se(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(kn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=oi(e=fe(e))?e:fe(e&&e.provide);const r=function y3(t){return Av(t)?Aa(void 0,t.useValue):Aa(function mN(t,e,n){let r;if(oi(t)){const i=fe(t);return ns(i)||Pv(i)}if(Av(t))r=()=>fe(t.useValue);else if(function fN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ev(t.deps||[]));else if(function hN(t){return!(!t||!t.useExisting)}(t))r=(i,o)=>he(fe(t.useExisting),void 0!==o&&8&o?8:void 0);else{const i=fe(t&&(t.useClass||t.provide));if(!function v3(t){return!!t.deps}(t))return ns(i)||Pv(i);r=()=>new i(...Ev(t.deps))}return r}(t),Vf)}(e);if(!oi(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Aa(void 0,Vf,!0),i.factory=()=>Ev(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){const i=se(null);try{if(n.value===gN)throw mv(kn(e));return n.value===Vf&&(n.value=gN,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function E3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=fe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Pv(t){const e=Sf(t),n=null!==e?e.factory:ns(t);if(null!==n)return n;if(t instanceof $)throw new L(204,!1);if(t instanceof Function)return function _3(t){if(t.length>0)throw new L(204,!1);const n=function YW(t){return(t?.[Df]??null)||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new L(204,!1)}function Zu(t){if(t.destroyed)throw new L(205,!1)}function Aa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Nv(t,e){for(const n of t)Array.isArray(n)?Nv(n,e):n&&fv(n)?Nv(n.\u0275providers,e):e(n)}function rn(t,e){let n;t instanceof rs?(Zu(t),n=t):n=new c3(t);const i=ri(n),o=xn(void 0);try{return e()}finally{ri(i),xn(o)}}function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function sn(t){return Array.isArray(t)&&!0===t[1]}function yN(t){return!!(4&t.flags)}function xr(t){return t.componentOffset>-1}function Na(t){return!(1&~t.flags)}function Yn(t){return!!t.template}function Wi(t){return!!(512&t[2])}function ai(t){return!(256&~t[2])}function bt(t){for(;Array.isArray(t);)t=t[0];return t}function vt(t,e){return bt(e[t.index])}function ka(t,e){return t.data[e]}function wn(t,e){const n=e[t];return lt(n)?n:n[0]}function Vv(t){return!(128&~t[2])}function an(t,e){return null==e?null:t[e]}function bN(t){t[17]=0}function CN(t){1024&t[2]||(t[2]|=1024,Vv(t)&&xa(t))}function jf(t){return!!(9216&t[2]||t[24]?.dirty)}function Lv(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),jf(t)&&xa(t)}function xa(t){t[10].changeDetectionScheduler?.notify(0);let e=ci(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,Vv(e));)e=ci(e)}function Bf(t,e){if(ai(t))throw new L(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function ci(t){const e=t[3];return sn(e)?e[3]:e}const ce={lFrame:$N(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let jv=!1;function $v(){return null!==ce.skipHydrationRootTNode}function F(){return ce.lFrame.lView}function pe(){return ce.lFrame.tView}function $f(t){return ce.lFrame.contextLView=t,t[8]}function Hf(t){return ce.lFrame.contextLView=null,t}function le(){let t=MN();for(;null!==t&&64===t.type;)t=t.parent;return t}function MN(){return ce.lFrame.currentTNode}function ui(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function kN(){return ce.lFrame.isParent}function LN(){return jv}function zf(t){const e=jv;return jv=t,e}function Vn(){return ce.lFrame.bindingIndex++}function O3(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hv(e)}function Hv(t){ce.lFrame.currentDirectiveIndex=t}function Gf(t){ce.lFrame.currentQueryIndex=t}function L3(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function jN(t,e,n){if(4&n){let i=e,o=t;for(;!(i=i.parent,null!==i||1&n||(i=L3(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ce.lFrame=BN();return r.currentTNode=e,r.lView=t,!0}function qv(t){const e=BN(),n=t[1];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BN(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?$N(t):e}function $N(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function HN(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zN=HN;function Wv(){const t=HN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qt(){return ce.lFrame.selectedIndex}function as(t){ce.lFrame.selectedIndex=t}function Ir(){const t=ce.lFrame;return ka(t.tView,t.selectedIndex)}function GN(){return ce.lFrame.currentNamespace}let qN=!0;function qf(){return qN}function hi(t){qN=t}function WN(t,e=null,n=null,r){const i=KN(t,e,n,r);return i.resolveInjectorInitializers(),i}function KN(t,e=null,n=null,r,i=new Set){const o=[n||We,g3(t)];return r=r||("object"==typeof t?void 0:kn(t)),new rs(o,e||Dv(),r||null,i)}class cn{static THROW_IF_NOT_FOUND=ts;static NULL=new xf;static create(e,n){if(Array.isArray(e))return WN({name:""},n,e,"");{const r=e.name??"";return WN({name:r},e.parent,e.providers,r)}}static \u0275prov=Z({token:cn,providedIn:"any",factory:()=>he(lN)});static __NG_ELEMENT_ID__=-1}const hr=new $("");let Jn=(()=>class t{static __NG_ELEMENT_ID__=H3;static __NG_ENV_ID__=n=>n})();class QN extends Jn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ai(this._lView)}onDestroy(e){const n=this._lView;return Bf(n,e),()=>function Fv(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e)}}function H3(){return new QN(F())}class Va{_console=console;handleError(e){this._console.error("ERROR",e)}}const Or=new $("",{providedIn:"root",factory:()=>{const t=x(Gt);let e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Va),e.handleError(n))}}}),YN={provide:ur,useValue:()=>{x(Va)},multi:!0},z3=new $("",{providedIn:"root",factory:()=>{const t=x(hr).defaultView;if(!t)return;const e=x(Or),n=o=>{e(o.reason),o.preventDefault()},r=o=>{e(o.error?o.error:new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),x(Jn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Lt(t,e){const[n,r,i]=bW(t,e?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=Kv.bind(o),o}function Kv(){const t=this[xt];if(void 0===t.readonlyFn){const e=()=>this();e[xt]=t,t.readonlyFn=e}return t.readonlyFn}class Ki{}const Wf=new $("",{providedIn:"root",factory:()=>!1}),ZN=new $(""),Qv=new $("");let Yv=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=q3})();function q3(){return new Yv(F(),le())}let Qi=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ar(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ge(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})(),rl=(()=>{class t{internalPendingTasks=x(Qi);scheduler=x(Ki);errorHandler=x(Or);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();function il(...t){}let eM=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new W3})}return t})();class W3{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)e||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let tM=null;function Yi(){return tM}class Q3{}let nM=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(Y3),providedIn:"platform"})}return t})(),Y3=(()=>{class t extends nM{_location;_history;_doc=x(hr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yi().getBaseHref(this._doc)}onPopState(n){const r=Yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function rM(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function iM(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function cs(t){return t&&"?"!==t[0]?`?${t}`:t}let Kf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(X3),providedIn:"root"})}return t})();const J3=new $("");let X3=(()=>{class t extends Kf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rM(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+cs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+cs(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+cs(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(he(nM),he(J3,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ol=(()=>{class t{_subject=new Nn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function t6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(iM(oM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cs(r))}normalize(n){return t.stripTrailingSlash(function e6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,oM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cs;static joinWithSlash=rM;static stripTrailingSlash=iM;static \u0275fac=function(r){return new(r||t)(he(Kf))};static \u0275prov=Z({token:t,factory:()=>function Z3(){return new ol(he(Kf))}(),providedIn:"root"})}return t})();function oM(t){return t.replace(/\/index.html$/,"")}function sM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class aM{}function vM(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){vM(o,r,i,s,a,"next",c)}function a(c){vM(o,r,i,s,a,"throw",c)}s(void 0)})}}function EM(t){return Qe(t?.lift)}function Wt(t){return e=>{if(EM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(t,e,n,r,i){return new N6(t,e,n,r,i)}class N6 extends iv{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return Wt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>{r.next(t.call(e,o,i++))}))})}function fi(t){return{toString:t}.toString()}const Fa="__parameters__";function ja(t,e,n){return fi(()=>{const r=function eE(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,d){const h=c.hasOwnProperty(Fa)?c[Fa]:Object.defineProperty(c,Fa,{value:[]})[Fa];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Tr=Ju(ja("Optional"),8);class H6{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bM(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const pi=(()=>{const t=()=>CM;return t.ngInherit=!0,t})();function CM(t){return t.type.prototype.ngOnChanges&&(t.setInput=G6),z6}function z6(){const t=SM(this),e=t?.current;if(e){const n=t.previous;if(n===Mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function G6(t,e,n,r,i){const o=this.declaredInputs[r],s=SM(t)||function q6(t,e){return t[AM]=e}(t,{previous:Mr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new H6(u&&u.currentValue,n,c===Mr),bM(t,e,i,n)}const AM="__ngSimpleChanges__";function SM(t){return t[AM]||null}const us=[],Ne=function(t,e=null,n){for(let r=0;r<us.length;r++)(0,us[r])(t,e,n)};function Zf(t,e,n){DM(t,e,3,n)}function ep(t,e,n,r){(3&t[2])===n&&DM(t,e,n,r)}function nE(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function DM(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[17]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[17]+=65536),(a<o||-1==o)&&(J6(t,n,e,c),t[17]=(4294901760&t[17])+c+2),c++}function PM(t,e){Ne(4,t,e);const n=se(null);try{e.call(t)}finally{se(n),Ne(5,t,e)}}function J6(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,PM(a,o)):PM(a,o)}class ll{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}}function MM(t){return 3===t||4===t||6===t}function kM(t){return 64===t.charCodeAt(0)}function $a(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xM(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function xM(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function iE(t){return-1!==t}function dl(t){return 32767&t}function hl(t,e){let n=function t5(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let oE=!0;function tp(t){const e=oE;return oE=t,e}let n5=0;const Vr={};function np(t,e){const n=LM(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,sE(r.data,t),sE(e,null),sE(r.blueprint,null));const i=rp(t,e),o=t.injectorIndex;if(iE(i)){const s=dl(i),a=hl(i,e),c=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function sE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=zM(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function aE(t,e,n){!function r5(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ku)&&(r=n[Ku]),null==r&&(r=n[Ku]=n5++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function FM(t,e,n){if(8&n||void 0!==t)return t;_v()}function UM(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=t[9],o=xn(void 0);try{return i?i.get(e,r,8&n):oN(e,r,8&n)}finally{xn(o)}}return FM(r,0,n)}function jM(t,e,n,r=0,i){if(null!==t){if(2048&e[2]&&!(2&r)){const s=function c5(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!Wi(s);){const a=BM(o,s,n,2|r,Vr);if(a!==Vr)return a;let c=o.parent;if(!c){const u=s[20];if(u){const d=u.get(n,Vr,r);if(d!==Vr)return d}c=zM(s),s=s[14]}o=c}return i}(t,e,n,r,Vr);if(s!==Vr)return s}const o=BM(t,e,n,r,Vr);if(o!==Vr)return o}return UM(e,n,r,i)}function BM(t,e,n,r,i){const o=function s5(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ku)?t[Ku]:void 0;return"number"==typeof e?e>=0?255&e:a5:e}(n);if("function"==typeof o){if(!jN(e,t,r))return 1&r?FM(i,0,r):UM(e,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;_v()}finally{zN()}}else if("number"==typeof o){let s=null,a=LM(t,e),c=-1,u=1&r?e[15][5]:null;for((-1===a||4&r)&&(c=-1===a?rp(t,e):e[a+8],-1!==c&&HM(r,!1)?(s=e[1],a=dl(c),e=hl(c,e)):a=-1);-1!==a;){const d=e[1];if($M(o,a,d.data)){const h=o5(a,e,n,s,r,u);if(h!==Vr)return h}c=e[a+8],-1!==c&&HM(r,e[1].data[a+8]===u)&&$M(o,a,e)?(s=d,a=dl(c),e=hl(c,e)):a=-1}}return i}function o5(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],d=function ip(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,d=o>>20,f=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<f;g++){const _=s[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(i){const g=s[c];if(g&&Yn(g)&&g.type===n)return c}return null}(a,s,n,null==r?xr(a)&&oE:r!=s&&!!(3&a.type),1&i&&o===a);return null!==d?fl(e,s,d,a,i):Vr}function fl(t,e,n,r,i){let o=t[n];const s=e.data;if(o instanceof ll){const a=o;if(a.resolving)throw function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(s[n]),mv();const c=tp(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?xn(a.injectImpl):null;jN(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Y6(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=CM(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,s[n],e)}finally{null!==h&&xn(h),tp(c),a.resolving=!1,zN()}}return o}function $M(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function HM(t,e){return!(2&t||1&t&&e)}class pt{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jM(this._tNode,this._lView,e,Yu(r),n)}}function a5(){return new pt(le(),F())}function Ft(t){return fi(()=>{const e=t.prototype.constructor,n=e[es]||cE(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[es]||cE(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cE(t){return Af(t)?()=>{const e=cE(fe(t));return e&&e()}:ns(t)}function zM(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function op(t){return function i5(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(MM(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(le(),t)}function m5(){return Ha(le(),F())}function Ha(t,e){return new wr(vt(t,e))}let wr=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=m5})();function lE(t){const e=t.mergedAttrs;if(null===e)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if("number"==typeof r)return!1;if("string"==typeof r&&"ngskiphydration"===r.toLowerCase())return!0}return!1}function YM(t){return t.hasAttribute("ngSkipHydration")}function pl(t){return!(128&~t.flags)}Symbol;var ap=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ap||{});const cp=new Map;let I5=0;function dE(t){cp.delete(t[19])}const fE="__ngContext__";function Fn(t,e){lt(e)?(t[fE]=e[19],function w5(t){cp.set(t[19],t)}(e)):t[fE]=e}function a0(t){return u0(t[12])}function c0(t){return u0(t[4])}function u0(t){for(;null!==t&&!sn(t);)t=t[4];return t}let pE;function Lr(){if(void 0!==pE)return pE;if(typeof document<"u")return document;throw new L(210,!1)}const gi=new $("",{providedIn:"root",factory:()=>G5}),G5="ng",m0=new $(""),ml=new $("",{providedIn:"platform",factory:()=>"unknown"}),_0=new $("",{providedIn:"root",factory:()=>Lr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function K5(){const t=new Xi;return t.store=function y0(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Lr(),x(gi)),t}let Xi=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:K5});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const lp=new $(""),R0=new $("",{providedIn:"root",factory:()=>!1}),D0=new $(""),t9=new $(""),vE=new $("",{providedIn:"root",factory:()=>new Map}),_l="ngb",k0=t=>{t.removeAttribute("jsaction"),t.removeAttribute(_l),t.__jsaction_fns=void 0},s9=new $("",{providedIn:"root",factory:()=>({})});function x0(t,e){const n=e?.__jsaction_fns?.get(t.type);if(n&&e?.isConnected)for(const r of n)r(t)}const bE=new Map;let O0=!1,V0=(t,e,n,r)=>{};const Zi=new $("");function pp(t){return!(32&~t.flags)}const F0="__nghData__";let j0=()=>null;function h9(t,e,n=!1){let r=t.getAttribute("ngh");if(null==r)return null;const[i,o]=r.split("|");if(r=n?o:i,!r)return null;const a=n?i:o?`|${o}`:"";let c={};if(""!==r){const d=e.get(Xi,null,{optional:!0});null!==d&&(c=d.get(F0,[])[Number(r)])}const u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,mp(u,0,t.nextSibling)),a?t.setAttribute("ngh",a):t.removeAttribute("ngh"),u}function B0(t,e,n=!1){return j0(t,e,n)}function p9(t){let e=t._lView;return 2===e[1].type?null:(Wi(e)&&(e=e[27]),e)}function mp(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function SE(t,e){return t.segmentHeads?.[e]??null}function z0(t,e){return t.data.c?.[e]??null}function RE(t,e){const n=z0(t,e)??[];let r=0;for(let i of n)r+=i.r*(i.x??1);return r}function yp(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data.d;t.disconnectedNodes=n?new Set(n):null}return!!function G0(t){if(typeof t.disconnectedNodes>"u"){const e=t.data.d;t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}(t)?.has(e)}function vp(t,e){const n=t[6];return null!==n&&!$v()&&!pp(e)&&!yp(n,e.index-27)}function PE(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()}function W0(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function K0(t,e){const n=t.contentQueries;if(null!==n){const r=se(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Gf(n[i]),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function NE(t,e,n){Gf(0);const r=se(null);try{e(t,n)}finally{se(r)}}function ME(t,e,n){if(yN(e)){const r=se(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{se(r)}}}var mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mi||{});let Ip;function X0(t){return function kE(){if(void 0===Ip&&(Ip=null,ht.trustedTypes))try{Ip=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ip}()?.createScriptURL(t)||t}class Z0{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZP})`}}function eo(t){return t instanceof Z0?t.changingThisBreaksApplicationSecurity:t}function El(t,e){const n=function O9(t){return t instanceof Z0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZP})`)}return n===e}const U9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ka||{});function ck(t){const e=Tl();return e?e.sanitize(Ka.URL,t)||"":El(t,"URL")?eo(t):function xE(t){return(t=String(t)).match(U9)?t:"unsafe:"+t}(de(t))}function uk(t){const e=Tl();if(e)return X0(e.sanitize(Ka.RESOURCE_URL,t)||"");if(El(t,"ResourceURL"))return X0(eo(t));throw new L(904,!1)}function lk(t,e,n){return function e8(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?uk:ck}(e,n)(t)}function Tl(){const t=F();return t&&t[10].sanitizer}const t8=/^>|^->|<!--|-->|--!>|<!-$/g,n8=/(<|>)/g;function Fr(t){return t instanceof Function?t():t}function g8(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const vk="ng-template";function m8(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==g8(e[i+1].toLowerCase(),n,0))return!0}else if(jE(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function jE(t){return 4===t.type&&t.value!==vk}function _8(t,e,n){return e===(4!==t.type||n?t.value:vk)}function y8(t,e,n){let r=4;const i=t.attrs,o=null!==i?function I8(t){for(let e=0;e<t.length;e++)if(MM(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!_8(t,c,n)||""===c&&1===e.length){if(br(r))return!1;s=!0}}else if(8&r){if(null===i||!m8(t,i,c,n)){if(br(r))return!1;s=!0}}else{const u=e[++a],d=v8(c,i,jE(t),n);if(-1===d){if(br(r))return!1;s=!0;continue}if(""!==u){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&u!==h){if(br(r))return!1;s=!0}}}}else{if(!s&&!br(r)&&!br(c))return!1;if(s&&br(c))continue;s=!1,r=c|1&r}}return br(r)||s}function br(t){return!(1&t)}function v8(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function T8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ek(t,e,n=!1){for(let r=0;r<e.length;r++)if(y8(t,e[r],n))return!0;return!1}function Ik(t,e){return t?":not("+e.trim()+")":e}function b8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!br(s)&&(e+=Ik(o,i),i=""),r=s,o=o||!br(r);n++}return""!==i&&(e+=Ik(o,i)),e}const Me={};function BE(t,e){return t.createText(e)}function $E(t,e){return t.createComment(function dk(t){return t.replace(t8,e=>e.replace(n8,"\u200b$1\u200b"))}(e))}function Cp(t,e,n){return t.createElement(e,n)}function ds(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wk(t,e,n){t.appendChild(e,n)}function bk(t,e,n,r,i){null!==r?ds(t,e,n,r,i):wk(t,e,n)}function wl(t,e,n){t.removeChild(null,e,n)}function Ck(t){t.textContent=""}function Ak(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function e5(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];kM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function R8(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function S8(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function HE(t,e,n,r,i,o,s,a,c,u,d){const h=27+r,f=h+i,g=function D8(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Me);return n}(h,f),_="function"==typeof u?u():u;return g[1]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function Ap(t,e,n,r,i,o,s,a,c,u,d){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==u||t&&2048&t[2])&&(h[2]|=2048),bN(h),h[3]=h[14]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[9]=c||t&&t[9]||null,h[5]=o,h[19]=function T5(){return I5++}(),h[6]=d,h[20]=u,h[15]=2==e.type?t[15]:h,h}function zE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function bl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GE(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function Ut(t=1){Rk(pe(),F(),qt()+t,!1)}function Rk(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&ep(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Zf(e,o,n)}as(n)}var Sp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Sp||{});function Cl(t,e,n,r){const i=se(null);try{const[o,s,a]=t.inputs[n];let c=null;0!==(s&Sp.SignalBased)&&(c=e[o][xt]),null!==c&&void 0!==c.transformFn?r=c.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,c,r,n,o):bM(e,c,o,r)}finally{se(i)}}var hs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(hs||{});function WE(t,e){return undefined(t,e)}const Dp=new Set;function Ja(t,e,n,r,i,o){if(null!=r){let s,a=!1;sn(r)?s=r:lt(r)&&(a=!0,r=r[0]);const c=bt(r);0===t&&null!==n?null==i?wk(e,n,c):ds(e,n,c,i||null,!0):1===t&&null!==n?ds(e,n,c,i||null,!0):2===t?xk(o,()=>{wl(e,c,a)}):3===t&&xk(o,()=>{e.destroyNode(c)}),null!=s&&function $8(t,e,n,r,i){const o=n[7];o!==bt(n)&&Ja(e,t,r,o,i);for(let a=10;a<n.length;a++){const c=n[a];Np(c[1],c,t,e,r,o)}}(e,t,s,n,i)}}function kk(t,e){e[10].changeDetectionScheduler?.notify(9),Np(t,e,e[11],2,null,null)}function KE(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function Al(t,e){if(ai(e))return;const n=e[11];n.destroyNode&&Np(t,e,n,3,null,null),function L8(t){let e=t[12];if(!e)return QE(t[1],t);for(;e;){let n=null;if(lt(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&QE(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&QE(e[1],e),n=e&&e[4]}e=n}}(e)}function QE(t,e){if(ai(e))return;const n=se(null);try{e[2]&=-129,e[2]|=256,e[24]&&Hu(e[24]),function j8(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ll)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Ne(4,a,c);try{c.call(a)}finally{Ne(5,a,c)}}else{Ne(4,i,o);try{o.call(i)}finally{Ne(5,i,o)}}}}}(t,e),function U8(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&sn(e[3])){r!==e[3]&&KE(r,e);const i=e[18];null!==i&&i.detachView(t)}dE(e)}finally{se(n)}}function xk(t,e){if(t&&t[26]&&t[26].leave)if(t[26].skipLeaveAnimations)t[26].skipLeaveAnimations=!1;else{const n=t[26].leave,r=[];for(let i=0;i<n.length;i++)r.push((0,n[i])());t[26].running=Promise.allSettled(r),t[26].leave=void 0}!function F8(t,e){t&&t[26]&&t[26].running?t[26].running.then(()=>{t[26]&&t[26].running&&(t[26].running=void 0),Dp.delete(t),e()}):e()}(t,e)}function YE(t,e,n){return function Ok(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(xr(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===mi.None||i===mi.Emulated)return null}return vt(r,n)}(t,e.parent,n)}let Fk=function Lk(t,e,n){return 40&t.type?vt(t,n):null};function XE(t,e,n,r){const i=YE(t,r,e),o=e[11],a=function Vk(t,e,n){return Fk(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)bk(o,i,n[c],a,!1);else bk(o,i,n,a,!1)}function fs(t,e){if(null!==e){const n=e.type;if(3&n)return vt(e,t);if(4&n)return Pp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fs(t,r);{const i=t[e.index];return sn(i)?Pp(-1,i):bt(i)}}if(128&n)return fs(t,e.next);if(32&n)return WE(e,t)()||bt(t[e.index]);{const r=jk(t,e);return null!==r?Array.isArray(r)?r[0]:fs(ci(t[15]),r):fs(t,e.next)}}return null}function jk(t,e){return null!==e?t[15][5].projection[e.projection]:null}function Pp(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return fs(r,i)}return e[7]}function ZE(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Fn(bt(a),r),n.flags|=2),!pp(n))if(8&c)ZE(t,e,n.child,r,i,o,!1),Ja(e,t,i,a,o,r);else if(32&c){const u=WE(n,r);let d;for(;d=u();)Ja(e,t,i,d,o,r);Ja(e,t,i,a,o,r)}else 16&c?Bk(t,e,r,n,i,o):Ja(e,t,i,a,o,r);n=s?n.projectionNext:n.next}}function Np(t,e,n,r,i,o){ZE(n,r,t.firstChild,e,i,o,!1)}function Bk(t,e,n,r,i,o){const s=n[15],c=s[5].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ja(e,t,i,c[u],o,n);else{let u=c;const d=s[3];pl(r)&&(u.flags|=128),ZE(t,e,u,d,i,o,!0)}}function $k(t,e,n,r,i){const o=qt(),s=2&r;try{as(-1),s&&e.length>27&&Rk(t,e,27,!1),Ne(s?2:0,i,n),n(r,i)}finally{as(o),Ne(s?3:1,i,n)}}function Mp(t,e,n){(function Q8(t,e,n){const r=n.directiveStart,i=n.directiveEnd;xr(n)&&function P8(t,e,n){const r=vt(e,t),i=function Sk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=HE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=GE(t,Ap(t,i,null,zE(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||np(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],c=fl(e,t,s,n);Fn(c,e),null!==o&&Z8(0,s-r,c,a,0,o),Yn(a)&&(wn(n.index,e)[8]=fl(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function Y8(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function V3(){return ce.lFrame.currentDirectiveIndex}();try{as(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Hv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&J8(c,u)}}finally{as(-1),Hv(s)}}(t,e,n)}function Xa(t,e,n=vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let Hk=()=>null;function q8(t){YM(t)?Ck(t):function m9(t){const e=Lr(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function g9(t){return t.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=n.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(t)}function eI(t,e,n,r,i,o){Vp(t,e[1],e,n,r)?xr(t)&&function zk(t,e){const n=wn(e,t);16&n[2]||(n[2]|=64)}(e,t.index):(3&t.type&&(n=function K8(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n)),function tI(t,e,n,r,i,o){if(3&t.type){const s=vt(t,e);r=null!=o?o(r,t.value||"",n):r,i.setProperty(s,n,r)}}(t,e,n,r,i,o))}function J8(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function nI(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];Ek(e,o.selectors,!1)&&(r??=[],Yn(o)?r.unshift(o):r.push(o))}return r}function Z8(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)Cl(r,n,s[a],s[a+1])}function Op(t){let e=t;return kN()?function xN(){ce.lFrame.isParent=!1}():(e=e.parent,ui(e,!1)),e}function rI(t,e){const n=t[9];if(!n)return;let r;try{r=n.get(Or,null)}catch{r=null}r?.(e)}function Vp(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const u=s[c];Cl(e.data[u],n[u],s[c+1],i),a=!0}if(o)for(const c of o)Cl(e.data[c],n[c],r,i),a=!0;return a}function t7(t,e){const n=wn(e,t),r=n[1];!function n7(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=B0(i,n[9])),Ne(18),Lp(r,n,n[8]),Ne(19,n[8])}function Lp(t,e,n){qv(e);try{const r=t.viewQuery;null!==r&&NE(1,r,n);const i=t.template;null!==i&&$k(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&K0(t,e),t.staticViewQueries&&NE(2,t.viewQuery,n);const o=t.components;null!==o&&function r7(t,e){for(let n=0;n<e.length;n++)t7(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Wv()}}function Za(t,e,n,r){const i=se(null);try{const o=e.tView,c=Ap(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=t[e.index];const d=t[18];return null!==d&&(c[18]=d.createEmbeddedView(o)),Lp(o,c,n),c}finally{se(i)}}function ps(t,e){return!e||null===e.firstChild||pl(t)}function Sl(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(bt(o)),sn(o)&&i7(o,r);const s=n.type;if(8&s)Sl(t,e,n.child,r);else if(32&s){const a=WE(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=jk(e,n);if(Array.isArray(a))r.push(...a);else{const c=ci(e[15]);Sl(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function i7(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&Sl(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function Wk(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let Kk=[];const c7={...Ea,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{xa(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},l7={...Ea,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ci(t.lView);for(;e&&!Qk(e[1]);)e=ci(e);e&&CN(e)},consumerOnSignalRead(){this.lView[24]=this}};function Qk(t){return 2!==t.type}function Yk(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function Fp(t,e=0){const r=t[10].rendererFactory;r.begin?.();try{!function h7(t,e){const n=LN();try{zf(!0),iI(t,e);let r=0;for(;jf(t);){if(100===r)throw new L(103,!1);r++,iI(t,1)}}finally{zf(n)}}(t,e)}finally{r.end?.()}}function Jk(t,e,n,r){if(ai(e))return;const i=e[2];qv(e);let a=!0,c=null,u=null;Qk(t)?(u=function o7(t){return t[24]??function s7(t){const e=Kk.pop()??Object.create(c7);return e.lView=t,e}(t)}(e),c=Ia(u)):null===function Yy(){return en}()?(a=!1,u=function u7(t){const e=t[24]??Object.create(l7);return e.lView=t,e}(e),c=Ia(u)):e[24]&&(Hu(e[24]),e[24]=null);try{bN(e),function FN(t){return ce.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$k(t,e,n,2,r),function f7(t){const e=t[26];if(e?.enter){for(const n of e.enter)n();e.enter=void 0}}(e);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Zf(e,g,null)}else{const g=t.preOrderHooks;null!==g&&ep(e,g,0,null),nE(e,0)}if(function p7(t){for(let e=a0(t);null!==e;e=c0(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)CN(n[r])}}(e),Yk(e),Xk(e,0),null!==t.contentQueries&&K0(t,e),d){const g=t.contentCheckHooks;null!==g&&Zf(e,g)}else{const g=t.contentHooks;null!==g&&ep(e,g,1),nE(e,1)}!function m7(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)as(~i);else{const o=i,s=n[++r],a=n[++r];O3(s,o);const c=e[o];Ne(24,c),a(2,c),Ne(25,c)}}}finally{as(-1)}}(t,e);const h=t.components;null!==h&&ex(e,h,0);const f=t.viewQuery;if(null!==f&&NE(2,f,r),d){const g=t.viewCheckHooks;null!==g&&Zf(e,g)}else{const g=t.viewHooks;null!==g&&ep(e,g,2),nE(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const g of e[22])g();e[22]=null}Wk(e),e[2]&=-73}catch(d){throw xa(e),d}finally{null!==u&&($u(u,c),a&&function a7(t){t.lView[24]!==t&&(t.lView=null,Kk.push(t))}(u)),Wv()}}function Xk(t,e){for(let n=a0(t);null!==n;n=c0(n))for(let r=10;r<n.length;r++)Zk(n[r],e)}function g7(t,e,n){Ne(18);const r=wn(e,t);Zk(r,n),Ne(19,r[8])}function Zk(t,e){Vv(t)&&iI(t,e)}function iI(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!vf(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)Jk(r,t,r.template,t[8]);else if(8192&i){const a=se(null);try{Yk(t),Xk(t,1);const c=r.components;null!==c&&ex(t,c,1),Wk(t)}finally{se(a)}}}function ex(t,e,n){for(let r=0;r<e.length;r++)g7(t,e[r],n)}function ec(t,e){const n=LN()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=ci(t);if(Wi(t)&&!r)return t;t=r}return null}function tx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nx(t,e){const n=10+e;if(n<t.length)return t[n]}function tc(t,e,n,r=!0){const i=e[1];if(function _7(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],aN(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&rx(s,e);const a=e[18];null!==a&&a.insertView(t),Lv(e),e[2]|=128}(i,e,t,n),r){const s=Pp(n,t),a=e[11],c=a.parentNode(t[7]);null!==c&&function V8(t,e,n,r,i,o){r[0]=i,r[5]=e,Np(t,r,n,1,i,o)}(i,t[5],a,e,c,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function oI(t,e){const n=Rl(t,e);return void 0!==n&&Al(n[1],n),n}function Rl(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&KE(i,r),e>0&&(t[n-1][4]=r[4]);const o=Nf(t,10+e);!function Mk(t,e){kk(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function rx(t,e){const n=t[9],r=e[3];(lt(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}class Dl{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const e=this._lView,n=e[1];return Sl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return ai(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(sn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Rl(e,r),Nf(n,r))}this._attachedToViewContainer=!1}Al(this._lView[1],this._lView)}onDestroy(e){Bf(this._lView,e)}markForCheck(){ec(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Lv(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Fp(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Wi(this._lView),n=this._lView[16];null!==n&&!e&&KE(n,this._lView),kk(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;const n=Wi(this._lView),r=this._lView[16];null!==r&&!n&&rx(r,this._lView),Lv(this._lView)}}function gs(t,e,n,r,i){let o=t.data[e];if(null===o)o=function uI(t,e,n,r,i){const o=MN(),s=kN(),c=t.data[e]=function S7(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $v()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function A7(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,c,o,s),c}(t,e,n,r,i),function x3(){return ce.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function nl(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ui(o,!0),o}const L7=new RegExp("^(\\d+)*(b|h)*(.*)");function dI(t){return t.index-27}function xl(t,e,n,r){const i=dI(r);let o=function gx(t,e){const n=t.i18nNodes;if(n)return n.get(e)}(t,i);if(void 0===o){const s=t.data.n;if(s?.[i])o=function mx(t,e){const[n,...r]=function U7(t){const e=t.match(L7),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(u,h)}return[s,...a]}(t);let i;i="h"===n?e[15][0]:"b"===n?function gk(t){return t.ownerDocument.body}(e[15][0]):bt(e[Number(n)+27]);return function H7(t,e){let n=t;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case"f":n=n.firstChild;break;case"n":n=n.nextSibling}}return n}(i,r)}(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function j7(t){return!t.prev&&8===t.parent?.type}(r))o=SE(t,dI(r.parent));else{let u=vt(c,n);if(a)o=u.firstChild;else{const d=dI(c),h=SE(t,d);o=2===c.type&&h?zp(RE(t,d)+1,h):u.nextSibling}}}}return o}function zp(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}let yx=!1;function nK(t,e,n){for(const r of n.node.cases[n.case]){const i=e.get(r.index-27);i&&wl(t,i,!1)}}function Gp(t){const e=t[6]??[],r=t[3][11],i=[];for(const o of e)void 0!==o.data.di?i.push(o):Tx(o,r);t[6]=i}function rK(t){const{lContainer:e}=t,n=e[6];if(null===n)return;const i=e[3][11];for(const o of n)Tx(o,i)}function Tx(t,e){let n=0,r=t.firstChild;if(r){const i=t.data.r;for(;n<i;){const o=r.nextSibling;wl(e,r,!1),r=o,n++}}}function qp(t){Gp(t);const e=t[0];lt(e)&&Wp(e);for(let n=10;n<t.length;n++)Wp(t[n])}function Wp(t){!function tK(t){const e=t[6];if(e){const{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){const i=t[11];for(const o of r.values())nK(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(t);const e=t[1];for(let n=27;n<e.bindingStartIndex;n++)sn(t[n])?qp(t[n]):lt(t[n])&&Wp(t[n])}function wx(t){const e=t._views;for(const n of e){const r=p9(n);null!==r&&null!==r[0]&&(lt(r)?Wp(r):qp(r))}}let bx=()=>null,Cx=()=>null;function aK(t,e){return Sx(t,e)?t[6].shift():(Gp(t),null)}function Vl(t,e){return bx(t,e)}function cK(t,e,n){if(null===e.tView.ssrId)return null;const r=Vl(t,e.tView.ssrId);return n[1].firstUpdatePass&&null===r&&function uK(t,e){let n=e;for(;n;){if(Rx(t,n))return;if(!(256&~n.flags))break;n=n.prev}for(n=e.next;n&&!(512&~n.flags);){if(Rx(t,n))return;n=n.next}}(n,e),r}function Ax(t,e,n){return Cx(t,e,n)}function Sx(t,e){const n=t[6];return!(!e||null===n||0===n.length)&&n[0].data.i===e}function Rx(t,e){const n=e.tView?.ssrId;if(null==n)return!1;const r=t[e.index];return!(!sn(r)||!Sx(r,n)||(Gp(r),0))}let lK=class{},Dx=class{};class dK{resolveComponentFactory(e){throw new L(917,!1)}}let Kp=class{static NULL=new dK};class mI{}let _s=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function hK(){const t=F(),n=wn(le().index,t);return(lt(n)?n:t)[11]}()})(),fK=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();const yI={};class rc{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,yI,r);return i!==yI||n===yI?i:this.parentInjector.get(e,n,r)}}function Yp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=lv(i,a):2==o&&(r=lv(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function J(t,e=0){const n=F();return null===n?he(t,e):jM(le(),n,fe(t),e)}function vK(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Mx(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),xx(e,o)}}function kx(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),xx(e,s)}}function xx(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function Ox(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||jE(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!n&&i.hasOwnProperty(c)){const u=i[c];for(const d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){const u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function TK(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ns(i.type)),s=new ll(o,Yn(i),J,null);t.blueprint[r]=s,n[r]=s,function wK(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function bK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,bl(t,n,i.hostVars,Me),i)}function CK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function vI(t,e,n,r,i,o,s,a){const c=e[1],u=c.consts,h=gs(c,t,n,r,an(u,s));return o&&function Nx(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a=s,c=null,u=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,c,u]=d.resolveHostDirectives(s);break}!function EK(t,e,n,r,i,o,s){const a=r.length;let c=!1;for(let f=0;f<a;f++){const g=r[f];!c&&Yn(g)&&(c=!0,vK(t,n,f)),aE(np(n,e),t,g.type)}!function AK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let f=0;f<a;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,h=bl(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){const g=r[f];if(n.mergedAttrs=$a(n.mergedAttrs,g.hostAttrs),TK(t,n,e,h,g),CK(h,g,i),null!==s&&s.has(g)){const[v,E]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,E+n.directiveStart])}else(null===o||!o.has(g))&&n.directiveToIndex.set(g.type,h);null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!u&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function IK(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);kx(0,e,o,r),kx(1,e,o,r),Ox(e,r,!0)}else Mx(0,e,i,r),Mx(1,e,i,r),Ox(e,r,!1)}}(t,n,o)}(t,e,n,a,o,c,u)}null!==o&&null!==r&&function yK(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new L(-301,!1);r.push(e[i],o)}}(n,r,o)}(c,e,h,an(u,a),i),h.mergedAttrs=$a(h.mergedAttrs,h.attrs),null!==h.attrs&&Yp(h,h.attrs,!1),null!==h.mergedAttrs&&Yp(h,h.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,h),h}function EI(t,e){(function RM(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=d&&(t.destroyHooks??=[]).push(n,d)}})(t,e),yN(e)&&t.queries.elementEnd(e)}function Je(t,e,n){return n!==Me&&(!Object.is(t[e],n)&&(t[e]=n,!0))}function jl(t,e,n){return function r(i){ec(xr(t)?wn(t.index,e):e,5);const s=e[8];let a=Lx(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Lx(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Lx(t,e,n,r){const i=se(null);try{return Ne(6,e,n),!1!==n(r)}catch(o){return rI(t,o),!1}finally{Ne(7,e,n),se(i)}}function Ux(t,e,n,r,i,o,s){const a=e.firstCreatePass?function RN(t){return t.cleanup??=[]}(e):null,c=function SN(t){return t[7]??=[]}(n),u=c.length;c.push(i,o),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function Zp(t,e,n,r,i,o){const a=e[1],h=e[n][a.data[n].outputs[r]].subscribe(o);Ux(t.index,a,e,i,o,h,!0)}const no=Symbol("BINDING");class jx extends Kp{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new TI(n,this.ngModule)}}class TI extends Dx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function UK(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:0!==(r&Sp.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jK(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function C8(t){return t.map(b8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ne(22);const a=se(null);try{const c=this.componentDef,u=function GK(t,e,n,r){const i=t?["ng-version","20.3.1"]:function A8(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!br(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(e.selectors[0]);let o=null,s=null,a=0;if(n)for(const d of n)a+=d[no].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const f of h.bindings){a+=f[no].requiredVars;const g=d+1;f.create&&(f.targetIdx=g,(o??=[]).push(f)),f.update&&(f.targetIdx=g,(s??=[]).push(f))}}const c=[e];if(r)for(const d of r){const f=Tn("function"==typeof d?d:d.type);c.push(f)}return HE(0,null,function qK(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update()}:null}(o,s),1,a,c,null,null,null,[i],null)}(r,c,s,o),d=function BK(t,e,n){let r=e instanceof Gt?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new rc(n,r):n}(c,i||this.ngModule,e),h=function $K(t){const e=t.get(mI,null);if(null===e)throw new L(407,!1);return{rendererFactory:e,sanitizer:t.get(fK,null),changeDetectionScheduler:t.get(Ki,null),ngReflect:!1}}(d),f=h.rendererFactory.createRenderer(null,c),g=r?function z8(t,e,n,r){const o=r.get(R0,!1)||n===mi.ShadowDom,s=t.selectRootElement(e,o);return function G8(t){Hk(t)}(s),s}(f,r,c.encapsulation,d):function HK(t,e){const n=function zK(t){return(t.selectors[0][0]||"div").toLowerCase()}(t);return Cp(e,n,"svg"===n?"svg":"math"===n?"math":null)}(c,f),_=s?.some(Bx)||o?.some(w=>"function"!=typeof w&&w.bindings.some(Bx)),v=Ap(null,u,null,512|zE(c),null,null,h,f,d,null,B0(g,d,!0));v[27]=g,qv(v);let E=null;try{const w=vI(27,v,2,"#host",()=>u.directiveRegistry,!0,0);g&&(Ak(f,g,w),Fn(g,v)),Mp(u,v,w),ME(u,w,v),EI(u,w),void 0!==n&&function KK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(w,this.ngContentSelectors,n),E=wn(w.index,v),v[8]=E[8],Lp(u,v,null)}catch(w){throw null!==E&&dE(E),dE(v),w}finally{Ne(23),Wv()}return new WK(this.componentType,v,!!_)}finally{se(a)}}}function Bx(t){const e=t[no].kind;return"input"===e||"twoWay"===e}class WK extends lK{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ka(n[1],27),this.location=Ha(this._tNode,n),this.instance=wn(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Dl(n,void 0),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;Vp(r,i[1],i,e,n),this.previousInputValues.set(e,n),ec(wn(r.index,i),1)}get injector(){return new pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let eg=(()=>class t{static __NG_ELEMENT_ID__=QK})();function QK(){return function zx(t,e){let n;const r=e[t.index];return sn(r)?n=r:(n=tx(r,e,null,t),e[t.index]=n,GE(e,n)),Gx(n,e,t,r),new $x(n,t,e)}(le(),F())}const YK=eg,$x=class extends YK{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new pt(this._hostTNode,this._hostLView)}get parentInjector(){const e=rp(this._hostTNode,this._hostLView);if(iE(e)){const n=hl(e,this._hostLView),r=dl(e);return new pt(n[1].data[r+8],n)}return new pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Hx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=Vl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ps(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){const c=e&&!function ul(t){return"function"==typeof t}(e);let u;if(c)u=n;else{const E=n||{};u=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}const d=c?e:new TI(Pe(e)),h=r||this.parentInjector;if(!o&&null==d.ngModule){const w=(c?h:this.parentInjector).get(Gt,null);w&&(o=w)}const f=Pe(d.componentType??{}),g=Vl(this._lContainer,f?.id??null),v=d.create(h,i,g?.firstChild??null,o,s,a);return this.insertImpl(v.hostView,u,ps(this._hostTNode,g)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function S3(t){return sn(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[3],u=new $x(c,c[5],c[3]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return tc(s,i,o,r),e.attachToViewContainerRef(),aN(wI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Hx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Rl(this._lContainer,n);r&&(Nf(wI(this._lContainer),n),Al(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Rl(this._lContainer,n);return r&&null!=Nf(wI(this._lContainer),n)?new Dl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hx(t){return t[8]}function wI(t){return t[8]||(t[8]=[])}let Gx=Wx,bI=()=>!1;function Wx(t,e,n,r){if(t[7])return;let i;i=8&n.type?bt(r):function JK(t,e){const n=t[11],r=n.createComment(""),i=vt(e,t),o=n.parentNode(i);return ds(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i}function XK(t,e,n){if(t[7]&&t[6])return!0;const r=n[6],i=e.index-27;if(!r||function JM(t){if(pl(t))return!0;let e=t.parent;for(;e;){if(pl(t)||lE(e))return!0;e=e.parent}return!1}(e)||yp(r,i))return!1;const s=SE(r,i),a=r.data.c?.[i],[c,u]=function oK(t,e){const n=[];for(const r of e)for(let i=0;i<(r.x??1);i++){const o={data:r,firstChild:null};r.r>0&&(o.firstChild=t,t=zp(r.r,t)),n.push(o)}return[t,n]}(s,a);return t[7]=c,t[6]=u,!0}function ZK(t,e,n,r){bI(t,n,e)||Wx(t,e,n,r)}const oO=new Set;function Nt(t){oO.has(t)||(oO.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let oc=class{},sO=class{};class xI extends oc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jx(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=kr(e);this._bootstrapComponents=Fr(o.bootstrap),this._r3Injector=KN(e,n,[{provide:oc,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver},...r],kn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class aO extends sO{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new xI(this.moduleType,e,[])}}class cO extends oc{injector;componentFactoryResolver=new jx(this);instance=null;constructor(e){super();const n=new rs([...e.providers,{provide:oc,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],e.parent||Dv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function OI(t,e,n=null){return new cO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _Q=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=bv(0,n.type),i=r.length>0?OI([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(he(Gt))})}return t})();function $l(t){return fi(()=>{const e=lO(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ap.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(_Q).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mi.Emulated,styles:t.styles||We,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&Nt("NgStandalone"),dO(n);const r=t.dependencies;return n.directiveDefs=ng(r,uO),n.pipeDefs=ng(r,vr),n.id=function TQ(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function uO(t){return Pe(t)||Tn(t)}function tg(t){return fi(()=>({type:t.type,bootstrap:t.bootstrap||We,declarations:t.declarations||We,imports:t.imports||We,exports:t.exports||We,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yQ(t,e){if(null==t)return Mr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Sp.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function vQ(t){if(null==t)return Mr;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ie(t){return fi(()=>{const e=lO(t);return dO(e),e})}function lO(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||We,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:yQ(t.inputs,e),outputs:vQ(t.outputs),debugInfo:null}}function dO(t){t.features?.forEach(e=>e(t))}function ng(t,e){return t?()=>{const n="function"==typeof t?t():t,r=[];for(const i of n){const o=e(i);null!==o&&r.push(o)}return r}:null}function _O(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=$a(t.mergedAttrs,t.attrs);const d=t.tView=HE(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ui(t,!1);const c=EO(n,e,t,r);qf()&&XE(n,e,c,t),Fn(c,e);const u=tx(c,e,c,t);e[r+27]=u,GE(e,u),function qx(t,e,n){return bI(t,e,n)}(u,t,e)}function Es(t,e,n,r,i,o,s,a,c,u,d){const h=n+27;let f;if(e.firstCreatePass){if(f=gs(e,h,4,s||null,a||null),null!=u){const g=an(e.consts,u);f.localNames=[];for(let _=0;_<g.length;_+=2)f.localNames.push(g[_],-1)}}else f=e.data[h];return _O(f,t,e,n,r,i,o,c),null!=u&&Xa(t,f,d),f}let EO=IO;function IO(t,e,n,r){return hi(!0),e[11].createComment("")}function OQ(t,e,n,r){const i=!vp(e,n);hi(i);const o=e[6]?.data.t?.[r]??null;if(null!==o&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=o),i)return IO(0,e);const s=e[6],a=xl(s,t,e,n);return mp(s,r,a),zp(RE(s,r),a)}var Et=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Et||{}),Fe=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Fe||{}),wO=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(wO||{});function og(t,e){const n=function CO(t){let e=4;return 1===t?e=5:2===t&&(e=9),e}(t),r=e[n];if(null!==r){for(const i of r)i();e[n]=null}}var FI=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(FI||{});const Gl=new $(""),AO=!1,Ct=class BQ extends Nn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,function Mv(){return void 0!==iN()||null!=Fu()}()&&(this.destroyRef=x(Jn,{optional:!0})??void 0,this.pendingTasks=x(Qi,{optional:!0})??void 0)}emit(e){const n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof tn&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function SO(t){let e,n;function r(){t=il;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function RO(t){return queueMicrotask(()=>t()),()=>{t=il}}const UI="isAngularZone",sg=UI+"_ID";let $Q=0;class ye{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=AO}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function GQ(t){const e=()=>{!function zQ(t){function e(){SO(()=>{t.callbackScheduled=!1,BI(t),t.isCheckStableRunning=!0,jI(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),BI(t))}(t)},n=$Q++;t._inner=t._inner.fork({name:"angular",properties:{[UI]:!0,[sg]:n,[sg+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(function qQ(t){return NO(t,"__ignore_ng_zone__")}(c))return r.invokeTask(o,s,a,c);try{return DO(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),PO(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return DO(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function WQ(t){return NO(t,"__scheduler_tick__")}(c)&&e(),PO(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,BI(t),jI(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(UI)}static assertInAngularZone(){if(!ye.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,HQ,il,il);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const HQ={};function jI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function DO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PO(t){t._nesting--,jI(t)}class $I{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function NO(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}let MO=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();const kO=[0,1,2,3];let QQ=(()=>{class t{ngZone=x(ye);scheduler=x(Ki);errorHandler=x(Va,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Gl,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Ne(16),this.executing=!0;for(const r of kO)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ne(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),xa(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(FI.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();class xO{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function OO(t,e){const n=e?.injector??x(cn);return Nt("NgAfterNextRender"),function VO(t,e,n,r){const i=e.get(MO);i.impl??=e.get(QQ);const o=e.get(Gl,null,{optional:!0}),s=!0!==n?.manualCleanup?e.get(Jn):null,a=e.get(Yv,null,{optional:!0}),c=new xO(i.impl,function JQ(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}(t,n,e,!0)}function ql(t){return t+1}function Un(t,e){return t[ql(e.index)]}function Kt(t,e){const n=ql(e.index);return t.data[n]}function HI(t,e){return e===Fe.Placeholder?t.placeholderBlockConfig?.[0]??null:e===Fe.Loading?t.loadingBlockConfig?.[0]??null:null}function FO(t,e){if(!t||0===t.length)return e;const n=new Set(t);for(const r of e)n.add(r);return t.length===n.size?t:Array.from(n)}let cY=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){const s=i.length>0?OI(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t})}return t})();const uY=new $("");function GI(t,e,n){return t.get(cY).getOrCreateInjector(e,t,n,"")}function ro(t,e,n,r=!1){const i=n[3],o=i[1];if(ai(i))return;const s=Un(i,e),c=s[7];if(!(null!==c&&t<c)&&HO(s[1],t)&&HO(s[0]??-1,t)){const u=Kt(o,e),h=r||null===function LO(t){return t.loadingBlockConfig?.[1]??null}(u)&&null===HI(u,Fe.Loading)&&!HI(u,Fe.Placeholder)?BO:qI;try{h(t,s,n,e,i)}catch(f){rI(i,f)}}}function BO(t,e,n,r,i){Ne(20);const o=function eY(t,e,n){const i=Kt(e[1],n);switch(t){case Fe.Complete:return i.primaryTmplIndex;case Fe.Loading:return i.loadingTmplIndex;case Fe.Error:return i.errorTmplIndex;case Fe.Placeholder:return i.placeholderTmplIndex;default:return null}}(t,i,r);if(null!==o){e[1]=t;const s=i[1],c=ka(s,o+27),u=0;let d;if(oI(n,u),t===Fe.Complete){const _=Kt(s,r),v=_.providers;v&&v.length>0&&(d=function lY(t,e,n){if(t instanceof rc){const i=t.injector,s=GI(t.parentInjector,e,n);return new rc(i,s)}const r=t.get(Gt);if(r!==t){const i=GI(r,e,n);return new rc(t,i)}return GI(t,e,n)}(i[9],_,v))}const{dehydratedView:h,dehydratedViewIx:f}=function dY(t,e){const n=t[6]?.findIndex(i=>i.data.s===e[1])??-1;return{dehydratedView:n>-1?t[6][n]:null,dehydratedViewIx:n}}(n,e),g=Za(i,c,null,{injector:d,dehydratedView:h});if(tc(n,g,u,ps(c,h)),ec(g,2),f>-1&&n[6]?.splice(f,1),(t===Fe.Complete||t===Fe.Error)&&Array.isArray(e[8])){for(const _ of e[8])_();e[8]=null}}Ne(21)}function HO(t,e){return t<e}function zO(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Et.COMPLETE?ro(Fe.Complete,e,n):t.loadingState===Et.FAILED&&ro(Fe.Error,e,n)})}let qI=null,Wl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const o1=new $("");function hg(t){return!!t&&"function"==typeof t.then}function tJ(t){return!!t&&"function"==typeof t.subscribe}const s1=new $("");let a1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(s1,{optional:!0})??[];injector=x(cn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=rn(this.injector,i);if(hg(o))n.push(o);else if(tJ(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ql=new $("");let Xn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Or);afterRenderManager=x(MO);zonelessEnabled=x(Wf);rootEffectScheduler=x(eM);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Nn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Qi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(_e(n=>!n))}constructor(){x(Gl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(Gt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=cn.NULL){return this._injector.get(ye).run(()=>{Ne(10);const s=n instanceof Dx;if(!this._injector.get(a1).done)throw new L(405,"");let c;c=s?n:this._injector.get(Kp).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const u=function rJ(t){return t.isBoundToModule}(c)?void 0:this._injector.get(oc),h=c.create(i,[],r||c.selector,u),f=h.location.nativeElement,g=h.injector.get(o1,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),fg(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),Ne(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ne(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(FI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);const n=se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(n),this.afterTick.next(),Ne(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mI,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Ne(14),this.synchronizeOnce(),Ne(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||jf(i))&&(Fp(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>jf(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;fg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ql,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function XI(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function ws(t,e,n){const r=e[1],i=e[n.index];if(!function h1(t,e){return e[9].get(uY,null,{optional:!0})?.behavior!==wO.Manual}(0,e))return;const o=Un(e,n),s=Kt(r,n);switch(function bO(t){og(1,t),og(0,t),og(2,t)}(o),s.loadingState){case Et.NOT_STARTED:ro(Fe.Loading,n,i),function ZI(t,e,n){const r=e[9],i=e[1];if(t.loadingState!==Et.NOT_STARTED)return t.loadingPromise??Promise.resolve();const o=Un(e,n),s=function tY(t,e){return ka(t,e.primaryTmplIndex+27)}(i,t);t.loadingState=Et.IN_PROGRESS,og(1,o);let a=t.dependencyResolverFn;const c=r.get(rl).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(u=>{let d=!1;const h=[],f=[];for(const g of u){if("fulfilled"!==g.status){d=!0;break}{const _=g.value,v=Pe(_)||Tn(_);if(v)h.push(v);else{const E=vr(_);E&&f.push(E)}}}if(d){if(t.loadingState=Et.FAILED,null===t.errorTmplIndex){const _=new L(-750,!1);rI(e,_)}}else{t.loadingState=Et.COMPLETE;const g=s.tView;if(h.length>0){g.directiveRegistry=FO(g.directiveRegistry,h);const v=bv(!1,...h.map(E=>E.type));t.providers=v}f.length>0&&(g.pipeRegistry=FO(g.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Et.COMPLETE,c()}),t.loadingPromise)}(s,e,n),s.loadingState===Et.IN_PROGRESS&&zO(s,n,i);break;case Et.IN_PROGRESS:ro(Fe.Loading,n,i),zO(s,n,i);break;case Et.COMPLETE:ro(Fe.Complete,n,i);break;case Et.FAILED:ro(Fe.Error,n,i)}}function eT(){return(eT=C(function*(t,e,n){const r=t.get(Zi);if(r.hydrating.has(e))return;const{parentBlockPromise:o,hydrationQueue:s}=function I9(t,e){const n=e.get(Zi),i=e.get(Xi).get("__nghDeferData__",{});let o=!1,s=t,a=null;const c=[];for(;!o&&s;){o=n.has(s);const u=n.hydrating.get(s);if(null===a&&null!=u){a=u.promise;break}c.unshift(s),s=i[s].p}return{parentBlockPromise:a,hydrationQueue:c}}(e,t);if(0===s.length)return;null!==o&&s.shift(),function aJ(t,e){for(let n of e)t.hydrating.set(n,XI())}(r,s),null!==o&&(yield o);const a=s[0];r.has(a)?yield f1(t,s,n):r.awaitParentBlock(a,C(function*(){return yield f1(t,s,n)}))})).apply(this,arguments)}function f1(t,e,n){return tT.apply(this,arguments)}function tT(){return(tT=C(function*(t,e,n){const r=t.get(Zi),i=r.hydrating,o=t.get(Qi),s=o.add();for(let c=0;c<e.length;c++){const u=e[c],d=r.get(u);if(null==d){sJ(c,e,r),p1(e.slice(c),r);break}if(yield uJ(d),yield cJ(t),oJ(d)){rK(d),p1(e.slice(c),r);break}i.get(u).resolve()}const a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),function iK(t,e,n,r){null!==t&&(n.cleanup(e),qp(t.lContainer),wx(r))}(r.get(a),e,r,t.get(Xn))})).apply(this,arguments)}function oJ(t){return Un(t.lView,t.tNode)[1]===Fe.Error}function sJ(t,e,n){const r=t-1,i=r>-1?n.get(e[r]):null;i&&qp(i.lContainer)}function p1(t,e){const n=e.hydrating;for(const r in t)n.get(r)?.reject();e.cleanup(t)}function cJ(t){return new Promise(e=>OO(e,{injector:t}))}function uJ(t){return nT.apply(this,arguments)}function nT(){return(nT=C(function*(t){const{tNode:e,lView:n}=t,r=Un(n,e);return new Promise(i=>{(function lJ(t,e){Array.isArray(t[8])||(t[8]=[]),t[8].push(e)})(r,i),ws(0,n,e)})})).apply(this,arguments)}function jr(t,e,n,r){const i=F();return Je(i,Vn(),e)&&(pe(),function X8(t,e,n,r,i,o){const s=vt(t,e);!function kp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?de(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],s,o,t.value,n,r,i)}(Ir(),i,t,e,n,r)),jr}typeof document<"u"&&document;class tX{destroy(e){}updateValue(e,n){}swap(e,n){const r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}}function sT(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function aT(t,e,n,r){return!(void 0===e||!e.has(r)||(t.attach(n,e.get(r)),e.delete(r),0))}function b1(t,e,n,r,i){if(aT(t,e,r,n(r,i)))t.updateValue(r,i);else{const o=t.create(r,i);t.attach(r,o)}}function C1(t,e,n,r){const i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}class A1{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const n=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}}function Jl(t,e,n,r,i,o,s,a){Nt("NgControlFlow");const c=F(),u=pe();return Es(c,u,t,e,n,r,i,an(u.consts,o),256,s,a),cT}function cT(t,e,n,r,i,o,s,a){Nt("NgControlFlow");const c=F(),u=pe();return Es(c,u,t,e,n,r,i,an(u.consts,o),512,s,a),cT}function Xl(t,e){Nt("NgControlFlow");const n=F(),r=Vn(),i=n[r]!==Me?n[r]:-1,o=-1!==i?Ig(n,27+i):void 0;if(Je(n,r,t)){const a=se(null);try{if(void 0!==o&&oI(o,0),-1!==t){const c=27+t,u=Ig(n,c),d=uT(n[1],c),h=Ax(u,d,n);tc(u,Za(n,d,e,{dehydratedView:h}),0,ps(d,h))}}finally{se(a)}}else if(void 0!==o){const a=nx(o,0);void 0!==a&&(a[8]=e)}}class rX{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-10}}class sX{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}}function vg(t,e,n,r,i,o,s,a,c,u,d,h,f){Nt("NgControlFlow");const g=F(),_=pe(),v=void 0!==c,E=F(),w=a?s.bind(E[15][8]):s,S=new sX(v,w);E[27+t]=S,Es(g,_,t+1,e,n,r,i,an(_.consts,o),256),v&&Es(g,_,t+2,c,u,d,h,an(_.consts,f),512)}class aX extends tX{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-10}at(e){return this.getLView(e)[8].$implicit}attach(e,n){const r=n[6];this.needsIndexUpdate||=e!==this.length,tc(this.lContainer,n,e,ps(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&function cX(t,e){if(t.length<=10)return;const r=t[10+e];r&&r[26]&&(r[26].skipLeaveAnimations=!0)}(this.lContainer,e),function uX(t,e){return Rl(t,e)}(this.lContainer,e)}create(e,n){const r=Vl(this.lContainer,this.templateTNode.tView.ssrId),i=Za(this.hostLView,this.templateTNode,new rX(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Al(e[1],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[8].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[8].$index=e}getLView(e){return function lX(t,e){return nx(t,e)}(this.lContainer,e)}}function Eg(t){const e=se(null),n=qt();try{const r=F(),i=r[1],o=r[n],s=n+1,a=Ig(r,s);if(void 0===o.liveCollection){const u=uT(i,s);o.liveCollection=new aX(a,r,u)}else o.liveCollection.reset();const c=o.liveCollection;if(function nX(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){const u=t.at(o),d=e[o],h=sT(o,u,o,d,n);if(0!==h){h<0&&t.updateValue(o,d),o++;continue}const f=t.at(s),g=e[c],_=sT(s,f,c,g,n);if(0!==_){_<0&&t.updateValue(s,g),s--,c--;continue}const v=n(o,u),E=n(s,f),w=n(o,d);if(Object.is(w,E)){const S=n(c,g);Object.is(S,v)?(t.swap(o,s),t.updateValue(s,g),c--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(r??=new A1,i??=C1(t,o,s,n),aT(t,r,o,w))t.updateValue(o,d),o++,s++;else if(i.has(w))r.set(v,t.detach(o)),s--;else{const S=t.create(o,e[o]);t.attach(o,S),o++,s++}}for(;o<=c;)b1(t,r,n,o,e[o]),o++}else if(null!=e){const c=e[Symbol.iterator]();let u=c.next();for(;!u.done&&o<=s;){const d=t.at(o),h=u.value,f=sT(o,d,o,h,n);if(0!==f)f<0&&t.updateValue(o,h),o++,u=c.next();else{r??=new A1,i??=C1(t,o,s,n);const g=n(o,h);if(aT(t,r,o,g))t.updateValue(o,h),o++,s++,u=c.next();else if(i.has(g)){const _=n(o,d);r.set(_,t.detach(o)),s--}else t.attach(o,t.create(o,h)),o++,s++,u=c.next()}}for(;!u.done;)b1(t,r,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){const u=Vn(),d=0===c.length;if(Je(r,u,d)){const h=n+2,f=Ig(r,h);if(d){const g=uT(i,h),_=Ax(f,g,r);tc(f,Za(r,g,void 0,{dehydratedView:_}),0,ps(g,_))}else i.firstUpdatePass&&Gp(f),oI(f,0)}}}finally{se(e)}}function Ig(t,e){return t[e]}function uT(t,e){return ka(t,e)}function Zl(t,e,n){const r=F();return Je(r,Vn(),e)&&(pe(),eI(Ir(),r,t,e,r[11],n)),Zl}function lT(t,e,n,r,i){Vp(e,t,n,i?"class":"style",r)}function Xe(t,e,n,r){const i=F(),o=i[1],s=t+27,a=o.firstCreatePass?vI(s,i,2,e,nI,function Bv(){return ce.bindingsEnabled}(),n,r):o.data[s];if(function xp(t,e,n,r,i){const o=27+n,s=e[1],a=i(s,e,t,r,n);e[o]=a,ui(t,!0);const c=2===t.type;return c?(Ak(e[11],a,t),(0===function D3(){return ce.lFrame.elementDepthCount}()||Na(t))&&Fn(a,e),function P3(){ce.lFrame.elementDepthCount++}()):Fn(a,e),qf()&&(!c||!pp(t))&&XE(s,e,a,t),t}(a,i,t,e,fT),Na(a)){const c=i[1];Mp(c,i,a),ME(c,a,i)}return null!=r&&Xa(i,a),Xe}function Ue(){const t=pe(),n=Op(le());return t.firstCreatePass&&EI(t,n),function PN(t){return ce.skipHydrationRootTNode===t}(n)&&function NN(){ce.skipHydrationRootTNode=null}(),function DN(){ce.lFrame.elementDepthCount--}(),null!=n.classesWithoutHost&&function X6(t){return!!(8&t.flags)}(n)&&lT(t,n,F(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Z6(t){return!!(16&t.flags)}(n)&&lT(t,n,F(),n.stylesWithoutHost,!1),Ue}function ed(t,e,n,r){return Xe(t,e,n,r),Ue(),ed}let fT=(t,e,n,r,i)=>(hi(!0),Cp(e[11],r,GN()));function dX(t,e,n,r,i){const o=!vp(e,n);if(hi(o),o)return Cp(e[11],r,GN());const s=e[6],a=xl(s,t,e,n);return z0(s,i)&&mp(s,i,a.nextSibling),s&&(lE(n)||YM(a))&&xr(n)&&(function M3(t){ce.skipHydrationRootTNode=t}(n),Ck(a)),a}let mT=(t,e,n,r,i)=>(hi(!0),$E(e[11],""));function fX(t,e,n,r,i){let o;const s=!vp(e,n);if(hi(s),s)return $E(e[11],"");const a=e[6],c=xl(a,t,e,n),u=function H0(t,e){const n=t.data;let r=n.e?.[e]??null;return null===r&&n.c?.[e]&&(r=RE(t,e)),r}(a,i);return mp(a,i,c),o=zp(u,c),o}function _T(){return F()}const bg="en-US";let O1=bg;function Cn(t,e,n){const r=F(),i=pe(),o=le();return function ET(t,e,n,r,i,o,s){let a=!0,c=null;if((3&r.type||s)&&(c??=jl(r,e,o),function Fx(t,e,n,r,i,o,s,a){const c=Na(t);let u=!1,d=null;if(!r&&c&&(d=function NK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],c=i[o+2];return a&&a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,o,t.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0;else{const h=vt(t,n),f=r?r(h):h;!function c9(t,e,n,r){V0(t,e,n,r)}(n,f,o,a);const g=i.listen(f,o,a);(function PK(t){return t.startsWith("animation")||t.startsWith("transition")})(o)||Ux(r?v=>r(bt(v[t.index])):t.index,e,n,o,a,g,!1)}return u}(r,t,e,s,n,i,o,c)&&(a=!1)),a){const u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){const f=d[h],g=d[h+1];c??=jl(r,e,o),Zp(r,e,f,g,i,c)}if(u&&u.length)for(const h of u)c??=jl(r,e,o),Zp(r,e,h,i,i,c)}}(i,r,r[11],o,t,e,n),Cn}function un(t=1){return function F3(t){return(ce.lFrame.contextLView=function AN(t,e){for(;t>0;)e=e[14],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function At(t,e=""){const n=F(),r=pe(),i=t+27,o=r.firstCreatePass?gs(r,i,1,e,null):r.data[i],s=EV(r,n,o,e,t);n[i]=s,qf()&&XE(r,n,s,o),ui(o,!1)}let EV=(t,e,n,r,i)=>(hi(!0),BE(e[11],r));function FZ(t,e,n,r,i){const o=!vp(e,n);return hi(o),o?BE(e[11],r):xl(e[6],t,e,n)}function _c(t){return yi("",t),_c}function yi(t,e,n){const r=F(),i=function TV(t,e,n,r=""){return Je(t,Vn(),n)?e+de(n)+r:Me}(r,t,e,n);return i!==Me&&function vi(t,e,n){const r=function Ma(t,e){return bt(e[t])}(e,t);!function Tk(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,qt(),i),yi}function zV(t,e,n,r){return function GV(t,e,n,r,i,o){const s=e+n;return Je(t,s,i)?function Ur(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function cd(t,e){const n=t[e];return n===Me?void 0:n}(t,s+1)}(F(),function bn(){const t=ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}class Jee{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Xee=(()=>{class t{compileModuleSync(n){return new aO(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fr(kr(n).declarations).reduce((s,a)=>{const c=Pe(a);return c&&s.push(new TI(c)),s},[]);return new Jee(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ete=(()=>{class t{zone=x(ye);changeDetectionScheduler=x(Ki);applicationRef=x(Xn);applicationErrorHandler=x(Or);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye({...xT(),scheduleInRootZone:n}),[{provide:ye,useFactory:t},{provide:ur,multi:!0,useFactory:()=>{const r=x(ete,{optional:!0});return()=>r.initialize()}},{provide:ur,multi:!0,useFactory:()=>{const r=x(nte);return()=>{r.initialize()}}},!0===e?{provide:ZN,useValue:!0}:[],{provide:Qv,useValue:n??AO},{provide:Or,useFactory:()=>{const r=x(ye),i=x(Gt);let o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Va),o.handleError(s))})}}}]}function xT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let nte=(()=>{class t{subscription=new tn;initialized=!1;zone=x(ye);pendingTasks=x(Qi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VT=(()=>{class t{applicationErrorHandler=x(Or);appRef=x(Xn);taskService=x(Qi);ngZone=x(ye);zonelessEnabled=x(Wf);tracing=x(Gl,{optional:!0});disableScheduling=x(ZN,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new tn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Qv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $I||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?RO:SO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gL=new $("",{providedIn:"root",factory:()=>x(gL,{optional:!0,skipSelf:!0})||function ite(){return typeof $localize<"u"&&$localize.locale||bg}()}),vL={};function BT(t,e){t.__jsaction=e}const dte=["mouseenter","mouseleave","pointerenter","pointerleave"],hte=["focus","blur","error","load","toggle"],IL=t=>hte.indexOf(t)>=0;function mte(t,e){t.removeEventListener?t.removeEventListener(e.eventType,e.handler,"boolean"==typeof e.passive?{capture:e.capture}:e.capture):t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}let TL=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);const Tte=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);class wte{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){Tte&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function gte(t,e,n,r){let i=!1;return IL(e)&&(i=!0),t.addEventListener(e,n,"boolean"==typeof r?{capture:i,passive:r}:i),{eventType:e,handler:n,capture:i,passive:r}}(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)mte(this.element,this.handlerInfos[e]);this.handlerInfos=[]}}function co(t){return t.eventType}function $T(t,e){t.eventType=e}function Vg(t){return t.event}function wL(t,e){t.event=e}function bL(t){return t.targetElement}function CL(t,e){t.targetElement=e}function AL(t){return t.eic}function Lg(t){return t.eia}function SL(t,e,n){t.eia=[e,n]}function HT(t){t.eia=void 0}function Fg(t){return t[1]}function RL(t,e){t.eirp=e}function DL(t){return t.eir}function PL(t,e){t.eir=e}function NL(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}class zT{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return co(this.eventInfo)}setEventType(e){$T(this.eventInfo,e)}getEvent(){return Vg(this.eventInfo)}setEvent(e){wL(this.eventInfo,e)}getTargetElement(){return bL(this.eventInfo)}setTargetElement(e){CL(this.eventInfo,e)}getContainer(){return AL(this.eventInfo)}setContainer(e){!function Cte(t,e){t.eic=e}(this.eventInfo,e)}getTimestamp(){return function Ate(t){return t.timeStamp}(this.eventInfo)}setTimestamp(e){!function Ste(t,e){t.timeStamp=e}(this.eventInfo,e)}getAction(){const e=Lg(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){e?SL(this.eventInfo,e.name,e.element):HT(this.eventInfo)}getIsReplay(){return function Rte(t){return t.eirp}(this.eventInfo)}setIsReplay(e){RL(this.eventInfo,e)}getResolved(){return DL(this.eventInfo)}setResolved(e){PL(this.eventInfo,e)}clone(){return new zT(NL(this.eventInfo))}}const Dte={},Pte=/\s*;\s*/;class Mte{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&"click"===co(e)&&function vte(t){return TL&&t.metaKey||!TL&&t.ctrlKey||function yte(t){return 2===t.which||null==t.which&&4===t.button}(t)||t.shiftKey}(Vg(e))?$T(e,"clickmod"):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){DL(e)||(this.populateAction(e,bL(e)),PL(e,!0))}resolveParentAction(e){const n=Lg(e),r=n&&Fg(n);HT(e);const i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==AL(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Lg(e));)r=this.getParentNode(r);const i=Lg(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&("mouseenter"===co(e)||"mouseleave"===co(e)||"pointerenter"===co(e)||"pointerleave"===co(e))))if(function Ete(t,e,n){const r=t.relatedTarget;return("mouseover"===t.type&&"mouseenter"===e||"mouseout"===t.type&&"mouseleave"===e||"pointerover"===t.type&&"pointerenter"===e||"pointerout"===t.type&&"pointerleave"===e)&&(!r||r!==n&&!n.contains(r))}(Vg(e),co(e),Fg(i))){const o=function Ite(t,e){const n={};for(const r in t){if("srcElement"===r||"target"===r)continue;const o=t[r];"function"!=typeof o&&(n[r]=o)}return n.type="mouseover"===t.type?"mouseenter":"mouseout"===t.type?"mouseleave":"pointerover"===t.type?"pointerenter":"pointerleave",n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}(Vg(e),Fg(i));wL(e,o),CL(e,Fg(i))}else HT(e)}getParentNode(e){const n=e.__owner;if(n)return n;const r=e.parentNode;return"#document-fragment"===r?.nodeName?r?.host??null:r}populateActionOnElement(e,n){const r=this.parseActions(e),i=r[co(n)];void 0!==i&&SL(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=function EL(t){return t.__jsaction}(e);if(!n){const r=e.getAttribute("jsaction");if(r){if(n=function ute(t){return vL[t]}(r),!n){n={};const i=r.split(Pte);for(let o=0;o<i.length;o++){const s=i[o];if(!s)continue;const a=s.indexOf(":"),c=-1!==a,u=c?s.substr(0,a).trim():"click",d=c?s.substr(a+1).trim():s;n[u]=d}!function lte(t,e){vL[t]=e}(r,n)}BT(e,n)}else n=Dte,BT(e,n)}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}}var kL=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(kL||{});class kte{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){const n=new zT(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);const r=n.getAction();r&&function xte(t,e){return"A"===t.tagName&&("click"===e.getEventType()||"clickmod"===e.getEventType())}(r.element,n)&&function _te(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n.getEvent()),this.eventReplayer&&n.getIsReplay()?this.scheduleEventInfoWrapperReplay(n):this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}}const xL=Symbol.for("propagationStopped");class Lte{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Mte({clickModSupport:n}),this.dispatcher=new kte(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&function jte(t){const e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Ss(e,"target",n),Ss(e,"eventPhase",101),Ss(e,"preventDefault",()=>{throw r(),new Error("`preventDefault` called during event replay.")}),Ss(e,"composedPath",()=>{throw new Error("`composedPath` called during event replay.")})}(e),function Fte(t){const e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[xL]=!0,n()};Ss(e,"stopPropagation",r),Ss(e,"stopImmediatePropagation",r)}(e);e.getAction();){if(Bte(e),IL(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Ute(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}}function Ute(t){return!!t.getEvent()[xL]}function Bte(t){const e=t.getEvent(),n=t.getAction()?.element;n&&Ss(e,"currentTarget",n,{configurable:!0})}function Ss(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function FL(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}let Wte=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=!1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){const o=function ML(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher)return RL(n,!0),void this.queuedEventInfos?.push(n);this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&dte.indexOf(n)>=0)return;const o=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=o;const s=function pte(t){return"mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":"pointerenter"===t?"pointerover":"pointerleave"===t?"pointerout":t}(r||n);if(s!==n){const a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),function LL(t){t&&(FL(t.c,t.et,t.h),FL(t.c,t.etc,t.h,!0))}(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){const i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){const a=NL(i);$T(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){const r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function UL(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}const Ug=Symbol("InputSignalNode#UNSET"),jL={...Zy,transformFn:void 0,applyValueToInputSignal(t,e){If(t,e)}};function BL(t,e){const n=Object.create(jL);function r(){if(ju(n),n.value===Ug)throw new L(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[xt]=n,r}class Jte{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>op(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function $L(t,e){return BL(t,e)}new $("").__NG_ELEMENT_ID__=t=>{const e=le();if(null===e)throw new L(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new L(204,!1)};const ene=($L.required=function Zte(t){return BL(Ug,t)},$L),jg=new $(""),one=new $("");function dd(t){return!t.moduleRef}let KL,Ec=null;function ZL(){return!1}let $g=(()=>class t{static __NG_ELEMENT_ID__=dne})();function dne(t){return function hne(t,e,n){if(xr(t)&&!n){const r=wn(t.index,e);return new Dl(r,r)}return 175&t.type?new Dl(e[15],e):null}(le(),F(),!(16&~t))}function Ine(t){const{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ne(8);try{const o=i?.injector??function lne(t=[]){if(Ec)return Ec;const e=function JL(t=[],e){return cn.create({name:e,providers:[{provide:Sv,useValue:"platform"},{provide:jg,useValue:new Set([()=>Ec=null])},...t]})}(t);return Ec=e,function nJ(){!function wW(t){HP=t}(()=>{throw new L(600,"")})}(),function XL(t){const e=t.get(m0,null);rn(t,()=>{e?.forEach(n=>n())})}(e),e}(r),s=[kT({}),{provide:Ki,useExisting:VT},YN,...n||[]];return function WL(t){const e=dd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{dd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(Or);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),dd(t)){const o=()=>e.destroy(),s=t.platformInjector.get(jg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(jg);s.add(o),t.moduleRef.onDestroy(()=>{fg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function ane(t,e,n){try{const r=n();return hg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}(r,n,()=>{const o=e.get(Qi),s=o.add(),a=e.get(a1);return a.runInitializers(),a.donePromise.then(()=>{if(function TX(t){"string"==typeof t&&(O1=t.toLowerCase().replace(/_/g,"-"))}(e.get(gL,bg)||bg),!e.get(one,!0))return dd(t)?e.get(Xn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(dd(t)){const d=e.get(Xn);return void 0!==t.rootComponent&&d.bootstrap(t.rootComponent),d}return KL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}({r3Injector:new cO({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ne(9)}}const Hg=new WeakSet;let zg=[];function lF(t){return t.get(D0,!1)}function dF(){const t=[{provide:D0,useFactory:()=>{let e=!0;{const n=x(gi);e=!!window._ejsas?.[n]}return e&&Nt("NgEventReplay"),e}}];return t.push({provide:ur,useValue:()=>{const e=x(Xn),{injector:n}=e;if(!Hg.has(e)){const r=x(vE);if(lF(n)){!function u9(){O0||(V0=(t,e,n,r)=>{const i=t[9].get(gi);bE.get(i)?.(e,n,r)},O0=!0)}();const o=function a9(t,e){return bE.set(t,e),()=>bE.delete(t)}(n.get(gi),(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(((t,e,n)=>{const r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i})(s,a,c),((t,e)=>{const n=t;let r=n.getAttribute(_l)??"";const i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)})(s,r))});e.onDestroy(o)}}},multi:!0},{provide:Ql,useFactory:()=>{const e=x(Xn),{injector:n}=e;return()=>{if(!lF(n)||Hg.has(e))return;Hg.add(e);const r=n.get(gi);e.onDestroy(()=>{Hg.delete(e),UL(r)}),e.whenStable().then(()=>{if(e.destroyed)return;const i=n.get(s9);Tne(i,n);const o=n.get(vE);o.get("")?.forEach(k0),o.delete("");const s=i.instance;!function _p(t){return t.get(t9,!1,{optional:!0})}(n)?s.cleanUp():e.onDestroy(()=>s.cleanUp())})}},multi:!0}),t}const Tne=(t,e)=>{const n=e.get(gi),r=window._ejsas[n],i=t.instance=new Wte(new wte(r.c));for(const a of r.et)i.addEvent(a);for(const a of r.etc)i.addEvent(a);const o=function Kte(t,e=window){return function zte(t){return t?.q??[]}(e._ejsas?.[t])}(n);i.replayEarlyEventInfos(o),UL(n);const s=new Lte(a=>{!function bne(t,e,n){const r=(n&&n.getAttribute(_l))??"";/d\d+/.test(r)?function Cne(t,e,n,r){zg.push({event:n,currentTarget:r}),function io(t,e,n){return eT.apply(this,arguments)}(e,t,Ane)}(r,t,e,n):101===e.eventPhase&&x0(e,n)}(e,a,a.currentTarget)});!function $te(t,e){t.ecrd(n=>{e.dispatch(n)},kL.I_AM_THE_JSACTION_FRAMEWORK)}(i,s)};function Ane(t){const e=[...zg],n=new Set(t);zg=[];for(let{event:r,currentTarget:i}of e){const o=i.getAttribute(_l);n.has(o)?x0(r,i):zg.push({event:r,currentTarget:i})}}let yF=!1;function $ne(){const t=[{provide:lp,useFactory:()=>{let e=!0;return e=!!x(Xi,{optional:!0})?.get(F0,null),e&&Nt("NgHydration"),e}},{provide:ur,useValue:()=>{(function q7(t){yx=t})(!1),x(lp)&&(function R9(t){for(const r of t.body.childNodes)if(PE(r))return;if(!PE(W0(t.body.previousSibling))&&!PE(W0(t.head.lastChild)))throw new L(-507,!1)}(Lr()),function Lne(){yF||(yF=!0,function f9(){j0=h9}(),function hX(){fT=dX}(),function UZ(){EV=FZ}(),function pX(){mT=fX}(),function VQ(){EO=OQ}(),function eQ(){Gx=ZK,bI=XK}(),function sK(){bx=aK,Cx=cK}(),function W8(){Hk=q8}())}())},multi:!0}];return t.push({provide:R0,useFactory:()=>x(lp)},{provide:Ql,useFactory:()=>{if(x(lp)){const e=x(Xn);return()=>{(function jne(t){return t.whenStable()})(e).then(()=>{e.destroyed||wx(e)})}}return()=>{}},multi:!0}),ii(t)}function Ic(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}const WT=new $("");let bF=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(he(WT),he(ye))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class CF{_doc;constructor(e){this._doc=e}manager}const KT="ng-app-id";function AF(t){for(const e of t)e.remove()}function SF(t,e){const n=e.createElement("style");return n.textContent=t,n}function QT(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let RF=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,function Kne(t,e,n,r){const i=t.head?.querySelectorAll(`style[${KT}="${e}"],link[${KT}="${e}"]`);if(i)for(const o of i)o.removeAttribute(KT),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,SF);r?.forEach(i=>this.addUsage(i,this.external,QT))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(AF(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])AF(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,SF(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,QT(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(he(hr),he(gi),he(_0,8),he(ml))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const YT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},JT=/%COMP%/g,ere=new $("",{providedIn:"root",factory:()=>!0});function PF(t,e){return e.map(n=>n.replace(JT,t))}let NF=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new XT(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof kF?i.applyToHost(n):i instanceof ZT&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case mi.Emulated:o=new kF(c,u,r,this.appId,d,s,a,h,f);break;case mi.ShadowDom:return new ire(c,u,n,r,s,a,this.nonce,h,f);default:o=new ZT(c,u,r,d,s,a,h,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(he(bF),he(RF),he(gi),he(ere),he(hr),he(ml),he(ye),he(_0),he(Gl,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();class XT{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(YT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(MF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(MF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=YT[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=YT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(hs.DashCase|hs.Important)?e.style.setProperty(n,r,i&hs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&hs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=Yi().getGlobalEventTarget(this.doc,e)))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault()}}}function MF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ire extends XT{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=PF(i.id,d);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}const h=i.getExternalStyles?.();if(h)for(const f of h){const g=QT(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZT extends XT{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?PF(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===Dp.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class kF extends ZT{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,u){const d=i+"-"+r.id;super(e,n,r,o,s,a,c,u,d),this.contentAttr=function tre(t){return"_ngcontent-%COMP%".replace(JT,t)}(d),this.hostAttr=function nre(t){return"_nghost-%COMP%".replace(JT,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class ew extends Q3{supportsDOMEvents=!0;static makeCurrent(){!function K3(t){tM??=t}(new ew)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ore(){return fd=fd||document.head.querySelector("base"),fd?fd.getAttribute("href"):null}();return null==n?null:function sre(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sM(document.cookie,e)}}let fd=null,cre=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),ure=(()=>{class t extends CF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(he(hr))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const xF=["alt","control","meta","shift"],lre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dre={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hre=(()=>{class t extends CF{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yi().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xF.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=lre[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xF.forEach(s=>{s!==i&&(0,dre[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(he(hr))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();function OF(t){return{appProviders:[...vre,...t?.providers??[]],platformProviders:_re}}const _re=[{provide:ml,useValue:"browser"},{provide:m0,useValue:function pre(){ew.makeCurrent()},multi:!0},{provide:hr,useFactory:function mre(){return function z5(t){pE=t}(document),document}}],vre=[{provide:Sv,useValue:"root"},{provide:Va,useFactory:function gre(){return new Va}},{provide:WT,useClass:ure,multi:!0,deps:[hr]},{provide:WT,useClass:hre,multi:!0,deps:[hr]},NF,RF,bF,{provide:mI,useExisting:NF},{provide:aM,useClass:cre},[]],bre={...Ea,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"};function it(t){return function wre(t){const e=se(null);try{return t()}finally{se(e)}}(t)}function $n(t,e){return function EW(t,e){const n=Object.create(IW);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(Bu(n),ju(n),n.value===Hi)throw n.error;return n.value};return r[xt]=n,r}(t,e?.equal)}class Are{[xt];constructor(e){this[xt]=e}destroy(){this[xt].destroy()}}function tw(t,e){const n=e?.injector??x(cn);let i,r=!0!==e?.manualCleanup?n.get(Jn):null;const o=n.get(Yv,null,{optional:!0}),s=n.get(Ki);return null!==o?(i=function Dre(t,e,n){const r=Object.create(Rre);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=FF(r,n),t[23]??=new Set,t[23].add(r),r.consumerMarkedDirty(r),r}(o.view,s,t),r instanceof QN&&r._lView===o.view&&(r=null)):i=function Pre(t,e,n){const r=Object.create(Sre);return r.fn=FF(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}(t,n.get(eM),s),i.injector=n,null!==r&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Are(i)}const LF={...bre,cleanupFns:void 0,zone:null,onDestroyFn:il,run(){const t=zf(!1);try{!function Cre(t){if(t.dirty=!1,t.hasRun&&!vf(t))return;t.hasRun=!0;const e=Ia(t);try{t.cleanup(),t.fn()}finally{$u(t,e)}}(this)}finally{zf(t)}},cleanup(){if(!this.cleanupFns?.length)return;const t=se(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],se(t)}}},Sre={...LF,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Hu(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}},Rre={...LF,consumerMarkedDirty(){this.view[2]|=8192,xa(this.view),this.notifier.notify(13)},destroy(){Hu(this),this.onDestroyFn(),this.cleanup(),this.view[23]?.delete(this)}};function FF(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function uo(t){return this instanceof uo?(this.v=t,this):new uo(t)}function qF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function aw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}Error,Error,"function"==typeof SuppressedError&&SuppressedError;const WF=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function KF(t){return Qe(t?.then)}function QF(t){return Qe(t[cv])}function YF(t){return Symbol.asyncIterator&&Qe(t?.[Symbol.asyncIterator])}function JF(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const XF=function lie(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZF(t){return Qe(t?.[XF])}function e2(t){return function GF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(E,w){o.push([g,v,E,w])>1||c(g,v)})},_&&(i[g]=_(i[g])))}function c(g,_){try{!function u(g){g.value instanceof uo?Promise.resolve(g.value.v).then(d,h):f(o[0][2],g)}(r[g](_))}catch(v){f(o[0][3],v)}}function d(g){c("next",g)}function h(g){c("throw",g)}function f(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield uo(n.read());if(i)return yield uo(void 0);yield yield uo(r)}}finally{n.releaseLock()}})}function t2(t){return Qe(t?.getReader)}function Br(t){if(t instanceof Ge)return t;if(null!=t){if(QF(t))return function die(t){return new Ge(e=>{const n=t[cv]();if(Qe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(WF(t))return function hie(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(KF(t))return function fie(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,QP)})}(t);if(YF(t))return n2(t);if(ZF(t))return function pie(t){return new Ge(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(t2(t))return function gie(t){return n2(e2(t))}(t)}throw JF(t)}function n2(t){return new Ge(e=>{(function mie(t,e){var n,r,i,o;return function HF(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qF(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ei(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Kg(t,e=0){return Wt((n,r)=>{n.subscribe(Pt(r,i=>Ei(r,t,()=>r.next(i),e),()=>Ei(r,t,()=>r.complete(),e),i=>Ei(r,t,()=>r.error(i),e)))})}function Qg(t,e=0){return Wt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function r2(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{Ei(n,e,()=>{const r=t[Symbol.asyncIterator]();Ei(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ln(t,e){return e?function Tie(t,e){if(null!=t){if(QF(t))return function _ie(t,e){return Br(t).pipe(Qg(e),Kg(e))}(t,e);if(WF(t))return function vie(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(KF(t))return function yie(t,e){return Br(t).pipe(Qg(e),Kg(e))}(t,e);if(YF(t))return r2(t,e);if(ZF(t))return function Eie(t,e){return new Ge(n=>{let r;return Ei(n,e,()=>{r=t[XF](),Ei(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Qe(r?.return)&&r.return()})}(t,e);if(t2(t))return function Iie(t,e){return r2(e2(t),e)}(t,e)}throw JF(t)}(t,e):Br(t)}function uw(t){return t[t.length-1]}function Yg(t){return function wie(t){return t&&Qe(t.schedule)}(uw(t))?t.pop():void 0}function ue(...t){return ln(t,Yg(t))}const Jg=ev(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:bie}=Array,{getPrototypeOf:Cie,prototype:Aie,keys:Sie}=Object;const{isArray:Die}=Array;function c2(...t){const e=Yg(t),n=function i2(t){return Qe(uw(t))?t.pop():void 0}(t),{args:r,keys:i}=function o2(t){if(1===t.length){const e=t[0];if(bie(e))return{args:e,keys:null};if(function Rie(t){return t&&"object"==typeof t&&Cie(t)===Aie}(e)){const n=Sie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return ln([],e);const o=new Ge(function Nie(t,e,n=Xo){return r=>{u2(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)u2(e,()=>{const u=ln(t[c],e);let d=!1;u.subscribe(Pt(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function a2(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):Xo));return n?o.pipe(function s2(t){return _e(e=>function Pie(t,e){return Die(e)?t(...e):t(e)}(t,e))}(n)):o}function u2(t,e,n){t?Ei(n,t,e):e()}function An(t,e,n=1/0){return Qe(e)?An((r,i)=>_e((o,s)=>e(r,o,i,s))(Br(t(r,i))),n):("number"==typeof e&&(n=e),Wt((r,i)=>function Mie(t,e,n,r,i,o,s,a){const c=[];let u=0,d=0,h=!1;const f=()=>{h&&!c.length&&!u&&e.complete()},g=v=>u<r?_(v):c.push(v),_=v=>{o&&e.next(v),u++;let E=!1;Br(n(v,d++)).subscribe(Pt(e,w=>{i?.(w),o?g(w):e.next(w)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){const w=c.shift();s?Ei(e,s,()=>_(w)):_(w)}f()}catch(w){e.error(w)}}))};return t.subscribe(Pt(e,g,()=>{h=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function dw(...t){return function kie(){return function lw(t=1/0){return An(Xo,t)}(1)}()(ln(t,Yg(t)))}function hw(t){return new Ge(e=>{Br(t()).subscribe(e)})}function Xg(t,e){const n=Qe(t)?t:()=>t,r=i=>i.error(n());return new Ge(e?i=>e.schedule(r,0,i):r)}const Cr=new Ge(t=>t.complete());function fw(){return Wt((t,e)=>{let n=null;t._refCount++;const r=Pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class l2 extends Ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,EM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tn;const n=this.getSubject();e.add(this.source.subscribe(Pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tn.EMPTY)}return e}refCount(){return fw()(this)}}function Zn(t,e){return Wt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Pt(r,c=>{i?.unsubscribe();let u=0;const d=o++;Br(t(c,d)).subscribe(i=Pt(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Tc(t){return t<=0?()=>Cr:Wt((e,n)=>{let r=0;e.subscribe(Pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ii(t,e){return Wt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Zg(t){return Wt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function d2(t=Vie){return Wt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Vie(){return new Jg}function Rs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,o)=>t(i,o,r)):Xo,Tc(1),n?Zg(e):d2(()=>new Jg))}function gd(t,e){return Qe(e)?An(t,e,1):An(t,1)}function dn(t,e,n){const r=Qe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Wt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Pt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Xo}function wc(t){return Wt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Pt(n,void 0,void 0,s=>{o=Br(t(s,wc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pw(t){return t<=0?()=>Cr:Wt((e,n)=>{let r=[];e.subscribe(Pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function em(t){return Wt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function h2(t){return Wt((e,n)=>{Br(t).subscribe(Pt(n,()=>n.complete(),nv)),!n.closed&&e.subscribe(n)})}class tm{}class nm{}class gr{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof gr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new gr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(e,n){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class jie{encodeKey(e){return f2(e)}encodeValue(e){return f2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $ie=/%(\d[a-f0-9])/gi,Hie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function f2(t){return encodeURIComponent(t).replace($ie,(e,n)=>Hie[n]??e)}function rm(t){return`${t}`}class lo{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new jie,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=function Bie(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(rm):[rm(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new lo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(rm(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(rm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zie{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function p2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function g2(t){return typeof Blob<"u"&&t instanceof Blob}function m2(t){return typeof FormData<"u"&&t instanceof FormData}const md="Content-Type",gw="X-Request-URL",_2="text/plain",y2="application/json",v2=`${y2}, ${_2}, */*`;class _d{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){let o;if(this.url=n,this.method=e.toUpperCase(),function Gie(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new L(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new gr,this.context??=new zie,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new lo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||p2(this.body)||g2(this.body)||m2(this.body)||function qie(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof lo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||m2(this.body)?null:g2(this.body)?this.body.type||null:p2(this.body)?null:"string"==typeof this.body?_2:this.body instanceof lo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?y2:null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.referrer||this.referrer,f=e.integrity||this.integrity,g=e.transferCache??this.transferCache,_=e.timeout??this.timeout,v=void 0!==e.body?e.body:this.body,E=e.withCredentials??this.withCredentials,w=e.reportProgress??this.reportProgress;let S=e.headers||this.headers,V=e.params||this.params;const H=e.context??this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((G,X)=>G.set(X,e.setHeaders[X]),S)),e.setParams&&(V=Object.keys(e.setParams).reduce((G,X)=>G.set(X,e.setParams[X]),V)),new _d(n,r,v,{params:V,headers:S,context:H,reportProgress:w,responseType:i,withCredentials:E,transferCache:g,keepalive:o,cache:a,priority:s,timeout:_,mode:c,redirect:u,credentials:d,referrer:h,integrity:f})}}var $r=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($r||{});class mw{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new gr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}}class om extends mw{constructor(e={}){super(e)}type=$r.ResponseHeader;clone(e={}){return new om({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bc extends mw{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=$r.Response;clone(e={}){return new bc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}}class ho extends mw{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function _w(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}let I2=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof _d)o=n;else{let c,u;c=i.headers instanceof gr?i.headers:new gr(i.headers),i.params&&(u=i.params instanceof lo?i.params:new lo({fromObject:i.params})),o=new _d(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}const s=ue(o).pipe(gd(c=>this.handler.handle(c)));if(n instanceof _d||"events"===i.observe)return s;const a=s.pipe(Ii(c=>c instanceof bc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new L(2806,!1);return c.body}));case"blob":return a.pipe(_e(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new L(2807,!1);return c.body}));case"text":return a.pipe(_e(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new L(2808,!1);return c.body}));default:return a.pipe(_e(c=>c.body))}case"response":return a;default:throw new L(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new lo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,_w(i,r))}post(n,r,i={}){return this.request("POST",n,_w(i,r))}put(n,r,i={}){return this.request("PUT",n,_w(i,r))}static \u0275fac=function(r){return new(r||t)(he(tm))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const w2=new $("");function b2(t,e){return e(t)}const yd=new $(""),C2=new $(""),A2=new $("",{providedIn:"root",factory:()=>!0});let S2=(()=>{class t extends tm{backend;injector;chain=null;pendingTasks=x(rl);contributeToStability=x(A2);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(yd),...this.injector.get(C2,[])]));this.chain=r.reduceRight((i,o)=>function Zie(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}(i,o,this.injector),b2)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(em(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(he(nm),he(Gt))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const ooe=/^\)\]\}',?\n/,soe=RegExp(`^${gw}:`,"m");let D2=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new L(-2800,!1);const r=this.xhrFactory;return ue(null).pipe(Zn(()=>new Ge(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,w)=>s.setRequestHeader(E,w.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",v2),!n.headers.has(md)){const E=n.detectContentTypeHeader();null!==E&&s.setRequestHeader(md,E)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const E=n.responseType.toLowerCase();s.responseType="json"!==E?E:"text"}const a=n.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const E=s.statusText||"OK",w=new gr(s.getAllResponseHeaders()),S=function aoe(t){return"responseURL"in t&&t.responseURL?t.responseURL:soe.test(t.getAllResponseHeaders())?t.getResponseHeader(gw):null}(s)||n.url;return c=new om({headers:w,status:s.status,statusText:E,url:S}),c},d=()=>{let{headers:E,status:w,statusText:S,url:V}=u(),H=null;204!==w&&(H=typeof s.response>"u"?s.responseText:s.response),0===w&&(w=H?200:0);let G=w>=200&&w<300;if("json"===n.responseType&&"string"==typeof H){const X=H;H=H.replace(ooe,"");try{H=""!==H?JSON.parse(H):null}catch(A){H=X,G&&(G=!1,H={error:A,text:H})}}G?(o.next(new bc({body:H,headers:E,status:w,statusText:S,url:V||void 0})),o.complete()):o.error(new ho({error:H,headers:E,status:w,statusText:S,url:V||void 0}))},h=E=>{const{url:w}=u(),S=new ho({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(S)};let f=h;n.timeout&&(f=E=>{const{url:w}=u(),S=new ho({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(S)});let g=!1;const _=E=>{g||(o.next(u()),g=!0);let w={type:$r.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),"text"===n.responseType&&s.responseText&&(w.partialText=s.responseText),o.next(w)},v=E=>{let w={type:$r.UploadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",f),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:$r.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(he(aM))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();const Ew=new $(""),P2=new $("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),N2=new $("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class M2{}let loe=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=sM(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(he(hr),he(P2))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();function doe(t,e){const n=t.url.toLowerCase();if(!x(Ew)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=x(M2).getToken(),i=x(N2);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}const goe=new $(""),moe="b",_oe="h",yoe="s",voe="st",Eoe="u",Ioe="rt",Iw=new $(""),Toe=["GET","HEAD"];function woe(t,e){const{isCacheActive:n,...r}=x(Iw),{transferCache:i,method:o}=t;if(!n||!1===i||"POST"===o&&!r.includePostRequests&&!i||"POST"!==o&&!Toe.includes(o)||!r.includeRequestsWithAuthHeaders&&function boe(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}(t)||!1===r.filter?.(t))return e(t);const s=x(Xi);if(x(goe,{optional:!0}))throw new L(2803,!1);const u=function Coe(t,e){const{params:n,method:r,responseType:i}=t,o=x2(n);let s=t.serializeBody();s instanceof URLSearchParams?s=x2(s):"string"!=typeof s&&(s="");const c=function Aoe(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,i,e,s,o].join("|"));return c}(t,t.url),d=s.get(u,null);let h=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(h=i.includeHeaders),d){const{[moe]:g,[Ioe]:_,[_oe]:v,[yoe]:E,[voe]:w,[Eoe]:S}=d;let V=g;switch(_){case"arraybuffer":V=(new TextEncoder).encode(g).buffer;break;case"blob":V=new Blob([g])}let H=new gr(v);return ue(new bc({body:V,headers:H,status:E,statusText:w,url:S}))}return e(t)}function x2(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Soe(t){return[{provide:Iw,useFactory:()=>(Nt("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:C2,useValue:woe,multi:!0},{provide:Ql,multi:!0,useFactory:()=>{const e=x(Xn),n=x(Iw);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}let Roe=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(he(hr))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var po=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(po||{});const me="primary",Ed=Symbol("RouteTitle");class xoe{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Cc(t){return new xoe(t)}function Ooe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hr(t,e){const n=t?Tw(t):void 0,r=e?Tw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!L2(t[i],e[i]))return!1;return!0}function Tw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function L2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function F2(t){return t.length>0?t[t.length-1]:null}function Ti(t){return function Fre(t){return!!t&&(t instanceof Ge||Qe(t.lift)&&Qe(t.subscribe))}(t)?t:hg(t)?ln(Promise.resolve(t)):ue(t)}const Loe={exact:function B2(t,e,n){if(!Ns(t.segments,e.segments)||!sm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!B2(t.children[r],e.children[r],n))return!1;return!0},subset:$2},U2={exact:function Foe(t,e){return Hr(t,e)},subset:function Uoe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>L2(t[n],e[n]))},ignored:()=>!0};function j2(t,e,n){return Loe[n.paths](t.root,e.root,n.matrixParams)&&U2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $2(t,e,n){return H2(t,e,e.segments,n)}function H2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ns(i,n)||e.hasChildren()||!sm(i,n,r))}if(t.segments.length===n.length){if(!Ns(t.segments,n)||!sm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ns(t.segments,i)&&sm(t.segments,i,r)&&t.children[me])&&H2(t.children[me],e,o,r)}}function sm(t,e,n){return e.every((r,i)=>U2[n](t[i].parameters,r.parameters))}class Ps{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cc(this.queryParams),this._queryParamMap}toString(){return $oe.serialize(this)}}class je{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return um(this)}}class Id{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Cc(this.parameters),this._parameterMap}toString(){return q2(this)}}function Ns(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let am=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new cm,providedIn:"root"})}return t})();class cm{parse(e){const n=new Zoe(e);return new Ps(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Td(e.root,!0)}`,r=function Goe(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${lm(n)}=${lm(i)}`).join("&"):`${lm(n)}=${lm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Hoe(t){return encodeURI(t)}(e.fragment)}`:""}`}}const $oe=new cm;function um(t){return t.segments.map(e=>q2(e)).join("/")}function Td(t,e){if(!t.hasChildren())return um(t);if(e){const n=t.children[me]?Td(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Td(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Boe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===me?[Td(t.children[me],!1)]:[`${i}:${Td(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${um(t)}/${n[0]}`:`${um(t)}/(${n.join("//")})`}}function z2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lm(t){return z2(t).replace(/%3B/gi,";")}function ww(t){return z2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dm(t){return decodeURIComponent(t)}function G2(t){return dm(t.replace(/\+/g,"%20"))}function q2(t){return`${ww(t.path)}${function zoe(t){return Object.entries(t).map(([e,n])=>`;${ww(e)}=${ww(n)}`).join("")}(t.parameters)}`}const qoe=/^[^\/()?;#]+/;function bw(t){const e=t.match(qoe);return e?e[0]:""}const Woe=/^[^\/()?;=#]+/,Qoe=/^[^=?&#]+/,Joe=/^[^&#]+/;class Zoe{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new je(e,n)),r}parseSegment(){const e=bw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Id(dm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Koe(t){const e=t.match(Woe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=bw(this.remaining);i&&(r=i,this.capture(r))}e[dm(n)]=dm(r)}parseQueryParam(e){const n=function Yoe(t){const e=t.match(Qoe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Xoe(t){const e=t.match(Joe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=G2(n),o=G2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[me]:new je([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}}function W2(t){return t.segments.length>0?new je([],{[me]:t}):t}function K2(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=K2(i);if(r===me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ese(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new je(t.segments.concat(e.segments),e.children)}return t}(new je(t.segments,e))}function Ms(t){return t instanceof Ps}function Q2(t){let e;const i=W2(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new je(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function Y2(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Cw(i,i,i,n,r);const o=function nse(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new X2(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new X2(n,e,r)}(e);if(o.toRoot())return Cw(i,i,new je([],{}),n,r);const s=function rse(t,e,n){if(t.isAbsolute)return new fm(e,!0,0);if(!n)return new fm(e,!1,NaN);if(null===n.parent)return new fm(n,!0,0);const r=hm(t.commands[0])?0:1;return function ise(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new fm(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?bd(s.segmentGroup,s.index,o.commands):Z2(s.segmentGroup,s.index,o.commands);return Cw(i,s.segmentGroup,a,n,r)}function hm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function wd(t){return"object"==typeof t&&null!=t&&t.outlets}function Cw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=t===e?n:J2(t,e,n);const a=W2(K2(s));return new Ps(a,o,i)}function J2(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:J2(o,e,n)}),new je(t.segments,r)}class X2{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hm(r[0]))throw new L(4003,!1);const i=r.find(wd);if(i&&i!==F2(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fm{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Z2(t,e,n){if(t??=new je([],{}),0===t.segments.length&&t.hasChildren())return bd(t,e,n);const r=function sse(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(wd(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!tU(c,u,s))return o;r+=2}else{if(!tU(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new je(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new je(t.segments.slice(r.pathIndex),t.children),bd(o,0,i)}return r.match&&0===i.length?new je(t.segments,{}):r.match&&!t.hasChildren()?Aw(t,e,n):r.match?bd(t,0,i):Aw(t,e,n)}function bd(t,e,n){if(0===n.length)return new je(t.segments,{});{const r=function ose(t){return wd(t[0])?t[0].outlets:{[me]:t}}(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&1===t.numberOfChildren&&0===t.children[me].segments.length){const o=bd(t.children[me],e,n);return new je(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Z2(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new je(t.segments,i)}}function Aw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(wd(o)){const c=ase(o.outlets);return new je(r,c)}if(0===i&&hm(n[0])){r.push(new Id(t.segments[e].path,eU(n[0]))),i++;continue}const s=wd(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&hm(a)?(r.push(new Id(s,eU(a))),i+=2):(r.push(new Id(s,{})),i++)}return new je(r,{})}function ase(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Aw(new je([],{}),0,r))}),e}function eU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tU(t,e,n){return t==n.path&&Hr(e,n.parameters)}const pm="imperative";var Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{});class zr{id;url;constructor(e,n){this.id=e,this.url=n}}class Sw extends zr{type=Ce.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends zr{urlAfterRedirects;type=Ce.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Hn||{}),Rw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rw||{});class xs extends zr{reason;code;type=Ce.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cd extends zr{reason;code;type=Ce.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class Dw extends zr{error;target;type=Ce.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nU extends zr{urlAfterRedirects;state;type=Ce.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cse extends zr{urlAfterRedirects;state;type=Ce.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class use extends zr{urlAfterRedirects;state;shouldActivate;type=Ce.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lse extends zr{urlAfterRedirects;state;type=Ce.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dse extends zr{urlAfterRedirects;state;type=Ce.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hse{route;type=Ce.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fse{route;type=Ce.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pse{snapshot;type=Ce.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gse{snapshot;type=Ce.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mse{snapshot;type=Ce.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _se{snapshot;type=Ce.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{}class gm{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Ar(t){return t.outlet||me}function Ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class bse{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ac(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ad(this.rootInjector)}}let Ad=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bse(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(he(Gt))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class rU{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Nw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Nw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Mw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mw(e,this._root).map(n=>n.value)}}function Nw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Nw(t,n);if(r)return r}return null}function Mw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Mw(t,n);if(r.length)return r.unshift(e),r}return[]}class Sr{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Sc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class iU extends rU{snapshot;constructor(e,n){super(e),this.snapshot=n,kw(this,e)}toString(){return this.snapshot.toString()}}function oU(t){const e=function Cse(t){const o=new _m([],{},{},"",{},me,t,null,{});return new sU("",new Sr(o,[]))}(t),n=new ar([new Id("",{})]),r=new ar({}),i=new ar({}),o=new ar({}),s=new ar(""),a=new Os(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new iU(new Sr(a,[]),e)}class Os{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(u=>u[Ed]))??ue(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(e=>Cc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(e=>Cc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mm(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&cU(i)&&(r.resolve[Ed]=i.title),r}class _m{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ed]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sU extends rU{url;constructor(e,n){super(n),this.url=e,kw(this,n)}toString(){return aU(this._root)}}function kw(t,e){e.value._routerState=t,e.children.forEach(n=>kw(t,n))}function aU(t){const e=t.children.length>0?` { ${t.children.map(aU).join(", ")} } `:"";return`${t.value}${e}`}function xw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hr(e.params,n.params)||t.paramsSubject.next(n.params),function Voe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ow(t,e){const n=Hr(t.params,e.params)&&function joe(t,e){return Ns(t,e)&&t.every((n,r)=>Hr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Ow(t.parent,e.parent))}function cU(t){return"string"==typeof t.title||null===t.title}const Ase=new $("");let Vw=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=ene(void 0);parentContexts=x(Ad);location=x(eg);changeDetector=x($g);inputBinder=x(Lw,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sse(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pi]})}return t})();class Sse{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Os?this.route:e===Ad?this.childContexts:e===Ase?this.outletData:this.parent.get(e,n)}}const Lw=new $("");let uU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=$l({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&ed(0,"router-outlet")},dependencies:[Vw],encapsulation:2})}return t})();function Fw(t){const e=t.children&&t.children.map(Fw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=uU),n}function Sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Dse(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sd(t,r,i);return Sd(t,r)})}(t,e,n);return new Sr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Sd(t,a)),s}}const r=function Pse(t){return new Os(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Sd(t,o));return new Sr(r,i)}}class Uw{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const lU="ngNavigationCancelingError";function ym(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dU(!1,Hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dU(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[lU]=!0,n.cancellationCode=e,n}function hU(t){return!!t&&t[lU]}class kse{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Sc(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Sc(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Sc(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Sc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _se(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gse(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(xw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class fU{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vm{component;route;constructor(e,n){this.component=e,this.route=n}}function xse(t,e,n){const r=t._root;return Rd(r,e?e._root:null,n,[r.value])}function Rc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function KW(t){return null!==Sf(t)}(t)?e.get(t):t:r}function Rd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sc(e);return t.children.forEach(s=>{(function Vse(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Lse(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(t.url,e.url)||!Hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ow(t,e)||!Hr(t.queryParams,e.queryParams);default:return!Ow(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new fU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rd(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vm(a.outlet.component,s))}else s&&Dd(e,a,i),i.canActivateChecks.push(new fU(r)),Rd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dd(a,n.getContext(s),i)),i}function Dd(t,e,n){const r=Sc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Dd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pd(t){return"function"==typeof t}function pU(t){return t instanceof Jg||"EmptyError"===t?.name}const Em=Symbol("INITIAL_VALUE");function Dc(){return Zn(t=>c2(t.map(e=>e.pipe(Tc(1),function Oie(...t){const e=Yg(t);return Wt((n,r)=>{(e?dw(t,n,e):dw(t,n)).subscribe(r)})}(Em)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===Em)return Em;if(!1===n||zse(n))return n}return!0}),Ii(e=>e!==Em),Tc(1)))}function zse(t){return Ms(t)||t instanceof Uw}function gU(t){return function OW(...t){return YP(t)}(dn(e=>{if("boolean"!=typeof e)throw ym(0,e)}),_e(e=>!0===e))}class jw{segmentGroup;constructor(e){this.segmentGroup=e||null}}class Bw extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function Pc(t){return Xg(new jw(t))}function tae(t){return Xg(new L(4e3,!1))}class rae{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ue(r);if(i.numberOfChildren>1||!i.children[me])return tae();i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){return function iae(t,e,n){if("string"==typeof t)return ue(t);const r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:h}=e;return Ti(rn(n,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:h})))}(n,i,o).pipe(_e(s=>{if(s instanceof Ps)throw new Bw(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if("/"===s[0])throw new Bw(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ps(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new je(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const $w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oae(t,e,n,r,i){const o=mU(t,e,n);return o.matched?(r=function vse(t,e){return t.providers&&!t._injector&&(t._injector=OI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function eae(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ue(i.map(s=>{const a=Rc(s,t);return Ti(function Hse(t){return t&&Pd(t.canMatch)}(a)?a.canMatch(e,n):rn(t,()=>a(e,n)))})).pipe(Dc(),gU()):ue(!0)}(r,e,n).pipe(_e(s=>!0===s?o:{...$w}))):ue(o)}function mU(t,e,n){if("**"===e.path)return function sae(t){return{matched:!0,parameters:t.length>0?F2(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...$w}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ooe)(n,t,e);if(!i)return{...$w};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _U(t,e,n,r){return n.length>0&&function uae(t,e,n){return n.some(r=>Im(t,e,r)&&Ar(r)!==me)}(t,n,r)?{segmentGroup:new je(e,cae(r,new je(n,t.children))),slicedSegments:[]}:0===n.length&&function lae(t,e,n){return n.some(r=>Im(t,e,r))}(t,n,r)?{segmentGroup:new je(t.segments,aae(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new je(t.segments,t.children),slicedSegments:n}}function aae(t,e,n,r){const i={};for(const o of n)if(Im(t,e,o)&&!r[Ar(o)]){const s=new je([],{});i[Ar(o)]=s}return{...r,...i}}function cae(t,e){const n={};n[me]=e;for(const r of t)if(""===r.path&&Ar(r)!==me){const i=new je([],{});n[Ar(r)]=i}return n}function Im(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class hae{}class gae{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rae(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){const e=_U(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(({children:n,rootSnapshot:r})=>{const i=new Sr(r,n),o=new sU("",i),s=function tse(t,e,n=null,r=null){return Y2(Q2(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new _m([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(_e(r=>({children:r,rootSnapshot:n})),wc(r=>{if(r instanceof Bw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof jw?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(_e(s=>s instanceof Sr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return ln(o).pipe(gd(s=>{const a=r.children[s],c=function wse(t,e){const n=t.filter(r=>Ar(r)===e);return n.push(...t.filter(r=>Ar(r)!==e)),n}(n,s);return this.processSegmentGroup(e,c,a,s,i)}),function Fie(t,e){return Wt(function Lie(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Pt(s,d=>{const h=u++;c=a?t(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Zg(null),function Uie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,o)=>t(i,o,r)):Xo,pw(1),n?Zg(e):d2(()=>new Jg))}(),An(s=>{if(null===s)return Pc(r);const a=yU(s);return function mae(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(a),ue(a)}))}processSegment(e,n,r,i,o,s,a){return ln(n).pipe(gd(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(wc(u=>{if(u instanceof jw)return ue(null);throw u}))),Rs(c=>!!c),wc(c=>{if(pU(c))return function dae(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ue(new hae):Pc(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Ar(r)===s||s!==me&&Im(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Pc(i):Pc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=mU(n,i,o);if(!c)return Pc(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new _m(o,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vU(i),Ar(i),i.component??i._loadedComponent??null,i,EU(i)),_=mm(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(_.params),g.data=Object.freeze(_.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e).pipe(Zn(E=>this.applyRedirects.lineralizeSegments(i,E)),An(E=>this.processSegment(e,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=oae(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(Zn(c=>c.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Zn(({routes:u})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=c,_=new _m(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vU(r),Ar(r),r.component??r._loadedComponent??null,r,EU(r)),v=mm(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:E,slicedSegments:w}=_U(n,f,g,u);if(0===w.length&&E.hasChildren())return this.processChildren(d,u,E,_).pipe(_e(V=>new Sr(_,V)));if(0===u.length&&0===w.length)return ue(new Sr(_,[]));const S=Ar(r)===o;return this.processSegment(d,u,E,w,S?me:o,!0,_).pipe(_e(V=>new Sr(_,V instanceof Sr?[V]:[])))})):Pc(n)))}getChildConfig(e,n,r){return n.children?ue({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ue({routes:n._loadedRoutes,injector:n._loadedInjector}):function Zse(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ue(!0):ue(i.map(s=>{const a=Rc(s,t);return Ti(function Use(t){return t&&Pd(t.canLoad)}(a)?a.canLoad(e,n):rn(t,()=>a(e,n)))})).pipe(Dc(),gU())}(e,n,r).pipe(An(i=>i?this.configLoader.loadChildren(e,n).pipe(dn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function nae(){return Xg(dU(!1,Hn.GuardRejected))}())):ue({routes:[],injector:e})}}function _ae(t){const e=t.value.routeConfig;return e&&""===e.path}function yU(t){const e=[],n=new Set;for(const r of t){if(!_ae(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=yU(r.children);e.push(new Sr(r.value,i))}return e.filter(r=>!n.has(r))}function vU(t){return t.data||{}}function EU(t){return t.resolve||{}}function IU(t){const e=t.children.map(n=>IU(n)).flat();return[t,...e]}function Hw(t){return Zn(e=>{const n=t(e);return n?ln(n).pipe(_e(()=>e)):ue(e)})}let TU=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[Ed]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(wae),providedIn:"root"})}return t})(),wae=(()=>{class t extends TU{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(he(Roe))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Tm=new $("",{providedIn:"root",factory:()=>({})}),zw=new $("");let wU=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Xee);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ue(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ti(rn(n,()=>r.loadComponent())).pipe(_e(bU),Zn(CU),dn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),em(()=>{this.componentLoaders.delete(r)})),o=new l2(i,()=>new Nn).pipe(fw());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function bae(t,e,n,r){return Ti(rn(n,()=>t.loadChildren())).pipe(_e(bU),Zn(CU),An(i=>i instanceof sO||Array.isArray(i)?ue(i):ln(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(zw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fw),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(em(()=>{this.childrenLoaders.delete(r)})),s=new l2(o,()=>new Nn).pipe(fw());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bU(t){return function Cae(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function CU(t){return ue(t)}let Gw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(Aae),providedIn:"root"})}return t})(),Aae=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Sae=new $(""),Pae=new $("");let Nae=(()=>{class t{currentNavigation=Lt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Nn;transitionAbortWithErrorSubject=new Nn;configLoader=x(wU);environmentInjector=x(Gt);destroyRef=x(Jn);urlSerializer=x(am);rootContexts=x(Ad);location=x(ol);inputBindingEnabled=null!==x(Lw,{optional:!0});titleStrategy=x(TU);options=x(Tm,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Gw);createViewTransition=x(Sae,{optional:!0});navigationErrorHandler=x(Pae,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new fse(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hse(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;it(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new ar(null),this.transitions.pipe(Ii(r=>null!==r),Zn(r=>{let i=!1;return ue(r).pipe(Zn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Hn.SupersededByNewNavigation),Cr;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:"string"==typeof o.extras.browserUrl?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>o.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Cd(o.id,this.urlSerializer.serialize(o.rawUrl),"",Rw.IgnoredSameUrlNavigation)),o.resolve(!1),Cr;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ue(o).pipe(Zn(c=>(this.events.next(new Sw(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Cr:Promise.resolve(c))),function yae(t,e,n,r,i,o){return An(s=>function fae(t,e,n,r,i,o,s="emptyOnly"){return new gae(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),dn(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));const u=new nU(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){const{id:c,extractedUrl:u,source:d,restoredState:h,extras:f}=o,g=new Sw(c,this.urlSerializer.serialize(u),d,h);this.events.next(g);const _=oU(this.rootComponentType).snapshot;return this.currentTransition=r={...o,targetSnapshot:_,urlAfterRedirects:u,extras:{...f,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(v=>(v.finalUrl=u,v)),ue(r)}return this.events.next(new Cd(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Rw.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Cr}),dn(o=>{const s=new cse(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),_e(o=>(this.currentTransition=r={...o,guards:xse(o.targetSnapshot,o.currentSnapshot,this.rootContexts)},r)),function Gse(t,e){return An(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ue({...n,guardsResult:!0}):function qse(t,e,n,r){return ln(t).pipe(An(i=>function Xse(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ue(o.map(a=>{const c=Ac(e)??i,u=Rc(a,c);return Ti(function $se(t){return t&&Pd(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):rn(c,()=>u(t,e,n,r))).pipe(Rs())})).pipe(Dc()):ue(!0)}(i.component,i.route,n,e,r)),Rs(i=>!0!==i,!0))}(s,r,i,t).pipe(An(a=>a&&function Fse(t){return"boolean"==typeof t}(a)?function Wse(t,e,n,r){return ln(e).pipe(gd(i=>dw(function Qse(t,e){return null!==t&&e&&e(new pse(t)),ue(!0)}(i.route.parent,r),function Kse(t,e){return null!==t&&e&&e(new mse(t)),ue(!0)}(i.route,r),function Jse(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Ose(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>hw(()=>ue(s.guards.map(c=>{const u=Ac(s.node)??n,d=Rc(c,u);return Ti(function Bse(t){return t&&Pd(t.canActivateChild)}(d)?d.canActivateChild(r,t):rn(u,()=>d(r,t))).pipe(Rs())})).pipe(Dc())));return ue(o).pipe(Dc())}(t,i.path,n),function Yse(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ue(!0);const i=r.map(o=>hw(()=>{const s=Ac(e)??n,a=Rc(o,s);return Ti(function jse(t){return t&&Pd(t.canActivate)}(a)?a.canActivate(e,t):rn(s,()=>a(e,t))).pipe(Rs())}));return ue(i).pipe(Dc())}(t,i.route,n))),Rs(i=>!0!==i,!0))}(r,o,t,e):ue(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),dn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&"boolean"!=typeof o.guardsResult)throw ym(0,o.guardsResult);const s=new use(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ii(o=>!!o.guardsResult||(this.cancelNavigationTransition(o,"",Hn.GuardRejected),!1)),Hw(o=>{if(0!==o.guards.canActivateChecks.length)return ue(o).pipe(dn(s=>{const a=new lse(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Zn(s=>{let a=!1;return ue(s).pipe(function vae(t,e){return An(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ue(n);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const u of IU(c))s.add(u);let a=0;return ln(s).pipe(gd(c=>o.has(c)?function Eae(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!cU(i)&&(o[Ed]=i.title),hw(()=>(t.data=mm(t,t.parent,n).resolve,function Iae(t,e,n,r){const i=Tw(t);if(0===i.length)return ue({});const o={};return ln(i).pipe(An(s=>function Tae(t,e,n,r){const i=Ac(e)??r,o=Rc(t,i);return Ti(o.resolve?o.resolve(e,n):rn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(Rs(),dn(a=>{if(a instanceof Uw)throw ym(new cm,a);o[s]=a}))),pw(1),_e(()=>o),wc(s=>pU(s)?Cr:Xg(s)))}(o,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data={...t.data,...s},null)))))}(c,r,t,e):(c.data=mm(c,c.parent,t).resolve,ue(void 0))),dn(()=>a++),pw(1),An(c=>a===s.size?ue(n):Cr))})}(this.paramsInheritanceStrategy,this.environmentInjector),dn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Hn.NoDataFromResolver)}}))}),dn(s=>{const a=new dse(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Hw(o=>{const s=a=>{const c=[];if(a.routeConfig?.loadComponent){const u=Ac(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(dn(d=>{a.component=d}),_e(()=>{})))}for(const u of a.children)c.push(...s(u));return c};return c2(s(o.targetSnapshot.root)).pipe(Zg(null),Tc(1))}),Hw(()=>this.afterPreactivation()),Zn(()=>{const{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ln(a).pipe(_e(()=>r)):ue(r)}),_e(o=>{const s=function Rse(t,e,n){const r=Sd(t,e._root,n?n._root:void 0);return new iU(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r={...o,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),dn(()=>{this.events.next(new Pw)}),((t,e,n,r)=>_e(i=>(new kse(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Tc(1),h2(new Ge(o=>{const s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ii(()=>!i&&!r.targetRouterState),dn(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Hn.Aborted)}))),dn({next:o=>{i=!0,this.lastSuccessfulNavigation=it(this.currentNavigation),this.events.next(new ks(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),h2(this.transitionAbortWithErrorSubject.pipe(dn(o=>{throw o}))),em(()=>{i||this.cancelNavigationTransition(r,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),wc(o=>{if(this.destroyed)return r.resolve(!1),Cr;if(i=!0,hU(o))this.events.next(new xs(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),function Nse(t){return hU(t)&&Ms(t.url)}(o)?this.events.next(new gm(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{const s=new Dw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{const a=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof Uw))throw this.events.next(s),o;{const{message:c,cancellationCode:u}=ym(0,a);this.events.next(new xs(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new gm(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Cr}))}))}cancelNavigationTransition(n,r,i){const o=new xs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=it(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mae(t){return t!==pm}let kae=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(Oae),providedIn:"root"})}return t})();class xae{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Oae=(()=>{class t extends xae{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ft(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AU=(()=>{class t{urlSerializer=x(am);options=x(Tm,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(ol);urlHandlingStrategy=x(Gw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ps;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ps?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=oU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>x(Vae),providedIn:"root"})}return t})(),Vae=(()=>{class t extends AU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Sw?this.updateStateMemento():n instanceof Cd?this.commitTransition(r):n instanceof nU?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Pw?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof xs&&n.code!==Hn.SupersededByNewNavigation&&n.code!==Hn.Redirect?this.restoreHistory(r):n instanceof Dw?this.restoreHistory(r,!0):n instanceof ks&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,c={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",c)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ft(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Wl);stateManager=x(AU);options=x(Tm,{optional:!0})||{};pendingTasks=x(Qi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Nae);urlSerializer=x(am);location=x(ol);urlHandlingStrategy=x(Gw);injector=x(Gt);_events=new Nn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(kae);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(zw,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Lw,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new tn;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=it(this.navigationTransitions.currentNavigation);if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof xs&&r.code!==Hn.Redirect&&r.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ks)this.navigated=!0;else if(r instanceof gm){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Mae(i.source),...s};this.scheduleNavigation(a,pm,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function yse(t){return!(t instanceof Pw||t instanceof gm)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Or)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return it(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=Q2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return Y2(h,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ms(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pm,null,r)}navigate(n,r={skipLocationChange:!1}){return function jae(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new L(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Fae}:!1===r?{...Uae}:r,Ms(n))return j2(this.currentUrlTree,n,i);const o=this.parseUrl(n);return j2(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,f)=>{a=h,c=f});const d=this.pendingTasks.add();return function Lae(t,e){t.events.pipe(Ii(n=>n instanceof ks||n instanceof xs||n instanceof Dw||n instanceof Cd),_e(n=>n instanceof ks||n instanceof Cd?0:n instanceof xs&&(n.code===Hn.Redirect||n.code===Hn.SupersededByNewNavigation)?2:1),Ii(n=>2!==n),Tc(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nd=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Lt(null);get href(){return it(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Nn;applicationErrorHandler=x(Or);options=x(Tm,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Jte("href"),{optional:!0}));const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c||!("object"!=typeof customElements||!customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let n=this.preserveFragment;const r=i=>"merge"===i||"preserve"===i;n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ks&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ms(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;if(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))return!0;const c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.reactiveHref.set(null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:Ms(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(J(Nc),J(Os),op("tabindex"),J(_s),J(wr),J(Kf))};static \u0275dir=Ie({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){1&r&&Cn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&jr("href",i.reactiveHref(),lk)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ic],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ic],replaceUrl:[2,"replaceUrl","replaceUrl",Ic],routerLink:"routerLink"},features:[pi]})}return t})();const qw=new $("");function RU(t){return t.routerState.root}function DU(){const t=x(cn);return e=>{const n=t.get(Xn);if(e!==n.components[0])return;const r=t.get(Nc),i=t.get(PU);1===t.get(Ww)&&r.initialNavigation(),t.get(NU,null,{optional:!0})?.setUpPreloading(),t.get(qw,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const PU=new $("",{factory:()=>new Nn}),Ww=new $("",{providedIn:"root",factory:()=>1}),NU=new $(""),kU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let f=(15&a)<<2|u>>6,g=63&u;c||(g=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new Zae;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wm=function(t){return function(t){const e=kU(t);return Qw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Md=function(t){try{return Qw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const bm=()=>{try{return function OU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Md(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},VU=()=>{var t;return null===(t=bm())||void 0===t?void 0:t.config};class Cm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Yw(){return(Yw=C(function*(t){return(yield fetch(t,{credentials:"include"})).ok})).apply(this,arguments)}const xd={};let LU=!1;function hce(t,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||xd[t]===e||xd[t]||LU)return;function n(f){return`__firebase__banner__${f}`}xd[t]=e;const r="__firebase__banner",o=function lce(){const t={prod:[],emulator:[]};for(const e of Object.keys(xd))xd[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function h(){const f=function dce(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),S=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const V=f.element;(function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"})(V),function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}(E,v);const H=function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{LU=!0,function s(){const f=document.getElementById(r);f&&f.remove()}()},f}();(function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"})(S,w),V.append(S,_,E,H),document.body.appendChild(V)}o?(_.innerText="Preview backend disconnected.",S.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(S.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h()}function Qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function UU(){return!function FU(){var t;const e=null===(t=bm())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return"object"==typeof indexedDB}catch{return!1}}class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Ece(t,e){return t.replace(Ice,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new wi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Ice=/\{\$([^}]+)}/g;function kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if($U(o)&&$U(s)){if(!kc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $U(t){return null!==t&&"object"==typeof t}function Xw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class wce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function bce(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Zw),void 0===i.error&&(i.error=Zw),void 0===i.complete&&(i.complete=Zw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zw(){}function hn(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vs="[DEFAULT]";class Pce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Mce(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Vs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const tb=[];var Te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Te||{});const HU={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},xce=Te.INFO,Oce={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Vce=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Oce[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Sm{constructor(e){this.name=e,this._logLevel=xce,this._logHandler=Vce,this._userLogHandler=null,tb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}let zU,GU;const qU=new WeakMap,nb=new WeakMap,WU=new WeakMap,rb=new WeakMap,ib=new WeakMap;let ob={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zce(t){return"function"==typeof t?function Hce(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uce(){return GU||(GU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sb(this),e),go(qU.get(this))}:function(...e){return go(t.apply(sb(this),e))}:function(e,...n){const r=t.call(sb(this),e,...n);return WU.set(r,e.sort?e.sort():[e]),go(r)}}(t):(t instanceof IDBTransaction&&function Bce(t){if(nb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nb.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Fce(){return zU||(zU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ob):t)}function go(t){if(t instanceof IDBRequest)return function jce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(go(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&qU.set(n,t)}).catch(()=>{}),ib.set(e,t),e}(t);if(rb.has(t))return rb.get(t);const e=zce(t);return e!==t&&(rb.set(t,e),ib.set(e,t)),e}const sb=t=>ib.get(t),qce=["get","getKey","getAll","getAllKeys","count"],Wce=["put","add","delete","clear"],ab=new Map;function KU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ab.get(e))return ab.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qce.includes(n))return;const o=function(){var s=C(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return ab.set(e,o),o}!function $ce(t){ob=t(ob)}(t=>({...t,get:(e,n,r)=>KU(e,n)||t.get(e,n,r),has:(e,n)=>!!KU(e,n)||t.has(e,n)}));class Kce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Qce(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Rm="@firebase/app",Ci=new Sm("@firebase/app"),Yce="@firebase/app-compat",Jce="@firebase/analytics-compat",Xce="@firebase/analytics",Zce="@firebase/app-check-compat",eue="@firebase/app-check",tue="@firebase/auth",nue="@firebase/auth-compat",rue="@firebase/database",iue="@firebase/data-connect",oue="@firebase/database-compat",sue="@firebase/functions",aue="@firebase/functions-compat",cue="@firebase/installations",uue="@firebase/installations-compat",lue="@firebase/messaging",due="@firebase/messaging-compat",hue="@firebase/performance",fue="@firebase/performance-compat",pue="@firebase/remote-config",gue="@firebase/remote-config-compat",mue="@firebase/storage",_ue="@firebase/storage-compat",yue="@firebase/firestore",vue="@firebase/ai",Eue="@firebase/firestore-compat",Iue="firebase",Dm="[DEFAULT]",wue={[Rm]:"fire-core",[Yce]:"fire-core-compat",[Xce]:"fire-analytics",[Jce]:"fire-analytics-compat",[eue]:"fire-app-check",[Zce]:"fire-app-check-compat",[tue]:"fire-auth",[nue]:"fire-auth-compat",[rue]:"fire-rtdb",[iue]:"fire-data-connect",[oue]:"fire-rtdb-compat",[sue]:"fire-fn",[aue]:"fire-fn-compat",[cue]:"fire-iid",[uue]:"fire-iid-compat",[lue]:"fire-fcm",[due]:"fire-fcm-compat",[hue]:"fire-perf",[fue]:"fire-perf-compat",[pue]:"fire-rc",[gue]:"fire-rc-compat",[mue]:"fire-gcs",[_ue]:"fire-gcs-compat",[yue]:"fire-fst",[Eue]:"fire-fst-compat",[vue]:"fire-vertex","fire-js":"fire-js",[Iue]:"fire-js-all"},Ls=new Map,Od=new Map,Vd=new Map;function QU(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(Vd.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,t);for(const n of Ls.values())QU(n,t);for(const n of Od.values())QU(n,t);return!0}function Ai(t){return null!=t&&void 0!==t.settings}const mr=new Mc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class JU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Pm="11.10.0";function ZU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=VU()),!n)throw mr.create("no-options");const o=Ls.get(i);if(o){if(kc(n,o.options)&&kc(r,o.config))return o;throw mr.create("duplicate-app",{appName:i})}const s=new kce(i);for(const c of Vd.values())s.addComponent(c);const a=new JU(n,r,s);return Ls.set(i,a),a}function ej(t=Dm){const e=Ls.get(t);if(!e&&t===Dm&&VU())return ZU();if(!e)throw mr.create("no-app",{appName:t});return e}function tj(){return Array.from(Ls.values())}function zn(t,e,n){var r;let i=null!==(r=wue[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ci.warn(a.join(" "))}mo(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ld="firebase-heartbeat-store";let lb=null;function nj(){return lb||(lb=function Gce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=go(s);return r&&s.addEventListener("upgradeneeded",c=>{r(go(s.result),c.oldVersion,c.newVersion,go(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Ld)}catch(n){console.warn(n)}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),lb}function db(){return(db=C(function*(t){try{const n=(yield nj()).transaction(Ld),r=yield n.objectStore(Ld).get(ij(t));return yield n.done,r}catch(e){if(e instanceof wi)Ci.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(n.message)}}})).apply(this,arguments)}function rj(t,e){return hb.apply(this,arguments)}function hb(){return(hb=C(function*(t,e){try{const r=(yield nj()).transaction(Ld,"readwrite");yield r.objectStore(Ld).put(e,ij(t)),yield r.done}catch(n){if(n instanceof wi)Ci.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});Ci.warn(r.message)}}})).apply(this,arguments)}function ij(t){return`${t.name}!${t.options.appId}`}class kue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Oue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oj();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function Vue(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){Ci.warn(i)}})()}getHeartbeatsHeader(){var e=this;return C(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=oj(),{heartbeatsToSend:i,unsentEntries:o}=function xue(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wm(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Ci.warn(r),""}})()}}function oj(){return(new Date).toISOString().substring(0,10)}class Oue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!Jw()&&function yce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Pue(t){return db.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return rj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return rj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function sj(t){return wm(JSON.stringify({version:2,heartbeats:t})).length}function fb(t,e){const r=e?.manualCleanup?null:e?.injector?.get(Jn)??x(Jn),i=function $ue(t=Object.is){return(e,n)=>1===e.kind&&1===n.kind&&t(e.value,n.value)}(e?.equal);let o,s;o=Lt(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue},{equal:i});const a=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&0===o().kind)throw new L(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),$n(()=>{const c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new L(601,!1)}},{equal:e?.equal})}!function Lue(t){mo(new bi("platform-logger",e=>new Kce(e),"PRIVATE")),mo(new bi("heartbeat",e=>new kue(e),"PRIVATE")),zn(Rm,"0.13.2",t),zn(Rm,"0.13.2","esm2017"),zn("fire-js","")}(""),zn("firebase","11.10.0","app");class zue extends tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Nm={setInterval(t,e,...n){const{delegate:r}=Nm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Nm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class aj extends zue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Nm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Nm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tf(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const cj={now:()=>(cj.delegate||Date).now(),delegate:void 0};class Fd{constructor(e,n=Fd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Fd.now=cj.now;class uj extends Fd{constructor(e,n=Fd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Wue=new class que extends uj{}(class Gue extends aj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Kue=new uj(aj),pb=new zu("ANGULARFIRE2_VERSION");const mb=(t,e)=>{const n=e?[e]:tj(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};var xc=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(xc||{}),_b=ZL()&&typeof Zone<"u"?xc.WARN:xc.SILENT;class lj{zone;delegate;constructor(e,n=Wue){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},n,r)}}let yb=(()=>{class t{outsideAngular;insideAngular;constructor(){const n=x(ye);this.outsideAngular=n.runOutsideAngular(()=>new lj(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new lj(typeof Zone>"u"?void 0:Zone.current,Kue))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dj=!1;function Fs(t){const e=x(ye,{optional:!0});return e?e.run(()=>t()):t()}const Jue=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),rn(n,()=>Fs(()=>t.apply(void 0,r)))),Oc=(t,e,n)=>(n||=e?xc.WARN:xc.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=x(yb),s=x(rl),a=x(Gt)}catch{return function Que(t,e){!dj&&(_b>xc.SILENT||!1)&&(dj=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_b>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)"function"==typeof i[u]&&(e&&(r||=Fs(()=>s.add())),i[u]=Jue(i[u],r,a));const c=function Yue(t){const e=x(ye,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}(()=>t.apply(this,i));return e?c instanceof Ge?c.pipe(Qg(o.outsideAngular),Kg(o.insideAngular),function Hue(t){void 0===t&&(t=x(cn));const e=t.get(rl);return n=>new Ge(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):c instanceof Promise?Fs(()=>{const u=s.add();return new Promise((d,h)=>{c.then(f=>rn(a,()=>Fs(()=>d(f))),f=>rn(a,()=>Fs(()=>h(f)))).finally(u)})}):"function"==typeof c&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Fs(()=>c):c instanceof Ge?c.pipe(Qg(o.outsideAngular),Kg(o.insideAngular)):Fs(()=>c)});class Vc{constructor(e){return e}}class hj{constructor(){return tj()}}const vb=new $("angularfire2._apps"),Zue={provide:Vc,useFactory:function Xue(t){return t&&1===t.length?t[0]:new Vc(ej())},deps:[[new Tr,vb]]},ele={provide:hj,deps:[[new Tr,vb]]};function tle(t){return(e,n)=>{const r=n.get(ml);zn("angularfire",pb.full,"core"),zn("angularfire",pb.full,"app"),zn("angular",uv.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new Vc(i)}}const rle=Oc(ZU,!0),Eb=new Map,fj={activated:!1,tokenObservers:[]},ile={initialized:!1,enabled:!1};function mt(t){return Eb.get(t)||Object.assign({},fj)}function Mm(){return ile}class lle{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return C(function*(){n.stop();try{n.pending=new Cm,n.pending.promise.catch(r=>{}),yield function dle(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Cm,n.pending.promise.catch(r=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Yt=new Mc("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Tb(t){if(!mt(t).activated)throw Yt.create("use-before-activation",{appName:t.name})}function Om(t,e){return bb.apply(this,arguments)}function bb(){return(bb=C(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(h){throw Yt.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw Yt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw Yt.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}})).apply(this,arguments)}function gj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ud="firebase-app-check-store";let Vm=null;function Cb(){return(Cb=C(function*(t,e){const r=(yield function _j(){return Vm||(Vm=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Yt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ud,{keyPath:"compositeKey"})}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}}),Vm)}()).transaction(Ud,"readwrite"),o=r.objectStore(Ud).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Yt.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const _o=new Sm("@firebase/app-check");function Rb(t,e){return Jw()?function yle(t,e){return function yj(t,e){return Cb.apply(this,arguments)}(function Ej(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{_o.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Pb(){return Mm().enabled}function Nb(){return Mb.apply(this,arguments)}function Mb(){return(Mb=C(function*(){const t=Mm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ble={error:"UNKNOWN_ERROR"};function Cle(t){return Qw.encodeString(JSON.stringify(t),!1)}function Lm(t){return kb.apply(this,arguments)}function kb(){return(kb=C(function*(t,e=!1,n=!1){const r=t.app;Tb(r);const i=mt(r);let s,o=i.token;if(o&&!Lc(o)&&(i.token=void 0,o=void 0),!o){const u=yield i.cachedTokenPromise;u&&(Lc(u)?o=u:yield Rb(r,void 0))}if(!e&&o&&Lc(o))return{token:o.token};let c,a=!1;if(Pb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Om(gj(r,yield Nb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const u=yield i.exchangeTokenPromise;return yield Rb(r,u),i.token=u,{token:u.token}}catch(u){return"appCheck/throttled"===u.code||"appCheck/initial-throttle"===u.code?_o.warn(u.message):n&&_o.error(u),Lb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mt(r).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code||"appCheck/initial-throttle"===u.code?_o.warn(u.message):n&&_o.error(u),s=u}return o?s?c=Lc(o)?{token:o.token,internalError:s}:Lb(s):(c={token:o.token},i.token=o,yield Rb(r,o)):c=Lb(s),a&&function wj(t,e){const n=mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,c),c})).apply(this,arguments)}function xb(){return(xb=C(function*(t){const e=t.app;Tb(e);const{provider:n}=mt(e);if(Pb()){const r=yield Nb(),{token:i}=yield Om(gj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Vb(t,e){const n=mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Tj(t){const{app:e}=t,n=mt(e);let r=n.tokenRefresher;r||(r=function Ale(t){const{app:e}=t;return new lle(C(function*(){let r;if(r=mt(e).token?yield Lm(t,!0):yield Lm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Lc(t){return t.expireTimeMillis-Date.now()>0}function Lb(t){return{token:Cle(ble),error:t}}class Sle{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=mt(this.app);for(const n of e)Vb(this.app,n.next);return Promise.resolve()}}const Nj="app-check-internal";!function Ble(){mo(new bi("app-check",t=>function Rle(t,e){return new Sle(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Nj).initialize()})),mo(new bi(Nj,t=>function Dle(t){return{getToken:e=>Lm(t,e),getLimitedUseToken:()=>function Ij(t){return xb.apply(this,arguments)}(t),addTokenListener:e=>function Ob(t,e,n,r){const{app:i}=t,o=mt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Lc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Tj(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tj(t))}(t,"INTERNAL",e),removeTokenListener:e=>Vb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),zn("@firebase/app-check","0.10.1")}();class kj{constructor(){return mb("app-check")}}typeof window<"u"&&window;const Wle=function xj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oj=new Mc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Um=new Sm("@firebase/auth");function jm(t,...e){Um.logLevel<=Te.ERROR&&Um.error(`Auth (${Pm}): ${t}`,...e)}function Gn(t,...e){throw Hb(t,...e)}function _r(t,...e){return Hb(t,...e)}function $b(t,e,n){const r=Object.assign(Object.assign({},Wle()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function jt(t){return $b(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hb(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Oj.create(t,...e)}function z(t,e,...n){if(!t)throw Hb(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function yo(t,e){t||qr(e)}function Vj(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Qle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function zb(){return"http:"===Vj()||"https:"===Vj()}()||function mce(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=function fce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}()||function _ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Qle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Lj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xle=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zle=new Bd(3e4,6e4);function Ze(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function et(t,e,n,r){return qb.apply(this,arguments)}function qb(){return(qb=C(function*(t,e,n,r,i={}){return Fj(t,i,C(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Xw(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return function gce(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&kd(t.emulatorConfig.host)&&(u.credentials="include"),Lj.fetch()(yield Uj(t,t.config.apiHost,n,a),u)}))})).apply(this,arguments)}function Fj(t,e,n){return Wb.apply(this,arguments)}function Wb(){return(Wb=C(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jle),e);try{const i=new tde(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw $d(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw $d(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw $d(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw $d(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $b(t,d,u);Gn(t,d)}}catch(i){if(i instanceof wi)throw i;Gn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Uj(t,e,n,r){return Qb.apply(this,arguments)}function Qb(){return(Qb=C(function*(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?function Gb(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`;return Xle.includes(n)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}class tde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),Zle.get())})}}function $d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(t,e,r);return i.customData._tokenResponse=n,i}function Xb(){return(Xb=C(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Bm(t,e){return eC.apply(this,arguments)}function eC(){return(eC=C(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tC(){return(tC=C(function*(t,e=!1){const n=hn(t),r=yield n.getIdToken(e),i=$m(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hd(nC(i.auth_time)),issuedAtTime:Hd(nC(i.iat)),expirationTime:Hd(nC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function nC(t){return 1e3*Number(t)}function $m(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Md(n);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zj(t){const e=$m(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ri(t,e){return rC.apply(this,arguments)}function rC(){return(rC=C(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof wi&&function sde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ade{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield n.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class iC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zd(t){return oC.apply(this,arguments)}function oC(){return(oC=C(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ri(t,Bm(n,{idToken:r}));z(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Gj(o.providerUserInfo):[],a=function ude(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new iC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function sC(){return(sC=C(function*(t){const e=hn(t);yield zd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Gj(t){return t.map(e=>{var{providerId:n}=e,r=Wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aC(){return(aC=C(function*(t,e){const n=yield Fj(t,{},C(function*(){const r=Xw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Uj(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&kd(t.emulatorConfig.host)&&(c.credentials="include"),Lj.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function cC(){return(cC=C(function*(t,e){return et(t,"POST","/v2/accounts:revokeToken",Ze(t,e))})).apply(this,arguments)}class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(0!==e.length,"internal-error");const n=zj(e);this.updateTokensAndExpiration(e,null,n)}getToken(e){var n=this;return C(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(z(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return C(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function lde(t,e){return aC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Uc;return r&&(z("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(z("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(z("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return qr("not implemented")}}function vo(t,e){z("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ade(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iC(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return C(function*(){const r=yield Ri(n,n.stsTokenManager.getToken(n.auth,e));return z(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ode(t){return tC.apply(this,arguments)}(this,e)}reload(){return function cde(t){return sC.apply(this,arguments)}(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return C(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield zd(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return C(function*(){if(Ai(e.auth.app))return Promise.reject(jt(e.auth));const n=yield e.getIdToken();return yield Ri(e,function rde(t,e){return Xb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,w=null!==(u=n.createdAt)&&void 0!==u?u:void 0,S=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:V,emailVerified:H,isAnonymous:G,providerData:X,stsTokenManager:A}=n;z(V&&A,e,"internal-error");const I=Uc.fromJSON(this.name,A);z("string"==typeof V,e,"internal-error"),vo(h,e.name),vo(f,e.name),z("boolean"==typeof H,e,"internal-error"),z("boolean"==typeof G,e,"internal-error"),vo(g,e.name),vo(_,e.name),vo(v,e.name),vo(E,e.name),vo(w,e.name),vo(S,e.name);const T=new Rr({uid:V,auth:e,email:f,emailVerified:H,displayName:h,isAnonymous:G,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:I,createdAt:w,lastLoginAt:S});return X&&Array.isArray(X)&&(T.providerData=X.map(R=>Object.assign({},R))),E&&(T._redirectEventId=E),T}static _fromIdTokenResponse(e,n){return C(function*(r,i,o=!1){const s=new Uc;s.updateFromServerResponse(i);const a=new Rr({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield zd(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,n,r){return C(function*(){const i=n.users[0];z(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?Gj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Uc;a.updateFromIdToken(r);const c=new Rr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const qj=new Map;function Di(t){yo(t instanceof Function,"Expected a class definition");let e=qj.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qj.set(t,e),e)}const Wj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(n,r){var i=this;return C(function*(){i.storage[n]=r})()}_get(n){var r=this;return C(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return C(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Hm(t,e,n){return`firebase:${t}:${e}:${n}`}class jc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const r=yield Bm(e.auth,{idToken:n}).catch(()=>{});return r?Rr._fromGetAccountInfoResponse(e.auth,r,n):null}return Rr._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return C(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return C(function*(r,i,o="authUser"){if(!i.length)return new jc(Di(Wj),r,o);const s=(yield Promise.all(i.map(function(){var h=C(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Di(Wj);const c=Hm(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const f=yield h._get(c);if(f){let g;if("string"==typeof f){const _=yield Bm(r,{idToken:f}).catch(()=>{});if(!_)break;g=yield Rr._fromGetAccountInfoResponse(r,_,f)}else g=Rr._fromJSON(r,f);h!==a&&(u=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=C(function*(f){if(f!==a)try{yield f._remove(c)}catch{}});return function(f){return h.apply(this,arguments)}}())),new jc(a,r,o)):new jc(a,r,o)}).apply(this,arguments)}}function Kj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Xj(t=Qt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Qj(t=Qt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function eB(t=Qt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function tB(t=Qt()){return/webos/i.test(t)}(e))return"Webos";if(function Yj(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Jj(t=Qt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function Zj(t=Qt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nB(t,e=[]){let n;switch(t){case"Browser":n=Kj(Qt());break;case"Worker":n=`${Kj(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pm}/${r}`}class pde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return C(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function lC(){return(lC=C(function*(t,e={}){return et(t,"GET","/v2/passwordPolicy",Ze(t,e))})).apply(this,arguments)}class _de{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class yde{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rB(this),this.idTokenSubscription=new rB(this),this.beforeStateQueue=new pde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(C(function*(){var i,o,s;if(!r._deleted&&(r.persistenceManager=yield jc.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return C(function*(){try{const r=yield Bm(n,{idToken:e}),i=yield Rr._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return C(function*(){var r;if(Ai(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(c,c))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return z(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return C(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return C(function*(){try{yield zd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Yle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return C(function*(){if(Ai(n.app))return Promise.reject(jt(n));const r=e?hn(e):null;return r&&z(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return C(function*(r,i=!1){if(!n._deleted)return r&&z(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(C(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return C(function*(){return Ai(e.app)?Promise.reject(jt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Ai(this.app)?Promise.reject(jt(this)):this.queue(C(function*(){yield n.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return C(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return C(function*(){const n=yield function gde(t){return lC.apply(this,arguments)}(e),r=new _de(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return C(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function dde(t,e){return cC.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return C(function*(){if(!n.redirectPersistenceManager){const r=e&&Di(e)||n._popupRedirectResolver;z(r,n,"argument-error"),n.redirectPersistenceManager=yield jc.create(n,[Di(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return C(function*(){var r,i;return n._isInitialized&&(yield n.queue(C(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return C(function*(){if(e===n.currentUser)return n.queue(C(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return C(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return C(function*(){var n;if(Ai(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Kle(t,...e){Um.logLevel<=Te.WARN&&Um.warn(`Auth (${Pm}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class rB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tce(t,e){const n=new wce(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gd={loadJS:()=>C(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function iB(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Bd(3e4,6e4),new Bd(2e3,1e4),new Bd(3e4,6e4),new Bd(5e3,15e3),encodeURIComponent("fac");var UB="@firebase/auth";class vfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return C(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}bm(),function vde(t){Gd=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=_r("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function bfe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ife(t){mo(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nB(t)},u=new yde(r,i,o,c);return function Mde(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new bi("auth-internal",e=>{const n=function It(t){return hn(t)}(e.getProvider("auth").getImmediate());return new vfe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(UB,"1.10.8",function Efe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),zn(UB,"1.10.8","esm2017")}("Browser");class HB{constructor(){return mb("auth")}}var Io,qB,zB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GB={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(A,I,T){T||(T=0);var R=Array(16);if("string"==typeof I)for(var D=0;16>D;++D)R[D]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(D=0;16>D;++D)R[D]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;var k=A.g[3],b=(I=A.g[0])+(k^(T=A.g[1])&((D=A.g[2])^k))+R[0]+3614090360&4294967295;b=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=(T=(D=(k=(I=T+(b<<7&4294967295|b>>>25))+((b=k+(D^I&(T^D))+R[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=D+(T^k&(I^T))+R[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=T+(I^D&(k^I))+R[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=I+(k^T&(D^k))+R[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=k+(D^I&(T^D))+R[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=D+(T^k&(I^T))+R[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=T+(I^D&(k^I))+R[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=I+(k^T&(D^k))+R[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=k+(D^I&(T^D))+R[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=D+(T^k&(I^T))+R[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=T+(I^D&(k^I))+R[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=I+(k^T&(D^k))+R[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=k+(D^I&(T^D))+R[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=D+(T^k&(I^T))+R[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=T+(I^D&(k^I))+R[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=I+(D^k&(T^D))+R[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=k+(T^D&(I^T))+R[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=D+(I^T&(k^I))+R[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=T+(k^I&(D^k))+R[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=I+(D^k&(T^D))+R[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=k+(T^D&(I^T))+R[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=D+(I^T&(k^I))+R[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=T+(k^I&(D^k))+R[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=I+(D^k&(T^D))+R[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=k+(T^D&(I^T))+R[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=D+(I^T&(k^I))+R[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=T+(k^I&(D^k))+R[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=I+(D^k&(T^D))+R[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=k+(T^D&(I^T))+R[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=D+(I^T&(k^I))+R[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=T+(k^I&(D^k))+R[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=I+(T^D^k)+R[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=k+(I^T^D)+R[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=D+(k^I^T)+R[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=T+(D^k^I)+R[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=I+(T^D^k)+R[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=k+(I^T^D)+R[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=D+(k^I^T)+R[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=T+(D^k^I)+R[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=I+(T^D^k)+R[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=k+(I^T^D)+R[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=D+(k^I^T)+R[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=T+(D^k^I)+R[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=I+(T^D^k)+R[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=k+(I^T^D)+R[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=D+(k^I^T)+R[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=T+(D^k^I)+R[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=I+(D^(T|~k))+R[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=k+(T^(I|~D))+R[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=D+(I^(k|~T))+R[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=T+(k^(D|~I))+R[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=I+(D^(T|~k))+R[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=k+(T^(I|~D))+R[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=D+(I^(k|~T))+R[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=T+(k^(D|~I))+R[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=I+(D^(T|~k))+R[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=k+(T^(I|~D))+R[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=D+(I^(k|~T))+R[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=T+(k^(D|~I))+R[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((k=(I=T+((b=I+(D^(T|~k))+R[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=k+(T^(I|~D))+R[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((D=k+((b=D+(I^(k|~T))+R[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~I))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+k&4294967295}function s(A,I){this.h=I;for(var T=[],R=!0,D=A.length-1;0<=D;D--){var k=0|A[D];R&&k==I||(T[D]=k,R=!1)}this.g=T}(function e(A,I){function T(){}T.prototype=I.prototype,A.D=I.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(R,D,k){for(var b=Array(arguments.length-2),ji=2;ji<arguments.length;ji++)b[ji-2]=arguments[ji];return I.prototype[D].apply(R,b)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(A,I){void 0===I&&(I=A.length);for(var T=I-this.blockSize,R=this.B,D=this.h,k=0;k<I;){if(0==D)for(;k<=T;)i(this,A,k),k+=this.blockSize;if("string"==typeof A){for(;k<I;)if(R[D++]=A.charCodeAt(k++),D==this.blockSize){i(this,R),D=0;break}}else for(;k<I;)if(R[D++]=A[k++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var T=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=255&T,T/=256;for(this.u(A),A=Array(16),I=T=0;4>I;++I)for(var R=0;32>R;R+=8)A[T++]=this.g[I]>>>R&255;return A};var a={};function c(A){return-128<=A&&128>A?function o(A,I){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=I(A)}(A,function(I){return new s([0|I],0>I?-1:0)}):new s([0|A],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return E(u(-A));for(var I=[],T=1,R=0;A>=T;R++)I[R]=A/T|0,T*=4294967296;return new s(I,0)}var h=c(0),f=c(1),g=c(16777216);function _(A){if(0!=A.h)return!1;for(var I=0;I<A.g.length;I++)if(0!=A.g[I])return!1;return!0}function v(A){return-1==A.h}function E(A){for(var I=A.g.length,T=[],R=0;R<I;R++)T[R]=~A.g[R];return new s(T,~A.h).add(f)}function w(A,I){return A.add(E(I))}function S(A,I){for(;(65535&A[I])!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function V(A,I){this.g=A,this.h=I}function H(A,I){if(_(I))throw Error("division by zero");if(_(A))return new V(h,h);if(v(A))return I=H(E(A),I),new V(E(I.g),E(I.h));if(v(I))return I=H(A,E(I)),new V(E(I.g),I.h);if(30<A.g.length){if(v(A)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var T=f,R=I;0>=R.l(A);)T=G(T),R=G(R);var D=X(T,1),k=X(R,1);for(R=X(R,2),T=X(T,2);!_(R);){var b=k.add(R);0>=b.l(A)&&(D=D.add(T),k=b),R=X(R,1),T=X(T,1)}return I=w(A,D.j(I)),new V(D,I)}for(D=h;0<=A.l(I);){for(T=Math.max(1,Math.floor(A.m()/I.m())),R=48>=(R=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,R-48),b=(k=u(T)).j(I);v(b)||0<b.l(A);)b=(k=u(T-=R)).j(I);_(k)&&(k=f),D=D.add(k),A=w(A,b)}return new V(D,A)}function G(A){for(var I=A.g.length+1,T=[],R=0;R<I;R++)T[R]=A.i(R)<<1|A.i(R-1)>>>31;return new s(T,A.h)}function X(A,I){var T=I>>5;I%=32;for(var R=A.g.length-T,D=[],k=0;k<R;k++)D[k]=0<I?A.i(k+T)>>>I|A.i(k+T+1)<<32-I:A.i(k+T);return new s(D,A.h)}(t=s.prototype).m=function(){if(v(this))return-E(this).m();for(var A=0,I=1,T=0;T<this.g.length;T++){var R=this.i(T);A+=(0<=R?R:4294967296+R)*I,I*=4294967296}return A},t.toString=function(A){if(2>(A=A||10)||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(v(this))return"-"+E(this).toString(A);for(var I=u(Math.pow(A,6)),T=this,R="";;){var D=H(T,I).g,k=((0<(T=w(T,D.j(I))).g.length?T.g[0]:T.h)>>>0).toString(A);if(_(T=D))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h},t.l=function(A){return v(A=w(this,A))?-1:_(A)?0:1},t.abs=function(){return v(this)?E(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],R=0,D=0;D<=I;D++){var k=R+(65535&this.i(D))+(65535&A.i(D)),b=(k>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);R=b>>>16,T[D]=(b&=65535)<<16|(k&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(A){if(_(this)||_(A))return h;if(v(this))return v(A)?E(this).j(E(A)):E(E(this).j(A));if(v(A))return E(this.j(E(A)));if(0>this.l(g)&&0>A.l(g))return u(this.m()*A.m());for(var I=this.g.length+A.g.length,T=[],R=0;R<2*I;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<A.g.length;D++){var k=this.i(R)>>>16,b=65535&this.i(R),ji=A.i(D)>>>16,Jh=65535&A.i(D);T[2*R+2*D]+=b*Jh,S(T,2*R+2*D),T[2*R+2*D+1]+=k*Jh,S(T,2*R+2*D+1),T[2*R+2*D+1]+=b*ji,S(T,2*R+2*D+1),T[2*R+2*D+2]+=k*ji,S(T,2*R+2*D+2)}for(R=0;R<I;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=I;R<2*I;R++)T[R]=0;return new s(T,0)},t.A=function(A){return H(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)&A.i(R);return new s(T,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)|A.i(R);return new s(T,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)^A.i(R);return new s(T,this.h^A.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qB=GB.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(A,I){if(0==A.length)throw Error("number format error: empty string");if(2>(I=I||10)||36<I)throw Error("radix out of range: "+I);if("-"==A.charAt(0))return E(d(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(I,8)),R=h,D=0;D<A.length;D+=8){var k=Math.min(8,A.length-D),b=parseInt(A.substring(D,D+k),I);8>k?(k=u(Math.pow(I,k)),R=R.j(k).add(u(b))):R=(R=R.j(T)).add(u(b))}return R},Io=GB.Integer=s}).apply(typeof zB<"u"?zB:typeof self<"u"?self:typeof window<"u"?window:{});var WB,th,KB,n_,nS,QB,YB,JB,t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,m){return l==Array.prototype||l==Object.prototype||(l[p]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t_&&t_];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,p){if(p)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in m))break e;m=m[P]}(p=p(y=m[l=l[l.length-1]]))!=y&&null!=p&&e(m,l,{configurable:!0,writable:!0,value:p})}}("Array.prototype.values",function(l){return l||function(){return function o(l,p){l instanceof String&&(l+="");var m=0,y=!1,P={next:function(){if(!y&&m<l.length){var O=m++;return{value:p(O,l[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}(this,function(p,m){return m})}});var s=s||{},a=this||self;function c(l){var p=typeof l;return"array"==(p="object"!=p?p:l?Array.isArray(l)?"array":p:"null")||"object"==p&&"number"==typeof l.length}function u(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function d(l,p,m){return l.call.apply(l.bind,arguments)}function h(l,p,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(p,P)}}return function(){return l.apply(p,arguments)}}function f(l,p,m){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,p){function m(){}m.prototype=p.prototype,l.aa=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,P,O){for(var K=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)K[ze-2]=arguments[ze];return p.prototype[P].apply(y,K)}}function v(l){const p=l.length;if(0<p){const m=Array(p);for(let y=0;y<p;y++)m[y]=l[y];return m}return[]}function E(l,p){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(c(y)){const P=l.length||0,O=y.length||0;l.length=P+O;for(let K=0;K<O;K++)l[P+K]=y[K]}else l.push(y)}}function S(l){return/^[\s\xa0]*$/.test(l)}function V(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var G=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function X(l,p,m){for(const y in l)p.call(m,l[y],y,l)}function I(l){const p={};for(const m in l)p[m]=l[m];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,p){let m,y;for(let P=1;P<arguments.length;P++){for(m in y=arguments[P],y)l[m]=y[m];for(let O=0;O<T.length;O++)m=T[O],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function D(l){var p=1;l=l.split(":");const m=[];for(;0<p&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function k(l){a.setTimeout(()=>{throw l},0)}function b(){var l=pP;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}var Jh=new class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}(()=>new ove,l=>l.reset());class ove{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Xh,Zh=!1,pP=new class ji{constructor(){this.h=this.g=null}add(p,m){const y=Jh.get();y.set(p,m),this.h?this.h.next=y:this.g=y,this.h=y}},f4=()=>{const l=a.Promise.resolve(void 0);Xh=()=>{l.then(sve)}};var sve=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(m){k(m)}var p=Jh;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}Zh=!1};function Go(){this.s=this.s,this.C=this.C}function yn(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Go.prototype.s=!1,Go.prototype.ma=function(){this.s||(this.s=!0,this.N())},Go.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},yn.prototype.h=function(){this.defaultPrevented=!0};var ave=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return l}();function ef(l,p){if(yn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(G){e:{try{H(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else"mouseover"==m?p=l.fromElement:"mouseout"==m&&(p=l.toElement);this.relatedTarget=p,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:cve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ef.aa.h.call(this)}}_(ef,yn);var cve={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),uve=0;function lve(l,p,m,y,P){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!y,this.ha=P,this.key=++uve,this.da=this.fa=!1}function Dy(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Py(l){this.src=l,this.g={},this.h=0}function gP(l,p){var m=p.type;if(m in l.g){var O,y=l.g[m],P=Array.prototype.indexOf.call(y,p,void 0);(O=0<=P)&&Array.prototype.splice.call(y,P,1),O&&(Dy(p),0==l.g[m].length&&(delete l.g[m],l.h--))}}function mP(l,p,m,y){for(var P=0;P<l.length;++P){var O=l[P];if(!O.da&&O.listener==p&&O.capture==!!m&&O.ha==y)return P}return-1}Py.prototype.add=function(l,p,m,y,P){var O=l.toString();(l=this.g[O])||(l=this.g[O]=[],this.h++);var K=mP(l,p,y,P);return-1<K?(p=l[K],m||(p.fa=!1)):((p=new lve(p,this.src,O,!!y,P)).fa=m,l.push(p)),p};var _P="closure_lm_"+(1e6*Math.random()|0),yP={};function p4(l,p,m,y,P){if(y&&y.once)return m4(l,p,m,y,P);if(Array.isArray(p)){for(var O=0;O<p.length;O++)p4(l,p[O],m,y,P);return null}return m=TP(m),l&&l[tf]?l.K(p,m,u(y)?!!y.capture:!!y,P):g4(l,p,m,!1,y,P)}function g4(l,p,m,y,P,O){if(!p)throw Error("Invalid event type");var K=u(P)?!!P.capture:!!P,ze=EP(l);if(ze||(l[_P]=ze=new Py(l)),(m=ze.add(p,m,y,K,O)).proxy)return m;if(y=function dve(){const p=hve;return function l(m){return p.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)ave||(P=K),void 0===P&&(P=!1),l.addEventListener(p.toString(),y,P);else if(l.attachEvent)l.attachEvent(y4(p.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function m4(l,p,m,y,P){if(Array.isArray(p)){for(var O=0;O<p.length;O++)m4(l,p[O],m,y,P);return null}return m=TP(m),l&&l[tf]?l.L(p,m,u(y)?!!y.capture:!!y,P):g4(l,p,m,!0,y,P)}function _4(l,p,m,y,P){if(Array.isArray(p))for(var O=0;O<p.length;O++)_4(l,p[O],m,y,P);else y=u(y)?!!y.capture:!!y,m=TP(m),l&&l[tf]?(l=l.i,(p=String(p).toString())in l.g&&-1<(m=mP(O=l.g[p],m,y,P))&&(Dy(O[m]),Array.prototype.splice.call(O,m,1),0==O.length&&(delete l.g[p],l.h--))):l&&(l=EP(l))&&(p=l.g[p.toString()],l=-1,p&&(l=mP(p,m,y,P)),(m=-1<l?p[l]:null)&&vP(m))}function vP(l){if("number"!=typeof l&&l&&!l.da){var p=l.src;if(p&&p[tf])gP(p.i,l);else{var m=l.type,y=l.proxy;p.removeEventListener?p.removeEventListener(m,y,l.capture):p.detachEvent?p.detachEvent(y4(m),y):p.addListener&&p.removeListener&&p.removeListener(y),(m=EP(p))?(gP(m,l),0==m.h&&(m.src=null,p[_P]=null)):Dy(l)}}}function y4(l){return l in yP?yP[l]:yP[l]="on"+l}function hve(l,p){if(l.da)l=!0;else{p=new ef(p,this);var m=l.listener,y=l.ha||l.src;l.fa&&vP(l),l=m.call(y,p)}return l}function EP(l){return(l=l[_P])instanceof Py?l:null}var IP="__closure_events_fn_"+(1e9*Math.random()>>>0);function TP(l){return"function"==typeof l?l:(l[IP]||(l[IP]=function(p){return l.handleEvent(p)}),l[IP])}function vn(){Go.call(this),this.i=new Py(this),this.M=this,this.F=null}function Dn(l,p){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=p.type||p,"string"==typeof p)p=new yn(p,l);else if(p instanceof yn)p.target=p.target||l;else{var P=p;R(p=new yn(y,l),P)}if(P=!0,m)for(var O=m.length-1;0<=O;O--){var K=p.g=m[O];P=Ny(K,y,!0,p)&&P}if(P=Ny(K=p.g=l,y,!0,p)&&P,P=Ny(K,y,!1,p)&&P,m)for(O=0;O<m.length;O++)P=Ny(K=p.g=m[O],y,!1,p)&&P}function Ny(l,p,m,y){if(!(p=l.i.g[String(p)]))return!0;p=p.concat();for(var P=!0,O=0;O<p.length;++O){var K=p[O];if(K&&!K.da&&K.capture==m){var ze=K.listener,Zt=K.ha||K.src;K.fa&&gP(l.i,K),P=!1!==ze.call(Zt,y)&&P}}return P&&!y.defaultPrevented}function v4(l,p,m){if("function"==typeof l)m&&(l=f(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=f(l.handleEvent,l)}return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function E4(l){l.g=v4(()=>{l.g=null,l.i&&(l.i=!1,E4(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}_(vn,Go),vn.prototype[tf]=!0,vn.prototype.removeEventListener=function(l,p,m,y){_4(this,l,p,m,y)},vn.prototype.N=function(){if(vn.aa.N.call(this),this.i){var p,l=this.i;for(p in l.g){for(var m=l.g[p],y=0;y<m.length;y++)Dy(m[y]);delete l.g[p],l.h--}}this.F=null},vn.prototype.K=function(l,p,m,y){return this.i.add(String(l),p,!1,m,y)},vn.prototype.L=function(l,p,m,y){return this.i.add(String(l),p,!0,m,y)};class fve extends Go{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:E4(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nf(l){Go.call(this),this.h=l,this.g={}}_(nf,Go);var I4=[];function T4(l){X(l.g,function(p,m){this.g.hasOwnProperty(m)&&vP(p)},l),l.g={}}nf.prototype.N=function(){nf.aa.N.call(this),T4(this)},nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wP=a.JSON.stringify,pve=a.JSON.parse,gve=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function bP(){}function b4(){}bP.prototype.h=null;var rf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function CP(){yn.call(this,"d")}function AP(){yn.call(this,"c")}_(CP,yn),_(AP,yn);var ga={},C4=null;function My(){return C4=C4||new vn}function A4(l){yn.call(this,ga.La,l)}function sf(l){const p=My();Dn(p,new A4(p))}function S4(l,p){yn.call(this,ga.STAT_EVENT,l),this.stat=p}function Pn(l){const p=My();Dn(p,new S4(p,l))}function R4(l,p){yn.call(this,ga.Ma,l),this.size=p}function af(l,p){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function cf(){this.g=!0}function xu(l,p,m,y){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+function vve(l,p){if(!l.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if("noop"!=O&&"stop"!=O&&"close"!=O)for(var K=1;K<P.length;K++)P[K]=""}}}return wP(m)}catch{return p}}(l,m)+(y?" "+y:"")})}ga.La="serverreachability",_(A4,yn),ga.STAT_EVENT="statevent",_(S4,yn),ga.Ma="timingevent",_(R4,yn),cf.prototype.xa=function(){this.g=!1},cf.prototype.info=function(){};var SP,ky={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D4={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function xy(){}function qo(l,p,m,y){this.j=l,this.i=p,this.l=m,this.R=y||1,this.U=new nf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P4}function P4(){this.i=null,this.g="",this.h=!1}_(xy,bP),xy.prototype.g=function(){return new XMLHttpRequest},xy.prototype.i=function(){return{}},SP=new xy;var N4={},RP={};function DP(l,p,m){l.L=1,l.v=Fy(Bi(p)),l.m=m,l.P=!0,M4(l,null)}function M4(l,p){l.F=Date.now(),Oy(l),l.A=Bi(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),q4(m.i,"t",y),l.C=0,m=l.j.J,l.h=new P4,l.g=lW(l.j,m?p:null,!l.m),0<l.O&&(l.M=new fve(f(l.Y,l,l.g),l.O)),p=l.U,m=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(I4[0]=P.toString()),P=I4);for(var O=0;O<P.length;O++){var K=p4(m,P[O],y||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),sf(),function mve(l,p,m,y,P,O){l.info(function(){if(l.g)if(O)for(var K="",ze=O.split("&"),Zt=0;Zt<ze.length;Zt++){var Re=ze[Zt].split("=");if(1<Re.length){var En=Re[0];Re=Re[1];var In=En.split("_");K=2<=In.length&&"type"==In[1]?K+(En+"=")+Re+"&":K+(En+"=redacted&")}}else K=null;else K=O;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+p+"\n"+m+"\n"+K})}(l.i,l.u,l.A,l.l,l.R,l.m)}function k4(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function Eve(l,p){var m=l.C,y=p.indexOf("\n",m);return-1==y?RP:(m=Number(p.substring(m,y)),isNaN(m)?N4:(y+=1)+m>p.length?RP:(p=p.slice(y,y+m),l.C=y+m,p))}function Oy(l){l.S=Date.now()+l.I,x4(l,l.I)}function x4(l,p){if(null!=l.B)throw Error("WatchDog timer not null");l.B=af(f(l.ba,l),p)}function PP(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function uf(l){0==l.j.G||l.J||sW(l.j,l)}function ma(l){PP(l);var p=l.M;p&&"function"==typeof p.ma&&p.ma(),l.M=null,T4(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function NP(l,p){try{var m=l.j;if(0!=m.G&&(m.g==l||MP(m.h,l)))if(!l.K&&MP(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&3==y.length){var P=y;if(0==P[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;Hy(m),By(m)}VP(m),Pn(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&0==m.v&&!m.C&&(m.C=af(f(m.Za,m),6e3));if(1>=L4(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ya(m,11)}else if((l.K||m.g==l)&&Hy(m),!S(p))for(P=m.Da.g.parse(p),p=0;p<P.length;p++){let Re=P[p];if(m.T=Re[0],Re=Re[1],2==m.G)if("c"==Re[0]){m.K=Re[1],m.ia=Re[2];const En=Re[3];null!=En&&(m.la=En,m.j.info("VER="+m.la));const In=Re[4];null!=In&&(m.Aa=In,m.j.info("SVER="+m.Aa));const Lu=Re[5];null!=Lu&&"number"==typeof Lu&&0<Lu&&(m.L=y=1.5*Lu,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Nr=l.g;if(Nr){const Gy=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gy){var O=y.h;O.g||-1==Gy.indexOf("spdy")&&-1==Gy.indexOf("quic")&&-1==Gy.indexOf("h2")||(O.j=O.l,O.g=new Set,O.h&&(kP(O,O.h),O.h=null))}if(y.D){const FP=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;FP&&(y.ya=FP,nt(y.I,y.D,FP))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var K=l;if((y=m).qa=uW(y,y.J?y.ia:null,y.W),K.K){F4(y.h,K);var ze=K,Zt=y.L;Zt&&(ze.I=Zt),ze.B&&(PP(ze),Oy(ze)),y.g=K}else iW(y);0<m.i.length&&$y(m)}else"stop"!=Re[0]&&"close"!=Re[0]||ya(m,7);else 3==m.G&&("stop"==Re[0]||"close"==Re[0]?"stop"==Re[0]?ya(m,7):OP(m):"noop"!=Re[0]&&m.l&&m.l.ta(Re),m.v=0)}sf()}catch{}}qo.prototype.ca=function(l){l=l.target;const p=this.M;p&&3==$i(l)?p.j():this.Y(l)},qo.prototype.Y=function(l){try{if(l==this.g)e:{const In=$i(this.g);var p=this.g.Ba();if(this.g.Z(),!(3>In)&&(3!=In||this.g&&(this.h.h||this.g.oa()||Z4(this.g)))){this.J||4!=In||7==p||sf(),PP(this);var m=this.g.Z();this.X=m;t:if(k4(this)){var y=Z4(this.g);l="";var P=y.length,O=4==$i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),uf(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,l+=this.h.i.decode(y[p],{stream:!(O&&p==P-1)});y.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=200==m,function _ve(l,p,m,y,P,O,K){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+p+"\n"+m+"\n"+O+" "+K})}(this.i,this.u,this.A,this.l,this.R,In,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Zt=this.g;if((ze=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ze)){var Re=ze;break t}}Re=null}if(!(m=Re)){this.o=!1,this.s=3,Pn(12),ma(this),uf(this);break e}xu(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NP(this,m)}if(this.P){let Nr;for(m=!0;!this.J&&this.C<K.length;){if(Nr=Eve(this,K),Nr==RP){4==In&&(this.s=4,Pn(14),m=!1),xu(this.i,this.l,null,"[Incomplete Response]");break}if(Nr==N4){this.s=4,Pn(15),xu(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}xu(this.i,this.l,Nr,null),NP(this,Nr)}if(k4(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=In||0!=K.length||this.h.h||(this.s=1,Pn(16),m=!1),this.o=this.o&&m,m){if(0<K.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),LP(En),En.M=!0,Pn(11))}}else xu(this.i,this.l,K,"[Invalid Chunked Response]"),ma(this),uf(this)}else xu(this.i,this.l,K,null),NP(this,K);4==In&&ma(this),this.o&&!this.J&&(4==In?sW(this.j,this):(this.o=!1,Oy(this)))}else(function Lve(l){const p={};l=(l.g&&2<=$i(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(S(l[y]))continue;var m=D(l[y]);const P=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const O=p[P]||[];p[P]=O,O.push(m)}!function A(l,p){for(const m in l)p.call(void 0,l[m],m,l)}(p,function(y){return y.join(", ")})})(this.g),400==m&&0<K.indexOf("Unknown SID")?(this.s=3,Pn(12)):(this.s=0,Pn(13)),ma(this),uf(this)}}}catch{}},qo.prototype.cancel=function(){this.J=!0,ma(this)},qo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function yve(l,p){l.info(function(){return"TIMEOUT: "+p})}(this.i,this.A),2!=this.L&&(sf(),Pn(17)),ma(this),this.s=2,uf(this)):x4(this,this.S-l)};var Ive=class{constructor(l,p){this.g=l,this.map=p}};function O4(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V4(l){return!!l.h||!!l.g&&l.g.size>=l.j}function L4(l){return l.h?1:l.g?l.g.size:0}function MP(l,p){return l.h?l.h==p:!!l.g&&l.g.has(p)}function kP(l,p){l.g?l.g.add(p):l.h=p}function F4(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}function U4(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let p=l.i;for(const m of l.g.values())p=p.concat(m.D);return p}return v(l.i)}function j4(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,p,void 0);else for(var m=function wve(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var p=[];l=l.length;for(var m=0;m<l;m++)p.push(m);return p}p=[],m=0;for(const y in l)p[m++]=y;return p}}}(l),y=function Tve(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var p=[],m=l.length,y=0;y<m;y++)p.push(l[y]);return p}for(y in p=[],m=0,l)p[m++]=l[y];return p}(l),P=y.length,O=0;O<P;O++)p.call(void 0,y[O],m&&m[O],l)}O4.prototype.cancel=function(){if(this.i=U4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var B4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof _a){this.h=l.h,Vy(this,l.j),this.o=l.o,this.g=l.g,Ly(this,l.s),this.l=l.l;var p=l.i,m=new hf;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),$4(this,m),this.m=l.m}else l&&(p=String(l).match(B4))?(this.h=!1,Vy(this,p[1]||"",!0),this.o=lf(p[2]||""),this.g=lf(p[3]||"",!0),Ly(this,p[4]),this.l=lf(p[5]||"",!0),$4(this,p[6]||"",!0),this.m=lf(p[7]||"")):(this.h=!1,this.i=new hf(null,this.h))}function Bi(l){return new _a(l)}function Vy(l,p,m){l.j=m?lf(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ly(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function $4(l,p,m){p instanceof hf?(l.i=p,function Pve(l,p){p&&!l.j&&(Wo(l),l.i=null,l.g.forEach(function(m,y){var P=y.toLowerCase();y!=P&&(z4(this,y),q4(this,P,m))},l)),l.j=p}(l.i,l.h)):(m||(p=df(p,Rve)),l.i=new hf(p,l.h))}function nt(l,p,m){l.i.set(p,m)}function Fy(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function lf(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function df(l,p,m){return"string"==typeof l?(l=encodeURI(l).replace(p,Cve),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Cve(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}_a.prototype.toString=function(){var l=[],p=this.j;p&&l.push(df(p,H4,!0),":");var m=this.g;return(m||"file"==p)&&(l.push("//"),(p=this.o)&&l.push(df(p,H4,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(df(m,"/"==m.charAt(0)?Sve:Ave,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",df(m,Dve)),l.join("")};var H4=/[#\/\?@]/g,Ave=/[#\?:]/g,Sve=/[#\?]/g,Rve=/[#\?@]/g,Dve=/#/g;function hf(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Wo(l){l.g||(l.g=new Map,l.h=0,l.i&&function bve(l,p){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),P=null;if(0<=y){var O=l[m].substring(0,y);P=l[m].substring(y+1)}else O=l[m];p(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}function z4(l,p){Wo(l),p=Ou(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function G4(l,p){return Wo(l),p=Ou(l,p),l.g.has(p)}function q4(l,p,m){z4(l,p),0<m.length&&(l.i=null,l.g.set(Ou(l,p),v(m)),l.h+=m.length)}function Ou(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Ko(l,p,m,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(m)}catch{}}function kve(){this.g=new gve}function xve(l,p,m){const y=m||"";try{j4(l,function(P,O){let K=P;u(P)&&(K=wP(P)),p.push(y+O+"="+encodeURIComponent(K))})}catch(P){throw p.push(y+"type="+encodeURIComponent("_badmap")),P}}function ff(l){this.l=l.Ub||null,this.j=l.eb||!1}function Uy(l,p){vn.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function W4(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function pf(l){l.readyState=4,l.l=null,l.j=null,l.v=null,gf(l)}function gf(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function K4(l){let p="";return X(l,function(m,y){p+=y,p+=":",p+=m,p+="\r\n"}),p}function xP(l,p,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=K4(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):nt(l,p,m))}function yt(l){vn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=hf.prototype).add=function(l,p){Wo(this),this.i=null,l=Ou(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this},t.forEach=function(l,p){Wo(this),this.g.forEach(function(m,y){m.forEach(function(P){l.call(p,P,y,this)},this)},this)},t.na=function(){Wo(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let y=0;y<p.length;y++){const P=l[y];for(let O=0;O<P.length;O++)m.push(p[y])}return m},t.V=function(l){Wo(this);let p=[];if("string"==typeof l)G4(this,l)&&(p=p.concat(this.g.get(Ou(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)p=p.concat(l[m])}return p},t.set=function(l,p){return Wo(this),this.i=null,G4(this,l=Ou(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l&&0<(l=this.V(l)).length?String(l[0]):p},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var y=p[m];const O=encodeURIComponent(String(y)),K=this.V(y);for(y=0;y<K.length;y++){var P=O;""!==K[y]&&(P+="="+encodeURIComponent(String(K[y]))),l.push(P)}}return this.i=l.join("&")},_(ff,bP),ff.prototype.g=function(){return new Uy(this.l,this.j)},ff.prototype.i=function(l){return function(){return l}}({}),_(Uy,vn),(t=Uy.prototype).open=function(l,p){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,gf(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pf(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,gf(this)),this.g&&(this.readyState=3,gf(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W4(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?pf(this):gf(this),3==this.readyState&&W4(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,pf(this))},t.Qa=function(l){this.g&&(this.response=l,pf(this))},t.ga=function(){this.g&&pf(this)},t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=p.next();return l.join("\r\n")},Object.defineProperty(Uy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(yt,vn);var Ove=/^https?$/i,Vve=["POST","PUT"];function Q4(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Y4(l),jy(l)}function Y4(l){l.A||(l.A=!0,Dn(l,"complete"),Dn(l,"error"))}function J4(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=$i(l)||2!=l.Z()))if(l.u&&4==$i(l))v4(l.Ea,0,l);else if(Dn(l,"readystatechange"),4==$i(l)){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var y;if(y=0===K){var P=String(l.D).match(B4)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!Ove.test(P?P.toLowerCase():"")}m=y}if(m)Dn(l,"complete"),Dn(l,"success");else{l.m=6;try{var O=2<$i(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Y4(l)}}finally{jy(l)}}}function jy(l,p){if(l.g){X4(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Dn(l,"ready");try{m.onreadystatechange=y}catch{}}}function X4(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function $i(l){return l.g?l.g.readyState:0}function Z4(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function eW(l){this.Aa=0,this.i=[],this.j=new cf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mf("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mf("baseRetryDelayMs",5e3,l),this.cb=mf("retryDelaySeedMs",1e4,l),this.Wa=mf("forwardChannelMaxRetries",2,l),this.wa=mf("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new O4(l&&l.concurrentRequestLimit),this.Da=new kve,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function OP(l){if(tW(l),3==l.G){var p=l.U++,m=Bi(l.I);if(nt(m,"SID",l.K),nt(m,"RID",p),nt(m,"TYPE","terminate"),_f(l,m),(p=new qo(l,l.j,p)).L=2,p.v=Fy(Bi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=p.v,m=!0),m||(p.g=lW(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Oy(p)}cW(l)}function By(l){l.g&&(LP(l),l.g.cancel(),l.g=null)}function tW(l){By(l),l.u&&(a.clearTimeout(l.u),l.u=null),Hy(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function $y(l){if(!V4(l.h)&&!l.s){l.s=!0;var p=l.Ga;Xh||f4(),Zh||(Xh(),Zh=!0),pP.add(p,l),l.B=0}}function nW(l,p){var m;m=p?p.l:l.U++;const y=Bi(l.I);nt(y,"SID",l.K),nt(y,"RID",m),nt(y,"AID",l.T),_f(l,y),l.m&&l.o&&xP(y,l.m,l.o),m=new qo(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),p&&(l.i=p.D.concat(l.i)),p=rW(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),kP(l.h,m),DP(m,y,p)}function _f(l,p){l.H&&X(l.H,function(m,y){nt(p,y,m)}),l.l&&j4({},function(m,y){nt(p,y,m)})}function rW(l,p,m){m=Math.min(l.i.length,m);var y=l.l?f(l.l.Na,l.l,l):null;e:{var P=l.i;let O=-1;for(;;){const K=["count="+m];-1==O?0<m?(O=P[0].g,K.push("ofs="+O)):O=0:K.push("ofs="+O);let ze=!0;for(let Zt=0;Zt<m;Zt++){let Re=P[Zt].g;const En=P[Zt].map;if(Re-=O,0>Re)O=Math.max(0,P[Zt].g-100),ze=!1;else try{xve(En,K,"req"+Re+"_")}catch{y&&y(En)}}if(ze){y=K.join("&");break e}}}return l=l.i.splice(0,m),p.D=l,y}function iW(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Xh||f4(),Zh||(Xh(),Zh=!0),pP.add(p,l),l.v=0}}function VP(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=af(f(l.Fa,l),aW(l,l.v)),l.v++,0))}function LP(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function oW(l){l.g=new qo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var p=Bi(l.qa);nt(p,"RID","rpc"),nt(p,"SID",l.K),nt(p,"AID",l.T),nt(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(p,"TO",l.ja),nt(p,"TYPE","xmlhttp"),_f(l,p),l.m&&l.o&&xP(p,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Fy(Bi(p)),m.m=null,m.P=!0,M4(m,l)}function Hy(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function sW(l,p){var m=null;if(l.g==p){Hy(l),LP(l),l.g=null;var y=2}else{if(!MP(l.h,p))return;m=p.D,F4(l.h,p),y=1}if(0!=l.G)if(p.o)if(1==y){m=p.m?p.m.length:0,p=Date.now()-p.F;var P=l.B;Dn(y=My(),new R4(y,m)),$y(l)}else iW(l);else if(3==(P=p.s)||0==P&&0<p.X||!(1==y&&function Fve(l,p){return!(L4(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=p.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=af(f(l.Ga,l,p),aW(l,l.B)),l.B++,0)))}(l,p)||2==y&&VP(l)))switch(m&&0<m.length&&(p=l.h,p.i=p.i.concat(m)),P){case 1:ya(l,5);break;case 4:ya(l,10);break;case 3:ya(l,6);break;default:ya(l,2)}}function aW(l,p){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*p}function ya(l,p){if(l.j.info("Error code "+p),2==p){var m=f(l.fb,l),y=l.Xa;const P=!y;y=new _a(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Vy(y,"https"),Fy(y),P?function Nve(l,p){const m=new cf;if(a.Image){const y=new Image;y.onload=g(Ko,m,"TestLoadImage: loaded",!0,p,y),y.onerror=g(Ko,m,"TestLoadImage: error",!1,p,y),y.onabort=g(Ko,m,"TestLoadImage: abort",!1,p,y),y.ontimeout=g(Ko,m,"TestLoadImage: timeout",!1,p,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else p(!1)}(y.toString(),m):function Mve(l,p){new cf;const y=new AbortController,P=setTimeout(()=>{y.abort(),Ko(0,0,!1,p)},1e4);fetch(l,{signal:y.signal}).then(O=>{clearTimeout(P),Ko(0,0,!!O.ok,p)}).catch(()=>{clearTimeout(P),Ko(0,0,!1,p)})}(y.toString(),m)}else Pn(2);l.G=0,l.l&&l.l.sa(p),cW(l),tW(l)}function cW(l){if(l.G=0,l.ka=[],l.l){const p=U4(l.h);(0!=p.length||0!=l.i.length)&&(E(l.ka,p),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function uW(l,p,m){var y=m instanceof _a?Bi(m):new _a(m);if(""!=y.g)p&&(y.g=p+"."+y.g),Ly(y,y.s);else{var P=a.location;y=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var O=new _a(null);y&&Vy(O,y),p&&(O.g=p),P&&Ly(O,P),m&&(O.l=m),y=O}return p=l.ya,(m=l.D)&&p&&nt(y,m,p),nt(y,"VER",l.la),_f(l,y),y}function lW(l,p,m){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(p=new yt(l.Ca&&!l.pa?new ff({eb:m}):l.pa)).Ha(l.J),p}function dW(){}function zy(){}function sr(l,p){vn.call(this),this.g=new eW(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!S(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.D=p,null!==(l=this.h)&&p in l&&p in(l=this.h)&&delete l[p]),this.j=new Vu(this)}function hW(l){CP.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=null!==p&&l in p?p[l]:void 0),this.data=p}else this.data=l}function fW(){AP.call(this),this.status=1}function Vu(l){this.g=l}(t=yt.prototype).Ha=function(l){this.J=l},t.ea=function(l,p,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():SP.g(),this.v=function w4(l){return l.h||(l.h=l.i())}(this.o?this.o:SP),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(O){return void Q4(this,O)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)m.set(P,y[P]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const O of y.keys())m.set(O,y.get(O))}y=Array.from(m.keys()).find(O=>"content-type"==O.toLowerCase()),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Vve,p,void 0))||y||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,K]of m)this.g.setRequestHeader(O,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{X4(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){Q4(this,O)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Dn(this,"complete"),Dn(this,"abort"),jy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jy(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?J4(this):this.bb())},t.bb=function(){J4(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&0==p.indexOf(l)&&(p=p.substring(l.length)),pve(p)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=eW.prototype).la=8,t.G=1,t.connect=function(l,p,m,y){Pn(0),this.W=l,this.H=p||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=uW(this,null,this.W),$y(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new qo(this,this.j,l);let O=this.o;if(this.S&&(O?(O=I(O),R(O,this.S)):O=this.S),null!==this.m||this.O||(P.H=O,O=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(p+=y)){p=m;break e}if(4096===p||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=rW(this,P,p),nt(m=Bi(this.I),"RID",l),nt(m,"CVER",22),this.D&&nt(m,"X-HTTP-Session-Id",this.D),_f(this,m),O&&(this.O?p="headers="+encodeURIComponent(String(K4(O)))+"&"+p:this.m&&xP(m,this.m,O)),kP(this.h,P),this.Ua&&nt(m,"TYPE","init"),this.P?(nt(m,"$req",p),nt(m,"SID","null"),P.T=!0,DP(P,m,null)):DP(P,m,p),this.G=2}}else 3==this.G&&(l?nW(this,l):0==this.i.length||V4(this.h)||nW(this))},t.Fa=function(){if(this.u=null,oW(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=af(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pn(10),By(this),oW(this))},t.Za=function(){null!=this.C&&(this.C=null,By(this),VP(this),Pn(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=dW.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},zy.prototype.g=function(l,p){return new sr(l,p)},_(sr,vn),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){OP(this.g)},sr.prototype.o=function(l){var p=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=wP(l),l=m);p.i.push(new Ive(p.Ya++,l)),3==p.G&&$y(p)},sr.prototype.N=function(){this.g.l=null,delete this.j,OP(this.g),delete this.g,sr.aa.N.call(this)},_(hW,CP),_(fW,AP),_(Vu,dW),Vu.prototype.ua=function(){Dn(this.g,"a")},Vu.prototype.ta=function(l){Dn(this.g,new hW(l))},Vu.prototype.sa=function(l){Dn(this.g,new fW)},Vu.prototype.ra=function(){Dn(this.g,"b")},zy.prototype.createWebChannel=zy.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,JB=Mi.createWebChannelTransport=function(){return new zy},YB=Mi.getStatEventTarget=function(){return My()},QB=Mi.Event=ga,nS=Mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ky.NO_ERROR=0,ky.TIMEOUT=8,ky.HTTP_ERROR=6,n_=Mi.ErrorCode=ky,D4.COMPLETE="complete",KB=Mi.EventType=D4,b4.EventType=rf,rf.OPEN="a",rf.CLOSE="b",rf.ERROR="c",rf.MESSAGE="d",vn.prototype.listen=vn.prototype.K,th=Mi.WebChannel=b4,Mi.FetchXmlHttpFactory=ff,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,WB=Mi.XhrIo=yt}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});const XB="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let $c="11.10.0";const To=new Sm("@firebase/firestore");function Hc(){return To.logLevel}function j(t,...e){if(To.logLevel<=Te.DEBUG){const n=e.map(rS);To.debug(`Firestore (${$c}): ${t}`,...n)}}function Tt(t,...e){if(To.logLevel<=Te.ERROR){const n=e.map(rS);To.error(`Firestore (${$c}): ${t}`,...n)}}function Sn(t,...e){if(To.logLevel<=Te.WARN){const n=e.map(rS);To.warn(`Firestore (${$c}): ${t}`,...n)}}function rS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";"string"==typeof e?r=e:n=e,e$(t,r,n)}function e$(t,e,n){let r=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tt(r),new Error(r)}function Y(t,e,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,t||e$(e,i,r)}function W(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class t${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Nfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mfe{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;Y(void 0===this.o,42304);let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new $t;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $t,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(C(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $t)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken,31837,{l:r}),new t$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e,2055,{h:e}),new Bt(e)}}class kfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kfe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ofe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Y(void 0===this.o,3512);const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y("string"==typeof n.token,44558,{tokenResult:n}),this.m=n.token,new iS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function oS(){return new TextEncoder}class sS{static newId(){const n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Vfe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function aS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ie(r,i);{const o=oS(),s=Lfe(o.encode(n$(t,n)),o.encode(n$(e,n)));return 0!==s?s:ie(r,i)}}n+=r>65535?2:1}return ie(t.length,e.length)}function n$(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Lfe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function zc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const cS="__name__";class Wr{constructor(e,n,r){void 0===n?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),void 0===r?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Wr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Wr.compareSegments(e.get(i),n.get(i));if(0!==o)return o}return ie(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),i=Wr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):aS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class ve extends Wr{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const Ffe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Wr{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Ffe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cS}static keyField(){return new ot([cS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}class q{constructor(e){this.path=e}static fromPath(e){return new q(ve.fromString(e))}static fromName(e){return new q(ve.fromString(e).popFirst(5))}static empty(){return new q(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ve(e.slice()))}}function uS(t,e,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i$(t){if(!q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o$(t){if(q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s$(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function r_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Q(12329,{type:typeof t})}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r_(t);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bs(t,e){if(!s$(t))throw new U(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new U(M.INVALID_ARGUMENT,n);return!0}const c$=-62135596800;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c$)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bs(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds-c$).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Rt("string",xe._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new xe(0,0))}static max(){return new ee(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function d$(t){return new er(t.readTime,t.key,-1)}class er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new er(ee.min(),q.empty(),-1)}static max(){return new er(ee.max(),q.empty(),-1)}}function dS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=q.comparator(t.documentKey,e.documentKey),0!==n?n:ie(t.largestBatchId,e.largestBatchId))}class f${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wo(t){return hS.apply(this,arguments)}function hS(){return hS=C(function*(t){if(t.code!==M.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;j("LocalStore","Unexpectedly lost primary lease")}),hS.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new N((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function bo(t){return"IndexedDbTransactionError"===t.name}let nr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ae&&this.ae(n),n}}return t.ue=-1,t})();function ih(t){return null==t}function oh(t){return 0===t&&1/t==-1/0}function qfe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _$(t){return t+"\x01\x01"}const ah="mutationQueues",Dr="mutations",Qc="documentMutations",ch="remoteDocumentGlobal",Yc="targets",Jc="targetDocuments",Ws="targetGlobal",uh="collectionParents",Xc="clientMetadata",l_="bundles",d_="namedQueries";function P$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ke{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f_(this.root,e,this.comparator,!1)}getReverseIterator(){return new f_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f_(this.root,e,this.comparator,!0)}}class f_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k$(this.data.getIterator())}getIteratorFrom(e){return new k$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class k${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Oe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class x$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x$("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const ype=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(Y(!!t,39018),"string"==typeof t){let e=0;const n=ype.exec(t);if(Y(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xi(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}const O$="server_timestamp",V$="__type__",L$="__previous_value__",F$="__local_write_time__";function p_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[V$])||void 0===n?void 0:n.stringValue)===O$}function g_(t){const e=t.mapValue.fields[L$];return p_(e)?g_(e):e}function hh(t){const e=ki(t.mapValue.fields[F$].timestampValue);return new xe(e.seconds,e.nanos)}class vpe{constructor(e,n,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const fh="(default)";class Ks{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}const TS="__type__",U$="__max__",So_mapValue={fields:{__type__:{stringValue:U$}}},wS="__vector__",eu="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p_(t)?4:z$(t)?9007199254740991:v_(t)?10:11:Q(28295,{value:t})}function Yr(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ki(i.timestampValue),a=ki(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,xi(t.bytesValue).isEqual(xi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=st(i.doubleValue),a=st(o.doubleValue);return s===a?oh(s)===oh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(P$(s)!==P$(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Yr(s[c],a[c])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}var o}function ph(t,e){return void 0!==(t.values||[]).find(n=>Yr(n,e))}function Do(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=st(o.integerValue||o.doubleValue),c=st(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return j$(t.timestampValue,e.timestampValue);case 4:return j$(hh(t),hh(e));case 5:return aS(t.stringValue,e.stringValue);case 6:return function(o,s){const a=xi(o),c=xi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=ie(a[u],c[u]);if(0!==d)return d}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ie(st(o.latitude),st(s.latitude));return 0!==a?a:ie(st(o.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B$(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;const g=null===(a=(o.fields||{})[eu])||void 0===a?void 0:a.arrayValue,_=null===(c=(s.fields||{})[eu])||void 0===c?void 0:c.arrayValue,v=ie((null===(u=g?.values)||void 0===u?void 0:u.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:B$(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===So_mapValue&&s===So_mapValue)return 0;if(o===So_mapValue)return 1;if(s===So_mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=aS(c[h],d[h]);if(0!==f)return f;const g=Do(a[c[h]],u[d[h]]);if(0!==g)return g}return ie(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function j$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ie(t,e);const n=ki(t),r=ki(e),i=ie(n.seconds,r.seconds);return 0!==i?i:ie(n.nanos,r.nanos)}function B$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Do(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function tu(t){return bS(t)}function bS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ki(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xi(t.bytesValue).toBase64():"referenceValue"in t?q.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=bS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${bS(n.fields[s])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function __(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=g_(t);return e?16+__(e):16;case 5:return 2*t.stringValue.length;case 6:return xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+__(o),0);case 10:case 11:return function(r){let i=0;return Ao(r.fields,(o,s)=>{i+=o.length+__(s)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function CS(t){return!!t&&"integerValue"in t}function gh(t){return!!t&&"arrayValue"in t}function $$(t){return!!t&&"nullValue"in t}function H$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function y_(t){return!!t&&"mapValue"in t}function v_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[TS])||void 0===n?void 0:n.stringValue)===wS}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U$}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!y_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=mh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());y_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];y_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xt(mh(this.value))}}function K$(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new ot([n]);if(y_(r)){const o=K$(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new qn(e)}class tt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,ee.min(),ee.min(),ee.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new tt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new tt(e,2,n,ee.min(),ee.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,ee.min(),ee.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Po{constructor(e,n){this.position=e,this.inclusive=n}}function Q$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?q.comparator(q.fromName(s.referenceValue),n.key):Do(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Y$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tpe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class J${}class we extends J${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new wpe(e,n,r):"array-contains"===n?new Ape(e,r):"in"===n?new rH(e,r):"not-in"===n?new Spe(e,r):"array-contains-any"===n?new Rpe(e,r):new we(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new bpe(e,r):new Cpe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&void 0===n.nullValue&&this.matchesComparison(Do(n,this.value)):null!==n&&Ro(this.value)===Ro(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends J${constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ve(e,n)}matches(e){return nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function nu(t){return"and"===t.op}function SS(t){return function X$(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&nu(t)}function RS(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(SS(t))return t.filters.map(e=>RS(e)).join(",");{const e=t.filters.map(n=>RS(n)).join(",");return`${t.op}(${e})`}}function Z$(t,e){return t instanceof we?(r=t,(i=e)instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)):t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Z$(s,i.filters[a]),!0)}(t,e):void Q(19439);var r,i}function tH(t){return t instanceof we?`${(n=t).field.canonicalString()} ${n.op} ${tu(n.value)}`:t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(tH).join(" ,")+"}"}(t):"Filter";var n}class wpe extends we{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class bpe extends we{constructor(e,n){super(e,"in",n),this.keys=nH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cpe extends we{constructor(e,n){super(e,"not-in",n),this.keys=nH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class Ape extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gh(n)&&ph(n.arrayValue,this.value)}}class rH extends we{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ph(this.value.arrayValue,n)}}class Spe extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&void 0===n.nullValue&&!ph(this.value.arrayValue,n)}}class Rpe extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class Dpe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}}function DS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Dpe(t,e,n,r,i,o,s)}function Ys(t){const e=W(t);if(null===e.Pe){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>RS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.Pe=n}return e.Pe}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tpe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y$(t.startAt,e.startAt)&&Y$(t.endAt,e.endAt)}function E_(t){return q.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Oi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null}}function ru(t){return new Oi(t)}function aH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function iu(t){const e=W(t);if(null===e.Te){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Oe(ot.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new _h(o,r))}),n.has(ot.keyField().canonicalString())||e.Te.push(new _h(ot.keyField(),r))}return e.Te}function pn(t){const e=W(t);return e.Ie||(e.Ie=function uH(t,e){if("F"===t.limitType)return DS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new _h(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Po(t.startAt.position,t.startAt.inclusive):null;return DS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,iu(t))),e.Ie}function T_(t,e,n){return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return yh(pn(t),pn(e))&&t.limitType===e.limitType}function lH(t){return`${Ys(pn(t))}|lt:${t.limitType}`}function ou(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tH(i)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tu(i)).join(",")),`Target(${r})`}(pn(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of iu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const u=Q$(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,iu(r),i)||r.endAt&&!function(s,a,c){const u=Q$(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,iu(r),i)));var r,i}function hH(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const o=Ppe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Ppe(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return null!==c&&null!==u?Do(c,u):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return M$(this.inner)}size(){return this.innerSize}}const Npe=new Ke(q.comparator);function Wn(){return Npe}const fH=new Ke(q.comparator);function Ih(...t){let e=fH;for(const n of t)e=e.insert(n.key,n);return e}function pH(t){let e=fH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Th()}function gH(){return Th()}function Th(){return new Vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mpe=new Ke(q.comparator),kpe=new Oe(q.comparator);function ge(...t){let e=kpe;for(const n of t)e=e.add(n);return e}const xpe=new Oe(ie);function kS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function mH(t){return{integerValue:""+t}}function _H(t,e){return function m$(t){return"number"==typeof t&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?mH(e):kS(t,e)}class w_{constructor(){this._=void 0}}function Ope(t,e,n){return t instanceof su?function(i,o){const s={fields:{[V$]:{stringValue:O$},[F$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&p_(o)&&(o=g_(o)),o&&(s.fields[L$]=o),{mapValue:s}}(n,e):t instanceof Js?vH(t,e):t instanceof Xs?EH(t,e):function(i,o){const s=yH(i,o),a=IH(s)+IH(i.Ee);return CS(s)&&CS(i.Ee)?mH(a):kS(i.serializer,a)}(t,e)}function Vpe(t,e,n){return t instanceof Js?vH(t,e):t instanceof Xs?EH(t,e):n}function yH(t,e){return t instanceof au?CS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class su extends w_{}class Js extends w_{constructor(e){super(),this.elements=e}}function vH(t,e){const n=TH(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xs extends w_{constructor(e){super(),this.elements=e}}function EH(t,e){let n=TH(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class au extends w_{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function IH(t){return st(t.integerValue||t.doubleValue)}function TH(t){return gh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Fpe{constructor(e,n){this.version=e,this.transformResults=n}}class at{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new at}static exists(e){return new at(void 0,e)}static updateTime(e){return new at(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class C_{}function wH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uu(t.key,at.none()):new cu(t.key,t.data,at.none());{const n=t.data,r=Xt.empty();let i=new Oe(ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Li(t.key,r,new qn(i.toArray()),at.none())}}function Upe(t,e,n){t instanceof cu?function(i,o,s){const a=i.value.clone(),c=AH(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,o,s){if(!b_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=AH(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(CH(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function bh(t,e,n,r){return t instanceof cu?function(o,s,a,c){if(!b_(o.precondition,s))return a;const u=o.value.clone(),d=SH(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(o,s,a,c){if(!b_(o.precondition,s))return a;const u=SH(o.fieldTransforms,c,s),d=s.data;return d.setAll(CH(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,b_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function jpe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=yH(r.transform,i||null);null!=o&&(null===n&&(n=Xt.empty()),n.set(r.field,o))}return n||null}function bH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&zc(r,i,(o,s)=>function Lpe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Js&&i instanceof Js||r instanceof Xs&&i instanceof Xs?zc(r.elements,i.elements,Yr):r instanceof au&&i instanceof au?Yr(r.Ee,i.Ee):r instanceof su&&i instanceof su);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class cu extends C_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends C_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AH(t,e,n){const r=new Map;Y(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Vpe(s,a,n[i]))}return r}function SH(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Ope(o,s,e))}return r}class uu extends C_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xS extends C_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Upe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gH();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=wH(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(n,r)=>bH(n,r))&&zc(this.baseMutations,e.baseMutations,(n,r)=>bH(n,r))}}class VS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Mpe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new VS(e,n,r,i)}}class LS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bpe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Ae;function PH(t){if(void 0===t)return Tt("GRPC error has no .code"),M.UNKNOWN;switch(t){case Dt.OK:return M.OK;case Dt.CANCELLED:return M.CANCELLED;case Dt.UNKNOWN:return M.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return M.INTERNAL;case Dt.UNAVAILABLE:return M.UNAVAILABLE;case Dt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Dt.NOT_FOUND:return M.NOT_FOUND;case Dt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Dt.ABORTED:return M.ABORTED;case Dt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Dt.DATA_LOSS:return M.DATA_LOSS;default:return Q(39323,{code:t})}}(Ae=Dt||(Dt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";const $pe=new Io([4294967295,4294967295],0);function NH(t){const e=oS().encode(t),n=new qB;return n.update(e),new Uint8Array(n.digest())}function MH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Io([n,r],0),new Io([i,o],0)]}class FS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ch(`Invalid padding: ${n}`);if(r<0)throw new Ch(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ch(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ch(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Io.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Io.fromNumber(r)));return 1===i.compare($pe)&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const n=NH(e),[r,i]=MH(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new FS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.fe)return;const n=NH(e),[r,i]=MH(n);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);this.we(s)}}we(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(ee.min(),i,new Ke(ie),Wn(),ge())}}class Sh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,ge(),ge(),ge())}}class S_{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class kH{constructor(e,n){this.targetId=e,this.De=n}}class xH{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OH{constructor(){this.ve=0,this.Ce=VH(),this.Fe=_t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),n=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Sh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=VH()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Y(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Hpe{constructor(e){this.We=e,this.Ge=new Map,this.ze=Wn(),this.je=R_(),this.Je=R_(),this.He=new Ke(ie)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(E_(o))if(0===r){const s=new q(o.path);this.Xe(n,s,tt.newNoDocument(s,ee.min()))}else Y(1===r,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const a=this._t(e),c=a?this.ut(a,e,s):1;0!==c&&(this.rt(n),this.He=this.He.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xi(r).toUint8Array()}catch(c){if(c instanceof x$)return Sn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new FS(s,i,o)}catch(c){return Sn(c instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.fe?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,s)=>{const a=this.st(s);if(a){if(o.current&&E_(a.target)){const c=new q(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,tt.newNoDocument(c,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.st(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));const i=new Ah(e,n,this.He,this.ze,r);return this.ze=Wn(),this.je=R_(),this.Je=R_(),this.He=new Ke(ie),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new OH,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Oe(ie),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Oe(ie),this.je=this.je.insert(e,n)),n}nt(e){const n=null!==this.st(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new OH),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function R_(){return new Ke(q.comparator)}function VH(){return new Ke(q.comparator)}const zpe={asc:"ASCENDING",desc:"DESCENDING"},Gpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qpe={and:"AND",or:"OR"};class Wpe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function US(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kpe(t,e){return lu(t,e.toTimestamp())}function wt(t){return Y(!!t,49232),ee.fromTimestamp(function(n){const r=ki(n);return new xe(r.seconds,r.nanos)}(t))}function jS(t,e){return BS(t,e).canonicalString()}function BS(t,e){const n=(i=t,new ve(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function FH(t){const e=ve.fromString(t);return Y(KH(e),10190,{key:e.toString()}),e}function Rh(t,e){return jS(t.databaseId,e.path)}function Xr(t,e){const n=FH(e);if(n.get(1)!==t.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(BH(n))}function UH(t,e){return jS(t.databaseId,e)}function $S(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BH(t){return Y(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function $H(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function HH(t,e){return{documents:[UH(t,e.path)]}}function P_(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UH(t,i);const o=function(u){if(0!==u.length)return WH(Ve.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(d=>{return{field:No((f=d).field),direction:Zpe(f.dir)};var f})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=US(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i};var u}function GH(t){let e=function jH(t){const e=FH(t);return 4===e.length?ve.emptyPath():BH(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(1===r,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=qH(h);return f instanceof Ve&&SS(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new _h(du((_=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let f;return f="object"==typeof h?h.value:h,ih(f)?null:f}(n.limit));let c=null;var h;n.startAt&&(c=new Po((h=n.startAt).values||[],!!h.before));let u=null;return n.endAt&&(u=function(h){return new Po(h.values||[],!h.before)}(n.endAt)),function sH(t,e,n,r,i,o,s,a){return new Oi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function qH(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=du(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=du(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=du(n.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=du(n.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):void 0!==t.fieldFilter?we.create(du((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ve.create(n.compositeFilter.filters.map(r=>qH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t});var n}function Zpe(t){return zpe[t]}function ege(t){return Gpe[t]}function tge(t){return qpe[t]}function No(t){return{fieldPath:t.canonicalString()}}function du(t){return ot.fromServerFormat(t.fieldPath)}function WH(t){return t instanceof we?function(n){if("=="===n.op){if(H$(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if($$(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(H$(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if($$(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:ege(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(i=>WH(i));return 1===r.length?r[0]:{compositeFilter:{op:tge(n.op),filters:r}}}(t):Q(54877,{filter:t})}function nge(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KH(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Fi{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=_t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QH{constructor(e){this.gt=e}}function M_(t){const e=GH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?T_(e,e.limit,"L"):e}class na{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),oh(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),"string"==typeof r&&(r=ki(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(xi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?z$(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):v_(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;const o=e.fields||{};this.Ct(n,53);const s=eu,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Ct(n,15),n.Ft(st(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),q.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}na.Ut=new na;class dge{constructor(){this.Dn=new QS}addToCollectionParentIndex(e,n){return this.Dn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(er.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class QS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(ve.comparator)).toArray()}}new Uint8Array(0);const hz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class ia{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ia(0)}static ur(){return new ia(-1)}}const yz="LruGarbageCollector";function Ez([t,e],[n,r]){const i=ie(t,n);return 0===i?ie(e,r):i}class pge{constructor(e){this.Tr=e,this.buffer=new Oe(Ez),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ez(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Iz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){var n=this;j(yz,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,C(function*(){n.Ar=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){bo(r)?j(yz,"Ignoring IndexedDB error during garbage collection: ",r):yield wo(r)}yield n.Rr(3e5)}))}}class gge{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return N.resolve(nr.ue);const r=new pge(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(hz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hz):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Hc()<=Te.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${h} documents in `+(u-c)+`ms\nTotal Duration: ${u-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class wz{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vge{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Rz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&bh(r.mutation,i,qn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ih();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wn();const s=Th(),a=Th();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(void 0===d||d.mutation instanceof Li)?o=o.insert(u.key,u):void 0!==d?(s.set(u.key,d.mutation.getFieldMask()),bh(d.mutation,u,d.mutation.getFieldMask(),xe.now())):s.set(u.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new vge(d,null!==(h=s.get(u))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Th();let i=new Ke((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let d=r.get(c)||qn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const h=(i.get(a.batchId)||ge()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=gH();d.forEach(f=>{if(!o.has(f)){const g=wH(n.get(f),r.get(f));null!==g&&h.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return q.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function PS(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Jr());let a=-1,c=o;return s.next(u=>N.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:a,changes:pH(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ih();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{const u=(h=n,f=c.child(o),new Oi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{const d=u.getKey();null===s.get(d)&&(s=s.insert(d,tt.newInvalidDocument(d)))});let a=Ih();return s.forEach((c,u)=>{const d=o.get(c);void 0!==d&&bh(d.mutation,u,qn.empty(),xe.now()),Eh(n,u)&&(a=a.insert(c,u))}),a})}}class Ege{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return N.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,{id:(i=n).id,version:i.version,createTime:wt(i.createTime)}),N.resolve();var i}getNamedQuery(e,n){return N.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,{name:(i=n).name,query:M_(i.bundledQuery),readTime:wt(i.readTime)}),N.resolve();var i}}class Ige{constructor(){this.overlays=new Ke(q.comparator),this.kr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ke((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);null===d&&(d=Jr(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Jr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return N.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LS(n,r));let o=this.kr.get(n);void 0===o&&(o=ge(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}class Tge{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}}class YS{constructor(){this.qr=new Oe(Ht.Qr),this.$r=new Oe(Ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ht(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new q(new ve([])),r=new Ht(n,e),i=new Ht(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new q(new ve([])),r=new Ht(n,e),i=new Ht(n,e+1);let o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ht(e,0),r=this.qr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return q.comparator(e.key,n.key)||ie(e.Hr,n.Hr)}static Ur(e,n){return ie(e.Hr,n.Hr)||q.comparator(e.key,n.key)}}class wge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Oe(Ht.Qr)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.er;this.er++;const s=new OS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Yr=this.Yr.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Xr(n+1),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{const a=this.Zr(s.Hr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(ie);return n.forEach(i=>{const o=new Ht(i,0),s=new Ht(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),N.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;q.isDocumentKey(o)||(o=o.child(""));const s=new Ht(new q(o),0);let a=new Oe(ie);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),N.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Y(0===this.ti(n.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Yr;return N.forEach(n.mutations,i=>{const o=new Ht(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ht(n,0),i=this.Yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return N.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bge{constructor(e){this.ni=e,this.docs=new Ke(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wn();const s=n.path,a=new q(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dS(d$(d),r)<=0||(i.has(d.key)||Eh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cge(this)}getSize(e){return N.resolve(this.size)}}class Cge extends wz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}class Age{constructor(e){this.persistence=e,this.ii=new Vi(n=>Ys(n),yh),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new YS,this.targetCount=0,this._i=ia.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),N.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.hr(n),N.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.oi.containsKey(n))}}class JS{constructor(e,n){this.ai={},this.overlays={},this.ui=new nr(0),this.ci=!1,this.ci=!0,this.li=new Tge,this.referenceDelegate=e(this),this.hi=new Age(this),this.indexManager=new dge,this.remoteDocumentCache=new bge(r=>this.referenceDelegate.Pi(r)),this.serializer=new QH(n),this.Ti=new Ege(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ige,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new wge(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new Sge(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return N.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Sge extends f${constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Ai=new YS,this.Ri=null}static Vi(e){return new j_(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),N.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.mi,r=>{const i=q.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return N.or([()=>N.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class B_{constructor(e,n){this.persistence=e,this.gi=new Vi(r=>function fn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_$(e)),e=qfe(t.get(n),e);return _$(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function Tz(t,e){return new gge(t,e)}(this,n)}static Vi(e,n){return new B_(e,n)}Ii(){}di(e){return N.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return N.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?N.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),N.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),N.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=__(e.data.value)),n}Sr(e,n,r){return N.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return N.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rR(e,n.fromCache,r,i)}}class Dge{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=UU()?8:function p$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Qt())>0?6:4}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Dge;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Hc()<=Te.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),N.resolve()):(Hc()<=Te.DEBUG&&j("QueryEngine","Query:",ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Hc()<=Te.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(n))):N.resolve())}ps(e,n){if(aH(n))return N.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=T_(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ds(n,u,s,c.readTime)?this.ps(e,T_(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,i){return aH(n)||i.isEqual(ee.min())?N.resolve(null):this.gs.getDocuments(e,r).next(o=>{const s=this.bs(n,o);return this.Ds(n,s,r,i)?N.resolve(null):(Hc()<=Te.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ou(n)),this.vs(e,s,n,function l$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(1e9===r?new xe(n+1,0):new xe(n,r));return new er(i,q.empty(),e)}(i,-1)).next(a=>a))})}bs(e,n){let r=new Oe(hH(e));return n.forEach((i,o)=>{Eh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Hc()<=Te.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ou(n)),this.gs.getDocumentsMatchingQuery(e,n,er.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}const iR="LocalStore";class Nge{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ke(ie),this.Ms=new Vi(o=>Ys(o),yh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function kz(t,e){return oR.apply(this,arguments)}function oR(){return oR=C(function*(t,e){const n=W(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ge();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})}),oR.apply(this,arguments)}function xz(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function xge(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yu(t,e,n){return sR.apply(this,arguments)}function sR(){return sR=C(function*(t,e,n){const r=W(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!bo(s))throw s;j(iR,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}),sR.apply(this,arguments)}function H_(t,e,n){const r=W(t);let i=ee.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const h=W(c),f=h.Ms.get(d);return void 0!==f?N.resolve(h.Fs.get(f)):h.hi.getTargetData(u,d)}(r,s,pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:ge())).next(a=>(function Fz(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}(r,function dH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,qs:o})))}class dR{constructor(){this.activeTargetIds=function MS(){return xpe}()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zz{constructor(){this.Fo=new dR,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lge{xo(e){}shutdown(){}}const Gz="ConnectivityMonitor";class qz{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(Gz,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){j(Gz,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let q_=null;function fR(){return null===q_?q_=268435456+Math.round(2147483648*Math.random()):q_++,"0x"+q_.toString(16)}const pR="RestConnection",Fge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uge{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=fR(),a=this.Go(e,n.toUriEncodedString());j(pR,`Sending RPC '${e}' ${s}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);const{host:u}=new URL(a),d=kd(u);return this.jo(e,a,c,r,d).then(h=>(j(pR,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Sn(pR,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$c,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){return`${this.$o}/v1/${n}:${Fge[e]}`}terminate(){}}class jge{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const mn="WebChannelConnection";class Bge extends Uge{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const s=fR();return new Promise((a,c)=>{const u=new WB;u.setWithCredentials(!0),u.listenOnce(KB.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case n_.NO_ERROR:const h=u.getResponseJson();j(mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case n_.TIMEOUT:j(mn,`RPC '${e}' ${s} timed out`),c(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case n_.HTTP_ERROR:const f=u.getStatus();if(j(mn,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const v=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(S)>=0?S:M.UNKNOWN}(_.status);c(new U(v,_.message))}else c(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(M.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{j(mn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);j(mn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=fR(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=JB(),a=YB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");j(mn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=s.createWebChannel(d,c);this.T_(h);let f=!1,g=!1;const _=new jge({Ho:E=>{g?j(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(j(mn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),j(mn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Yo:()=>h.close()}),v=(E,w,S)=>{E.listen(w,V=>{try{S(V)}catch(H){setTimeout(()=>{throw H},0)}})};return v(h,th.EventType.OPEN,()=>{g||(j(mn,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),v(h,th.EventType.CLOSE,()=>{g||(g=!0,j(mn,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(h))}),v(h,th.EventType.ERROR,E=>{g||(g=!0,Sn(mn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.__(new U(M.UNAVAILABLE,"The operation could not be completed")))}),v(h,th.EventType.MESSAGE,E=>{var w;if(!g){const S=E.data[0];Y(!!S,16349);const V=S,H=V?.error||(null===(w=V[0])||void 0===w?void 0:w.error);if(H){j(mn,`RPC '${e}' stream ${i} received error:`,H);const G=H.status;let X=function(T){const R=Dt[T];if(void 0!==R)return PH(R)}(G),A=H.message;void 0===X&&(X=M.INTERNAL,A="Unknown error status: "+G+" with message "+H.message),g=!0,_.__(new U(X,A)),h.close()}else j(mn,`RPC '${e}' stream ${i} received:`,S),_.a_(S)}}),v(a,QB.STAT_EVENT,E=>{E.stat===nS.PROXY?j(mn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===nS.NOPROXY&&j(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function W_(){return typeof document<"u"?document:null}function sa(t){return new Wpe(t,!0)}class gR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Kz="PersistentStream";class Qz{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gR(e,n)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}stop(){var e=this;return C(function*(){e.M_()&&(yield e.close(0))})()}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){var e=this;return C(function*(){if(e.x_())return e.close(0)})()}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){var r=this;return C(function*(){r.q_(),r.Q_(),r.F_.cancel(),r.b_++,4!==e?r.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Tt(n.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),r.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.U_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.n_(n)})()}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.C_?this.j_(i):this.onNext(i))})}O_(){var e=this;this.state=5,this.F_.g_(C(function*(){e.state=0,e.start()}))}G_(e){return j(Kz,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(Kz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $ge extends Qz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=function Ype(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Q(39313,{state:u}),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Y(void 0===d||"string"==typeof d,58123),_t.fromBase64String(d||"")):(Y(void 0===d||d instanceof Buffer||d instanceof Uint8Array,16193),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=void 0===u.code?M.UNKNOWN:PH(u.code);return new U(d,u.message||"")}(s);n=new xH(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(t,r.document.name),o=wt(r.document.updateTime),s=r.document.createTime?wt(r.document.createTime):ee.min(),a=new Xt({mapValue:{fields:r.document.fields}}),c=tt.newFoundDocument(i,o,s,a);n=new S_(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(t,r.document),o=r.readTime?wt(r.readTime):ee.min(),s=tt.newNoDocument(i,o);n=new S_([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(t,r.document);n=new S_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Bpe(i,o);n=new kH(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?wt(s.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=$S(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=E_(c)?{documents:HH(o,c)}:{query:P_(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LH(o,s.resumeToken);const u=US(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=lu(o,s.snapshotVersion.toTimestamp());const u=US(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Xpe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=$S(this.serializer),n.removeTarget=e,this.k_(n)}}class Hge extends Qz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Y(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Y(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){Y(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=function Jpe(t,e){return t&&t.length>0?(Y(void 0!==e,14353),t.map(n=>function(i,o){let s=wt(i.updateTime?i.updateTime:o);return s.isEqual(ee.min())&&(s=wt(o)),new Fpe(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wt(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=$S(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Dh(t,e){let n;if(e instanceof cu)n={update:$H(t,e.key,e.value)};else if(e instanceof uu)n={delete:Rh(t,e.key)};else if(e instanceof Li)n={update:$H(t,e.key,e.data),updateMask:nge(e.fieldMask)};else{if(!(e instanceof xS))return Q(16599,{Rt:e.type});n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof su)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof au)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Kpe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Q(27497)),n;var o}(this.serializer,r))};this.k_(n)}}class zge{}class Gge extends zge{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,BS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,BS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tt(n),this._a=!1):j("OnlineStateTracker",n)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const aa="RemoteStore";class Wge{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{r.enqueueAndForget(C(function*(){var c;Vo(s)&&(j(aa,"Restarting streams for network reachability change."),yield(c=C(function*(d){const h=W(d);h.Ia.add(4),yield vu(h),h.Aa.set("Unknown"),h.Ia.delete(4),yield Lh(h)}),function u(d){return c.apply(this,arguments)})(s))}))}),this.Aa=new qge(r,i)}}function Lh(t){return mR.apply(this,arguments)}function mR(){return mR=C(function*(t){if(Vo(t))for(const e of t.da)yield e(!0)}),mR.apply(this,arguments)}function vu(t){return _R.apply(this,arguments)}function _R(){return _R=C(function*(t){for(const e of t.da)yield e(!1)}),_R.apply(this,arguments)}function K_(t,e){const n=W(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ER(n)?vR(n):Tu(n).x_()&&yR(n,e))}function Eu(t,e){const n=W(t),r=Tu(n);n.Ta.delete(e),r.x_()&&Yz(n,e),0===n.Ta.size&&(r.x_()?r.B_():Vo(n)&&n.Aa.set("Unknown"))}function yR(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).H_(e)}function Yz(t,e){t.Ra.$e(e),Tu(t).Y_(e)}function vR(t){t.Ra=new Hpe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.Aa.aa()}function ER(t){return Vo(t)&&!Tu(t).M_()&&t.Ta.size>0}function Vo(t){return 0===W(t).Ia.size}function Jz(t){t.Ra=void 0}function Kge(t){return IR.apply(this,arguments)}function IR(){return IR=C(function*(t){t.Aa.set("Online")}),IR.apply(this,arguments)}function Qge(t){return TR.apply(this,arguments)}function TR(){return TR=C(function*(t){t.Ta.forEach((e,n)=>{yR(t,e)})}),TR.apply(this,arguments)}function Yge(t,e){return wR.apply(this,arguments)}function wR(){return wR=C(function*(t,e){Jz(t),ER(t)?(t.Aa.la(e),vR(t)):t.Aa.set("Unknown")}),wR.apply(this,arguments)}function Jge(t,e,n){return bR.apply(this,arguments)}function bR(){return bR=C(function*(t,e,n){if(t.Aa.set("Online"),e instanceof xH&&2===e.state&&e.cause)try{yield(r=C(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.Ta.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.Ta.delete(c),o.Ra.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){j(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Q_(t,r)}else if(e instanceof S_?t.Ra.Ye(e):e instanceof kH?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const r=yield xz(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),Yz(o,c);const h=new Fi(d.target,c,u,d.sequenceNumber);yR(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(aa,"Failed to raise snapshot:",r),yield Q_(t,r)}var r}),bR.apply(this,arguments)}function Q_(t,e,n){return CR.apply(this,arguments)}function CR(){return CR=C(function*(t,e,n){if(!bo(e))throw e;t.Ia.add(1),yield vu(t),t.Aa.set("Offline"),n||(n=()=>xz(t.localStore)),t.asyncQueue.enqueueRetryable(C(function*(){j(aa,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Lh(t)}))}),CR.apply(this,arguments)}function Xz(t,e){return e().catch(n=>Q_(t,n,e))}function Iu(t){return AR.apply(this,arguments)}function AR(){return AR=C(function*(t){const e=W(t),n=Lo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:-1;for(;Xge(e);)try{const i=yield xge(e.localStore,r);if(null===i){0===e.Pa.length&&n.B_();break}r=i.batchId,Zge(e,i)}catch(i){yield Q_(e,i)}Zz(e)&&eG(e)}),AR.apply(this,arguments)}function Xge(t){return Vo(t)&&t.Pa.length<10}function Zge(t,e){t.Pa.push(e);const n=Lo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Zz(t){return Vo(t)&&!Lo(t).M_()&&t.Pa.length>0}function eG(t){Lo(t).start()}function eme(t){return SR.apply(this,arguments)}function SR(){return SR=C(function*(t){Lo(t).na()}),SR.apply(this,arguments)}function tme(t){return RR.apply(this,arguments)}function RR(){return RR=C(function*(t){const e=Lo(t);for(const n of t.Pa)e.X_(n.mutations)}),RR.apply(this,arguments)}function nme(t,e,n){return DR.apply(this,arguments)}function DR(){return DR=C(function*(t,e,n){const r=t.Pa.shift(),i=VS.from(r,e,n);yield Xz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Iu(t)}),DR.apply(this,arguments)}function rme(t,e){return PR.apply(this,arguments)}function PR(){return PR=C(function*(t,e){var n;e&&Lo(t).Z_&&(yield(n=C(function*(i,o){if(function DH(t){switch(t){case M.OK:return Q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}(a=o.code)&&a!==M.ABORTED){const s=i.Pa.shift();Lo(i).N_(),yield Xz(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Iu(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),Zz(t)&&eG(t)}),PR.apply(this,arguments)}function tG(t,e){return NR.apply(this,arguments)}function NR(){return NR=C(function*(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),j(aa,"RemoteStore received new credentials");const r=Vo(n);n.Ia.add(3),yield vu(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Lh(n)}),NR.apply(this,arguments)}function kR(){return kR=C(function*(t,e){const n=W(t);e?(n.Ia.delete(2),yield Lh(n)):e||(n.Ia.add(2),yield vu(n),n.Aa.set("Unknown"))}),kR.apply(this,arguments)}function Tu(t){return t.Va||(t.Va=function(n,r,i){const o=W(n);return o.ia(),new $ge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Kge.bind(null,t),e_:Qge.bind(null,t),n_:Yge.bind(null,t),J_:Jge.bind(null,t)}),t.da.push(function(){var e=C(function*(n){n?(t.Va.N_(),ER(t)?vR(t):t.Aa.set("Unknown")):(yield t.Va.stop(),Jz(t))});return function(n){return e.apply(this,arguments)}}())),t.Va}function Lo(t){return t.ma||(t.ma=function(n,r,i){const o=W(n);return o.ia(),new Hge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:eme.bind(null,t),n_:rme.bind(null,t),ea:tme.bind(null,t),ta:nme.bind(null,t)}),t.da.push(function(){var e=C(function*(n){n?(t.ma.N_(),yield Iu(t)):(yield t.ma.stop(),t.Pa.length>0&&(j(aa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))});return function(n){return e.apply(this,arguments)}}())),t.ma}class xR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new xR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(t,e){if(Tt("AsyncQueue",`${e}: ${t}`),bo(t))return new U(M.UNAVAILABLE,`${e}: ${t}`);throw t}class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new Ke(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class nG{constructor(){this.fa=new Ke(q.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?0!==e.type&&3===r.type?this.fa=this.fa.insert(n,e):3===e.type&&1!==r.type?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.fa=this.fa.remove(n):1===e.type&&2===r.type?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ua(e,n,ca.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ime{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ome{constructor(){this.queries=rG(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(n,r){const i=W(n),o=i.queries;i.queries=rG(),o.forEach((s,a)=>{for(const c of a.wa)c.onError(r)})}(this,new U(M.ABORTED,"Firestore shutting down"))}}function rG(){return new Vi(t=>lH(t),vh)}function VR(){return VR=C(function*(t,e){const n=W(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new ime,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=wu(s,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&UR(n)}),VR.apply(this,arguments)}function FR(){return FR=C(function*(t,e){const n=W(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),0===o.wa.length?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),FR.apply(this,arguments)}function sme(t,e){const n=W(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&UR(n)}function ame(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function UR(t){t.Da.forEach(e=>{e.next()})}var jR,iG;(iG=jR||(jR={})).Fa="default",iG.Cache="cache";class BR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){return!e.fromCache||!this.ba()||(!this.options.ka||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Na(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}La(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jR.Cache}}class cG{constructor(e){this.key=e}}class uG{constructor(e){this.key=e}}class lG{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=hH(e),this.eu=new ca(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new nG,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=Eh(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.iu(f,g)||(r.track({type:2,doc:g}),E=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(c||u)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((d,h)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:E})}};return v(g)-v(_)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=null!=i&&i;const a=n&&!i?this.ou():[],c=0===this.Za.size&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,0!==s.length||u?{snapshot:new ua(this.query,e.eu,o,s,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new nG,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new uG(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new cG(r))}),n}uu(e){this.Ha=e.qs,this.Za=ge();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ua.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Fo="SyncEngine";class cme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ume{constructor(e){this.key=e,this.lu=!1}}class lme{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Vi(a=>lH(a),vh),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(q.comparator),this.Eu=new Map,this.Au=new YS,this.Ru={},this.Vu=new Map,this.mu=ia.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}function dme(t,e){return HR.apply(this,arguments)}function HR(){return HR=C(function*(t,e,n=!0){const r=Y_(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield dG(r,e,n,!0),i}),HR.apply(this,arguments)}function hme(t,e){return zR.apply(this,arguments)}function zR(){return zR=C(function*(t,e){const n=Y_(t);yield dG(n,e,!0,!1)}),zR.apply(this,arguments)}function dG(t,e,n,r){return GR.apply(this,arguments)}function GR(){return GR=C(function*(t,e,n,r){const i=yield function _u(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Fi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}(t.localStore,pn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function qR(t,e,n,r,i){return WR.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&K_(t.remoteStore,i),a}),GR.apply(this,arguments)}function WR(){return WR=C(function*(t,e,n,r,i){t.gu=(h,f,g)=>{return(_=C(function*(E,w,S,V){let H=w.view.nu(S);H.Ds&&(H=yield H_(E.localStore,w.query,!1).then(({documents:I})=>w.view.nu(I,H)));const G=V&&V.targetChanges.get(w.targetId),X=V&&null!=V.targetMismatches.get(w.targetId),A=w.view.applyChanges(H,E.isPrimaryClient,G,X);return iD(E,w.targetId,A._u),A.snapshot}),function v(E,w,S,V){return _.apply(this,arguments)})(t,h,f,g);var _};const o=yield H_(t.localStore,e,!0),s=new lG(e,o.qs),a=s.nu(o.documents),c=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);iD(t,n,u._u);const d=new cme(e,n,s);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}),WR.apply(this,arguments)}function fme(t,e,n){return KR.apply(this,arguments)}function KR(){return KR=C(function*(t,e,n){const r=W(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!vh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Eu(r.remoteStore,i.targetId),bu(r,i.targetId)}).catch(wo))):(bu(r,i.targetId),yield yu(r.localStore,i.targetId,!0))}),KR.apply(this,arguments)}function pme(t,e){return QR.apply(this,arguments)}function QR(){return QR=C(function*(t,e){const n=W(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Eu(n.remoteStore,r.targetId))}),QR.apply(this,arguments)}function YR(){return YR=C(function*(t,e,n){const r=function gD(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_me.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yme.bind(null,e),e}(t);try{const i=yield function(s,a){const c=W(s),u=xe.now(),d=a.reduce((g,_)=>g.add(_.key),ge());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Wn(),v=ge();return c.Os.getEntries(g,d).next(E=>{_=E,_.forEach((w,S)=>{S.isValidDocument()||(v=v.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(E=>{h=E;const w=[];for(const S of a){const V=jpe(S,h.get(S.key).overlayedDocument);null!=V&&w.push(new Li(S.key,V,K$(V.value.mapValue),at.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(g,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:pH(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new Ke(ie)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ui(r,i.changes),yield Iu(r.remoteStore)}catch(i){const o=wu(i,"Failed to persist write");n.reject(o)}}),YR.apply(this,arguments)}function hG(t,e){return JR.apply(this,arguments)}function JR(){return JR=C(function*(t,e){const n=W(t);try{const r=yield function kge(t,e){const n=W(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(o,d.addedDocuments,h)));let g=f.withSequenceNumber(o.currentSequenceNumber);var v,E,w;null!==e.targetMismatches.get(h)?g=g.withResumeToken(_t.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),E=g,w=d,(0===(v=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0)&&a.push(n.hi.updateTargetData(o,g))});let c=Wn(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function Oz(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wn();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j(iR,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(ee.min())){const d=n.hi.getLastRemoteSnapshotVersion(o).next(h=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Fs=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Y(s.lu,14607):i.removedDocuments.size>0&&(Y(s.lu,42227),s.lu=!1))}),yield Ui(n,r,e)}catch(r){yield wo(r)}}),JR.apply(this,arguments)}function fG(t,e,n){const r=W(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Pu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=W(s);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(u=!0)}),u&&UR(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mme(t,e,n){return XR.apply(this,arguments)}function XR(){return XR=C(function*(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ke(q.comparator);s=s.insert(o,tt.newNoDocument(o,ee.min()));const a=ge().add(o),c=new Ah(ee.min(),new Map,new Ke(ie),s,a);yield hG(r,c),r.du=r.du.remove(o),r.Eu.delete(e),oD(r)}else yield yu(r.localStore,e,!1).then(()=>bu(r,e,n)).catch(wo)}),XR.apply(this,arguments)}function _me(t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=C(function*(t,e){const n=W(t),r=e.batch.batchId;try{const i=yield function Mge(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,f=h.keys();let g=N.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(v=>{const E=u.docVersions.get(_);Y(null!==E,48541),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rD(n,r,null),nD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ui(n,i)}catch(i){yield wo(i)}}),ZR.apply(this,arguments)}function yme(t,e,n){return eD.apply(this,arguments)}function eD(){return eD=C(function*(t,e,n){const r=W(t);try{const i=yield function(s,a){const c=W(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Y(null!==h,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);rD(r,e,n),nD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ui(r,i)}catch(i){yield wo(i)}}),eD.apply(this,arguments)}function nD(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function rD(t,e,n){const r=W(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||pG(t,r)})}function pG(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);null!==n&&(Eu(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oD(t))}function iD(t,e,n){for(const r of n)r instanceof cG?(t.Au.addReference(r.key,e),Eme(t,r)):r instanceof uG?(j(Fo,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||pG(t,r.key)):Q(19791,{yu:r})}function Eme(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(Fo,"New document in limbo: "+n),t.Iu.add(r),oD(t))}function oD(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new q(ve.fromString(e)),r=t.mu.next();t.Eu.set(r,new ume(n)),t.du=t.du.insert(n,r),K_(t.remoteStore,new Fi(pn(ru(n.path)),r,"TargetPurposeLimboResolution",nr.ue))}}function Ui(t,e,n){return sD.apply(this,arguments)}function sD(){return sD=C(function*(t,e,n){const r=W(t),i=[],o=[],s=[];var a;r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:null===(d=n?.targetChanges.get(c.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=rR.Es(c.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.hu.J_(i),yield(a=C(function*(u,d){const h=W(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(d,g=>N.forEach(g.Is,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>N.forEach(g.ds,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!bo(f))throw f;j(iR,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const _=h.Fs.get(g),E=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.Fs=h.Fs.insert(g,E)}}}),function c(u,d){return a.apply(this,arguments)})(r.localStore,o))}),sD.apply(this,arguments)}function Ime(t,e){return aD.apply(this,arguments)}function aD(){return aD=C(function*(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){j(Fo,"User change. New user:",e.toKey());const r=yield kz(n.localStore,e);n.currentUser=e,(o=n).Vu.forEach(a=>{a.forEach(c=>{c.reject(new U(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Vu.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ui(n,r.Bs)}var o}),aD.apply(this,arguments)}function Tme(t,e){const n=W(t),r=n.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge();const o=n.Tu.get(e);if(!o)return i;for(const s of o){const a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Y_(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mme.bind(null,e),e.hu.J_=sme.bind(null,e.eventManager),e.hu.pu=ame.bind(null,e.eventManager),e}let J_=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return C(function*(){r.serializer=sa(n.databaseInfo.databaseId),r.sharedClientState=r.bu(n),r.persistence=r.Du(n),yield r.persistence.start(),r.localStore=r.vu(n),r.gcScheduler=r.Cu(n,r.localStore),r.indexBackfillerScheduler=r.Fu(n,r.localStore)})()}Cu(n,r){return null}Fu(n,r){return null}vu(n){return function Mz(t,e,n,r){return new Nge(t,e,n,r)}(this.persistence,new Nz,n.initialUser,this.serializer)}Du(n){return new JS(j_.Vi,this.serializer)}bu(n){return new zz}terminate(){var n=this;return C(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class mD extends J_{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){return Y(this.persistence.referenceDelegate instanceof B_,46915),new Iz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Du(e){const n=void 0!==this.cacheSizeBytes?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new JS(r=>B_.Vi(r,n),this.serializer)}}let Cu=(()=>{class t{initialize(n,r){var i=this;return C(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>fG(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ime.bind(null,i.syncEngine),yield function MR(t,e){return kR.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new ome}createDatastore(n){const r=sa(n.databaseInfo.databaseId),i=new Bge(n.databaseInfo);return new Gge(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>fG(this.syncEngine,r,0),c=qz.C()?new qz:new Lge,new Wge(i,o,s,a,c);var i,o,s,a,c}createSyncEngine(n,r){return function(o,s,a,c,u,d,h){const f=new lme(o,s,a,c,u,d);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return C(function*(){var r,i,o;yield(o=C(function*(a){const c=W(a);j(aa,"RemoteStore shutting down."),c.Ia.add(5),yield vu(c),c.Ea.shutdown(),c.Aa.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class X_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const Uo="FirestoreClient";class Ome{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=sS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=C(function*(c){j(Uo,"Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(j(Uo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new $t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function yD(t,e){return vD.apply(this,arguments)}function vD(){return vD=C(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j(Uo,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=C(function*(o){r.isEqual(o)||(yield kz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>{Sn("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Sn("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}),vD.apply(this,arguments)}function vG(t,e){return ED.apply(this,arguments)}function ED(){return ED=C(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ID(t){return TD.apply(this,arguments)}(t);j(Uo,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tG(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tG(e.remoteStore,i)),t._onlineComponents=e}),ED.apply(this,arguments)}function TD(){return TD=C(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Uo,"Using user provided OfflineComponentProvider");try{yield yD(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;Sn("Error using user provided cache. Falling back to memory cache: "+e),yield yD(t,new J_)}}else j(Uo,"Using default OfflineComponentProvider"),yield yD(t,new mD(void 0));var i;return t._offlineComponents}),TD.apply(this,arguments)}function Z_(t){return wD.apply(this,arguments)}function wD(){return wD=C(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Uo,"Using user provided OnlineComponentProvider"),yield vG(t,t._uninitializedComponentsProvider._online)):(j(Uo,"Using default OnlineComponentProvider"),yield vG(t,new Cu))),t._onlineComponents}),wD.apply(this,arguments)}function Su(t){return CD.apply(this,arguments)}function CD(){return CD=C(function*(t){const e=yield Z_(t),n=e.eventManager;return n.onListen=dme.bind(null,e.syncEngine),n.onUnlisten=fme.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hme.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pme.bind(null,e.syncEngine),n}),CD.apply(this,arguments)}function AG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const SG=new Map,RG="firestore.googleapis.com";class PG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RG,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ufe(t,e,n,r){if(!0===e&&!0===r)throw new U(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PG({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PG(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Pfe;switch(r.type){case"firstParty":return new xfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return C(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SG.get(n);r&&(j("ComponentProvider","Removing Datastore"),SG.delete(n),r.terminate())}(this),Promise.resolve()}}class zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bs(n,Be._jsonSchema))return new Be(e,r||null,new q(ve.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Rt("string",Be._jsonSchemaVersion),referencePath:Rt("string")};class ei extends zt{constructor(e,n,r){super(e,n,ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new q(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Kme(t,e,...n){if(t=hn(t),uS("collection","path",e),t instanceof Fh){const r=ve.fromString(e,...n);return o$(r),new ei(t,null,r)}{if(!(t instanceof Be||t instanceof ei))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return o$(r),new ei(t.firestore,null,r)}}function NG(t,e,...n){if(t=hn(t),1===arguments.length&&(e=sS.newId()),uS("doc","path",e),t instanceof Fh){const r=ve.fromString(e,...n);return i$(r),new Be(t,null,new q(r))}{if(!(t instanceof Be||t instanceof ei))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return i$(r),new Be(t.firestore,t instanceof ei?t.converter:null,new q(r))}}const kG="AsyncQueue";class xG{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gR(this,"async_queue_retry"),this.oc=()=>{const r=W_();r&&j(kG,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=W_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=W_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new $t;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){var e=this;return C(function*(){if(0!==e.Zu.length){try{yield e.Zu[0](),e.Zu.shift(),e.F_.reset()}catch(n){if(!bo(n))throw n;j(kG,"Operation failed with retryable error: "+n)}e.Zu.length>0&&e.F_.g_(()=>e.cc())}})()}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Tt("INTERNAL UNHANDLED ERROR: ",OG(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=xR.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:OG(this.tc)})}verifyOperationInProgress(){}Pc(){var e=this;return C(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function OG(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}function Ru(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class He extends Fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return C(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new xG(n),e._firestoreClient=void 0,yield n}})()}}function Yme(t,e){const n="object"==typeof t?t:ej(),r="string"==typeof t?t:e||fh,i=function YU(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=bm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function Wme(t,e,n,r={}){var i;t=Ee(t,Fh);const o=kd(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(function cce(t){Yw.apply(this,arguments)}(`https://${c}`),hce("Firestore",!0)),s.host!==RG&&s.host!==c&&Sn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!kc(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if("string"==typeof r.mockUserToken)d=r.mockUserToken,h=Bt.MOCK_USER;else{d=function uce(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wm(JSON.stringify({alg:"none",type:"JWT"})),wm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bt(f)}t._authCredentials=new Nfe(new t$(d,h))}}(i,...o)}return i}function dt(t){if(t._terminated)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function VG(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new vpe(t._databaseId,c,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AG(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator));var c,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ome(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}(t),t._firestoreClient}class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(_t.fromBase64String(e))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rr(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bs(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:Rt("string",rr._jsonSchemaVersion),bytes:Rt("string")};class la{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Du{constructor(e){this._methodName=e}}class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Bs(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Rt("string",ti._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bs(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>"number"==typeof n))return new Pr(e.vectorValues);throw new U(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:Rt("string",Pr._jsonSchemaVersion),vectorValues:Rt("object")};const Zme=/^__.*__$/;class e_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function jG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:t})}}class ey{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ry(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(jG(this.Ec)&&Zme.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class t_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sa(e)}Dc(e,n,r,i=!1){return new ey({Ec:e,methodName:n,bc:r,path:ot.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function da(t){const e=t._freezeSettings(),n=sa(t._databaseId);return new t_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ty(t,e,n,r,i,o={}){const s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);kD("Data must be an object, but it was:",s,r);const a=HG(r,s);let c,u;if(o.merge)c=new qn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=Bh(e,h,n);if(!s.contains(f))throw new U(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GG(d,f)||d.push(f)}c=new qn(d),u=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=s.fieldTransforms;return new e_e(new Xt(a),c,u)}function ha(t,e){if(zG(t=hn(t)))return kD("Unsupported field value:",e,t),HG(t,e);if(t instanceof Du)return function(r,i){if(!jG(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&4!==e.Ec)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=ha(a,i.yc(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=hn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return _H(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=xe.fromDate(r);return{timestampValue:lu(i.serializer,o)}}if(r instanceof xe){const o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(i.serializer,o)}}if(r instanceof ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:LH(i.serializer,r._byteString)};if(r instanceof Be){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pr)return s=r,a=i,{mapValue:{fields:{[TS]:{stringValue:wS},[eu]:{arrayValue:{values:s.toArray().map(u=>{if("number"!=typeof u)throw a.wc("VectorValues must only contain numeric values.");return kS(a.serializer,u)})}}}}};var s,a;throw i.wc(`Unsupported field value: ${r_(r)}`)}(t,e)}function HG(t,e){const n={};return M$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const o=ha(i,e.Vc(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function zG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof ti||t instanceof rr||t instanceof Be||t instanceof Du||t instanceof Pr)}function kD(t,e,n){if(!zG(n)||!s$(n)){const r=r_(n);throw e.wc("an object"===r?t+" a custom object":t+" "+r)}}function Bh(t,e,n){if((e=hn(e))instanceof la)return e._internalPath;if("string"==typeof e)return ny(t,e);throw ry("Field path arguments must be of type string or ",t,!1,void 0,n)}const n_e=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(n_e)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ry(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new U(M.INVALID_ARGUMENT,a+t+c)}function GG(t,e){return t.some(n=>n.isEqual(e))}class $h{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new r_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class r_e extends $h{data(){return super.data()}}function iy(t,e){return"string"==typeof e?ny(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}class XG{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n[eu].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>st(s.doubleValue));return new Pr(o)}convertGeoPoint(e){return new ti(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=g_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=ki(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);Y(KH(r),9688,{name:e});const i=new Ks(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Tt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ir extends $h{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle="NOT SUPPORTED",n):n}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:Rt("string",ir._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class uy extends ir{data(e={}){return super.data(e)}}class or{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uy(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new uy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new uy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:o_e(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=or._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sS.newId();const n=[],r=[],i=[];return this.docs.forEach(o=>{null!==o._document&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle="NOT SUPPORTED",e}}function o_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}or._jsonSchemaVersion="firestore/querySnapshot/1.0",or._jsonSchema={type:Rt("string",or._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Bo extends XG{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function s_e(t,e,n){t=Ee(t,Be);const r=Ee(t.firestore,He),i=function cy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function Gh(t,e){return function(r,i){const o=new $t;return r.asyncQueue.enqueueAndForget(C(function*(){return function gme(t,e,n){return YR.apply(this,arguments)}(yield function bD(t){return Z_(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(dt(t),e)}(r,[ty(da(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,at.none())])}function LD(t,...e){var n,r,i;t=hn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||Ru(e[s])||(o=e[s++]);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ru(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let c,u,d;if(t instanceof Be)u=Ee(t.firestore,He),d=ru(t._key.path),c={next:h=>{e[s]&&e[s](function FD(t,e,n){const r=n.docs.get(e._key),i=new Bo(t);return new ir(t,i,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ee(t,zt);u=Ee(h.firestore,He),d=h._query;const f=new Bo(u);c={next:g=>{e[s]&&e[s](new or(u,f,h,g))},error:e[s+1],complete:e[s+2]},function qG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,g,_,v){const E=new X_(v),w=new BR(g,E,_);return f.asyncQueue.enqueueAndForget(C(function*(){return function OR(t,e){return VR.apply(this,arguments)}(yield Su(f),w)})),()=>{E.Ou(),f.asyncQueue.enqueueAndForget(C(function*(){return function LR(t,e){return FR.apply(this,arguments)}(yield Su(f),w)}))}}(dt(u),d,a,c)}!function(e,n=!0){$c=Pm,mo(new bi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new He(new Mfe(r.getProvider("auth-internal")),new Ofe(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),zn(XB,"4.8.0",e),zn(XB,"4.8.0","esm2017")}();var dy=function(){return dy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},dy.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var E_e={includeMetadataChanges:!1};function S_e(t,e){return void 0===e&&(e={}),function A_e(t){return function BD(t,e){return void 0===e&&(e=E_e),new Ge(function(n){return{unsubscribe:LD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return function rq(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?dy(dy({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class hy{constructor(e){return e}}const aq="firestore",zD=new $("angularfire2.firestore-instances");function N_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hy(r)}}const M_e={provide:class D_e{constructor(){return mb(aq)}},deps:[[new Tr,zD]]},k_e={provide:hy,useFactory:function P_e(t,e){const n=function gb(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(aq,t,e);return n&&new hy(n)},deps:[[new Tr,zD],Vc]},GD=Oc(S_e,!0),qD=Oc(Kme,!0,2),O_e=Oc(NG,!0,2),V_e=Oc(Yme,!0),L_e=Oc(s_e,!0,2);let cq=(()=>{class t{firestore=x(hy);playersCollection=qD(this.firestore,"players");playersData=fb(GD(this.playersCollection,{idField:"id"}).pipe(_e(n=>n.map(r=>({id:Number(r.id),name:r.name})))));predictionsCollection=qD(this.firestore,"predictions");predictionsData=fb(GD(this.predictionsCollection).pipe(_e(n=>n.map(r=>({matchNumber:r.matchNumber,playerId:r.playerId,roundNumber:r.roundNumber,tip:r.tip})))));scoresCollection=qD(this.firestore,"scores");scoresData=fb(GD(this.scoresCollection).pipe(_e(n=>n.map(r=>({matchNumber:r.matchNumber,roundNumber:r.roundNumber,home:r.home,away:r.away,score:r.score,startDate:r.startDate})))));addOrUpdatePrediction(n,r,i,o){var s=this;return C(function*(){try{const c=O_e(s.firestore,`predictions/${n}-${r}-${i}`);yield L_e(c,{playerId:n,roundNumber:r,matchNumber:i,tip:o}),console.log("Prediction saved:",{playerId:n,roundNumber:r,matchNumber:i,tip:o})}catch(a){console.error("Error saving prediction:",a)}})()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uq=(t,e)=>t>e?"1":t<e?"2":"x",lq=(t,e)=>{const[n,r]=t.split("-").map(Number),[i,o]=e.split("-").map(Number);return n===i&&r===o?5:uq(n,r)===uq(i,o)?n-r===i-o?3:1:0},F_e=t=>["/jatekos-statisztika",t],U_e=(t,e)=>e.id;function j_e(t,e){if(1&t&&(Xe(0,"div",1)(1,"div",2),At(2),Ue(),Xe(3,"div",3),At(4),Ue(),Xe(5,"div",4),At(6),Ue()()),2&t){const n=e.$implicit,r=e.$index;Zl("routerLink",zV(4,F_e,n.id)),Ut(2),yi("#",r+1),Ut(2),yi("",n.points," pont"),Ut(2),_c(n.name)}}let B_e=(()=>{class t{dataService=x(cq);playersData=this.dataService.playersData;predictionsData=this.dataService.predictionsData;scoresData=this.dataService.scoresData;players=Lt([]);constructor(){tw(()=>{const n=this.playersData(),r=this.predictionsData(),i=this.scoresData();if(n&&r&&i){const o=n.map(s=>{let a=0;const c=r.filter(u=>u.playerId===s.id);for(const u of c){const d=i.find(h=>h.matchNumber===u.matchNumber&&h.roundNumber===u.roundNumber);!d||!d.score||(a+=lq(u.tip,d.score))}return{...s,points:a}});o.sort((s,a)=>(a.points||0)-(s.points||0)),this.players.set(o)}})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=$l({type:t,selectors:[["app-sorrend-container"]],decls:3,vars:0,consts:[[1,"sorrend-container"],[1,"card",3,"routerLink"],[1,"avatar"],[1,"points"],[1,"name"]],template:function(r,i){1&r&&(Xe(0,"div",0),vg(1,j_e,7,6,"div",1,U_e),Ue()),2&r&&(Ut(),Eg(i.players()))},dependencies:[Nd],styles:[".sorrend-container[_ngcontent-%COMP%]{width:100%;display:grid;gap:16px;grid-template-columns:1fr}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;text-align:center;border:2px solid rgba(0,0,0,.05);box-shadow:0 8px 20px #0000001f,0 4px 8px #0000000f;transition:transform .3s ease,box-shadow .3s ease,border-color .3s ease;cursor:pointer}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#ccc;display:flex;align-items:center;justify-content:center;font-weight:700;margin:0 auto 16px;font-size:1.2rem}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{color:#60c21f;font-size:2rem;margin:0}.sorrend-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:8px;font-size:1rem;color:#333;font-weight:500}@media (min-width: 600px){.sorrend-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.sorrend-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}"]})}return t})();const ku=new $("",{providedIn:"root",factory:()=>vy}),vy="always";Promise.resolve(),Promise.resolve();let zye=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=tg({type:t});static \u0275inj=Gu({})}return t})(),qye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ku,useValue:n.callSetDisabledState??vy}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tg({type:t});static \u0275inj=Gu({imports:[zye]})}return t})();const Wye=(t,e)=>e.roundNumber,Kye=(t,e)=>e.matchNumber;function Qye(t,e){1&t&&ed(0,"th")}function Yye(t,e){if(1&t){const n=_T();Xe(0,"input",4),Cn("input",function(i){$f(n);const o=un(4);return Hf(o.sanitizeNumber(i,o.editingValueHome))}),Ue(),At(1," - "),Xe(2,"input",4),Cn("input",function(i){$f(n);const o=un(4);return Hf(o.sanitizeNumber(i,o.editingValueAway))}),Ue()}if(2&t){const n=un(4);Zl("value",n.editingValueHome()),Ut(2),Zl("value",n.editingValueAway())}}function Jye(t,e){if(1&t&&At(0),2&t){const n=un().$implicit;yi(" ",un(3).getPoints(n)," ")}}function Xye(t,e){if(1&t){const n=_T();Xe(0,"td")(1,"button",5),Cn("click",function(){$f(n);const i=un().$implicit,o=un().$implicit;return Hf(un(2).onClickSaveEditTip(o.roundNumber,i.matchNumber,i.tip))}),At(2),Ue()()}if(2&t){let n;const r=un().$implicit,i=un().$implicit,o=un(2);Ut(2),yi(" ",(null==(n=o.editingTip())?null:n.roundNumber)===i.roundNumber&&(null==(n=o.editingTip())?null:n.matchNumber)===r.matchNumber?"Ment\xe9s":"Szerkeszt\xe9s"," ")}}function Zye(t,e){if(1&t&&(Xe(0,"tr")(1,"td"),At(2),Ue(),Xe(3,"td"),At(4),Ue(),Xe(5,"td"),At(6),Ue(),Xe(7,"td"),Jl(8,Yye,3,2)(9,Jye,1,1),Ue(),Jl(10,Xye,3,1,"td"),Ue()),2&t){let n;const r=e.$implicit,i=un().$implicit,o=un(2);Ut(2),_c(o.getPair(i.roundNumber,r.matchNumber)),Ut(2),_c(r.tip||"-"),Ut(2),_c(o.getScore(i.roundNumber,r.matchNumber)),Ut(2),Xl((null==(n=o.editingTip())?null:n.roundNumber)===i.roundNumber&&(null==(n=o.editingTip())?null:n.matchNumber)===r.matchNumber?8:9),Ut(2),Xl(o.isLastRound(i.roundNumber)&&o.canEdit(i.roundNumber,r.matchNumber)?10:-1)}}function eve(t,e){if(1&t&&(Xe(0,"h2"),At(1),Ue(),Xe(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th"),At(7,"P\xe1ros\xedt\xe1s"),Ue(),Xe(8,"th"),At(9,"Tipp"),Ue(),Xe(10,"th"),At(11,"Val\xf3s eredm\xe9ny"),Ue(),Xe(12,"th"),At(13,"Pont"),Ue(),Jl(14,Qye,1,0,"th"),Ue()(),Xe(15,"tbody"),vg(16,Zye,11,5,"tr",null,Kye),Ue()()()),2&t){const n=e.$implicit,r=un(2);Ut(),yi("",n.roundNumber,". fordul\xf3"),Ut(13),Xl(r.isLastRound(n.roundNumber)?14:-1),Ut(2),Eg(n.tips)}}function tve(t,e){if(1&t&&(Xe(0,"h1"),At(1),Ue(),vg(2,eve,18,2,null,null,Wye)),2&t){const n=un();Ut(),yi("Statisztik\xe1k: ",n.playerName()),Ut(),Eg(n.playerPredictions())}}function nve(t,e){1&t&&(Xe(0,"p"),At(1,"Nem tal\xe1lhat\xf3 j\xe1t\xe9kos ezzel az ID-val."),Ue())}const rve=[{path:"",component:B_e},{path:"jatekos-statisztika/:id",component:(()=>{class t{route=x(Os);dataService=x(cq);playerId=$n(()=>this.route.snapshot.paramMap.get("id"));playerName=Lt("");playerPredictions=Lt([]);scores=this.dataService.scoresData;editingTip=Lt(null);editingValueHome=Lt(0);editingValueAway=Lt(0);constructor(){tw(()=>{if(this.playerId()&&this.dataService.predictionsData()&&this.dataService.scoresData()){const r=(this.dataService.predictionsData()?.filter(f=>f.playerId===Number(this.playerId()))||[]).reduce((f,g)=>{let _=f.find(v=>v.roundNumber===g.roundNumber);return _||(_={roundNumber:g.roundNumber,tips:[]},f.push(_)),_.tips.push(g),f},[]);r.sort((f,g)=>f.roundNumber-g.roundNumber);let i=this.dataService.scoresData()??[];const o=new Date,s=i.filter(f=>f.startDate&&f.startDate.toDate()>o),a=s.reduce((f,g)=>g.startDate.toDate()<f.startDate.toDate()?g:f,s[0]);if(a){const f=a.startDate.toDate(),g=new Date(f.getTime()+6048e5);i=s.filter(v=>{const E=v.startDate.toDate();return E>=f&&E<=g})}const c=Array.from(new Set(i.map(f=>f.roundNumber))),u=Math.max(...c),d=i.filter(f=>f.roundNumber===u);let h=r.find(f=>f.roundNumber===u);h||(h={roundNumber:u,tips:[]},r.push(h)),h.tips=d.sort((f,g)=>f.matchNumber-g.matchNumber).map(f=>h.tips.find(_=>_.matchNumber===f.matchNumber)??{roundNumber:u,matchNumber:f.matchNumber,playerId:Number(this.playerId()),tip:"",startDate:f.startDate?new Date(1e3*f.startDate.seconds+(f.startDate.nanoseconds||0)/1e6):void 0}),this.playerPredictions.set(r),this.playerName.set(this.dataService.playersData()?.find(f=>f.id===Number(this.playerId()))?.name||"")}})}getPoints(n){const i=this.dataService.scoresData()?.find(o=>o.roundNumber===n.roundNumber&&o.matchNumber===n.matchNumber)?.score;return lq(n.tip,i||"")}getPair(n,r){const i=this.scores()?.find(o=>o.roundNumber===n&&o.matchNumber===r);return i?`${i.home}-${i.away}`:""}getScore(n,r){const i=this.scores()?.find(o=>o.roundNumber===n&&o.matchNumber===r);return i&&i.score?i.score:"-"}isLastRound(n){return!Array.from(new Set(this.scores()?.map(i=>i.roundNumber)??[])).some(i=>i>n)}onClickSaveEditTip(n,r,i){if(this.editingTip()?.roundNumber!==n||this.editingTip()?.matchNumber!==r)this.editingTip.set({roundNumber:n,matchNumber:r}),this.editingValueHome.set(i?i.split("-").map(Number)[0]:0),this.editingValueAway.set(i?i.split("-").map(Number)[1]:0);else{this.dataService.addOrUpdatePrediction(Number(this.playerId())||0,n,r,`${this.editingValueHome()}-${this.editingValueAway()}`);const o=this.playerPredictions().map(s=>s.roundNumber===n?{...s,tips:s.tips.map(a=>a.matchNumber===r?{...a,tip:`${this.editingValueHome()}-${this.editingValueAway()}`}:a)}:s);this.playerPredictions.set(o),this.editingTip.set(null)}}sanitizeNumber(n,r){const i=n.target,o=i.value.replace(/\D/g,"");r.set(Number(o)),i.value=o}canEdit(n,r){const i=this.scores()?.find(h=>h.roundNumber===n&&h.matchNumber===r);if(!i?.startDate)return!1;let o;o=i.startDate.toDate?i.startDate.toDate():"seconds"in i.startDate?new Date(1e3*i.startDate.seconds+(i.startDate.nanoseconds||0)/1e6):new Date(i.startDate);const s=new Date,c=(o.getDay()+6)%7,u=new Date(o);u.setHours(0,0,0,0),u.setDate(o.getDate()-c);const d=new Date(o.getTime()-72e5);return s>=u&&s<=d}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=$l({type:t,selectors:[["app-jatekos-statisztika"]],decls:7,vars:1,consts:[[1,"container"],["routerLink","/",1,"back-btn"],[1,"predictions-table-wrapper"],[1,"predictions-table"],["type","text",3,"input","value"],[1,"edit-btn",3,"click"]],template:function(r,i){1&r&&(Xe(0,"div",0)(1,"button",1),At(2,"Vissza a f\u0151oldalra"),Ue(),Jl(3,tve,4,1)(4,nve,2,0,"p"),Xe(5,"button",1),At(6,"Vissza a f\u0151oldalra"),Ue()()),2&r&&(Ut(3),Xl(i.playerPredictions()&&i.playerName()?3:4))},dependencies:[Nd,qye],styles:[".container[_ngcontent-%COMP%]{padding:1rem;max-width:800px;margin:0 auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.predictions-table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.predictions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px;margin-bottom:2rem}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5rem;text-align:center}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:60px;padding:.25rem .5rem;margin:0 .2rem;border:1px solid #ccc;border-radius:.3rem;text-align:center;font-weight:700;font-size:.9rem;transition:all .2s ease-in-out}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#2575fc;box-shadow:0 0 5px #2575fc80;transform:scale(1.05)}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-inner-spin-button, .predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-outer-spin-button, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-inner-spin-button, .predictions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.predictions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0}.back-btn[_ngcontent-%COMP%]{width:fit-content;margin:1rem auto;padding:.5rem 1rem;padding:.3rem .6rem;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:.3rem;cursor:pointer;font-weight:700;transition:all .2s ease-in-out}.back-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}.edit-btn[_ngcontent-%COMP%]{padding:.3rem .6rem;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:.3rem;cursor:pointer;font-weight:700;transition:all .2s ease-in-out}.edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 28px #0003,0 6px 12px #0000001a}"]})}return t})()}],ive={providers:[function hoe(...t){const e=[I2,D2,S2,{provide:tm,useExisting:S2},{provide:nm,useFactory:()=>x(w2,{optional:!0})??x(D2)},{provide:yd,useValue:doe,multi:!0},{provide:Ew,useValue:!0},{provide:M2,useClass:loe}];for(const n of t)e.push(...n.\u0275providers);return ii(e)}(),function G3(){return ii([(t=()=>{x(z3)},ii([{provide:ur,multi:!0,useValue:t}]))]);var t}(),function rte(){return Nt("NgZoneless"),ii([{provide:Ki,useExisting:VT},{provide:ye,useClass:$I},{provide:Wf,useValue:!0},{provide:Qv,useValue:!1},[]])}(),function Gae(t,...e){return ii([{provide:zw,multi:!0,useValue:t},[],{provide:Os,useFactory:RU,deps:[Nc]},{provide:Ql,multi:!0,useFactory:DU},e.map(n=>n.\u0275providers)])}(rve),function koe(...t){const e=[],n=new Set;for(const{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);const r=n.has(po.HttpTransferCacheOptions);return ii([[],[],$ne(),n.has(po.NoHttpTransferCache)||r?[]:Soe({}),e])}(function Moe(){return function vd(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}(po.EventReplay,dF())}()),function nle(t,...e){return ii([Zue,ele,{provide:vb,useFactory:tle(t),multi:!0,deps:[ye,cn,yb,...e]}])}(()=>rle({apiKey:"AIzaSyBLKm358fi1UccnZda8-svRe2sUh60nCPs",authDomain:"tippjatek-63c96.firebaseapp.com",projectId:"tippjatek-63c96",storageBucket:"tippjatek-63c96.firebasestorage.app",messagingSenderId:"590907780911",appId:"1:590907780911:web:1e80613c93f09a5fb6fbda"})),function x_e(t,...e){return zn("angularfire",pb.full,"fst"),ii([k_e,M_e,{provide:zD,useFactory:N_e(t),multi:!0,deps:[ye,cn,yb,hj,[new Tr,HB],[new Tr,kj],...e]}])}(()=>V_e())]};(function fre(t,e,n){return Ine({rootComponent:t,platformRef:n?.platformRef,...OF(e)})})((()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=$l({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-container"],[1,"title"]],template:function(r,i){1&r&&(Xe(0,"div",0)(1,"h1",1),At(2,"Tippj\xe1t\xe9k"),Ue(),ed(3,"router-outlet"),Ue())},dependencies:[Vw],styles:[".main-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:16px;display:flex;flex-direction:column;background:#f0f5e5}.main-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#60c21f;font-size:60px;align-self:center}"]})}return t})(),ive).catch(t=>console.error(t))}},va=>{va(va.s=303)}]);